const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/game-core-wRTDXRVf.js","assets/game-managers-D_9SiR8G.js","assets/game-core-utils-BCWYXCml.js","assets/game-systems-CGQzcvRC.js"])))=>i.map(i=>d[i]);
function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t={};function n(){document.getElementById("pause-menu").style.display="none",document.getElementById("pause-menu").setAttribute("aria-hidden","true")}function o(){document.getElementById("settings-menu").style.display="block",document.getElementById("settings-menu").setAttribute("aria-hidden","false"),document.getElementById("save-settings-btn").focus()}function c(){document.getElementById("settings-menu").style.display="none",document.getElementById("settings-menu").setAttribute("aria-hidden","true")}function d(){document.getElementById("main-menu").style.display="none",document.getElementById("main-menu").setAttribute("aria-hidden","true")}function l(e){const t=document.getElementById(e);return"none"!==t.style.display&&"true"!==t.getAttribute("aria-hidden")}document.addEventListener("DOMContentLoaded",async()=>{try{const e=document.getElementById("loading-screen");e.style.display="flex";const{default:s}=await function(e,n){let o=Promise.resolve();if(n&&n.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(null==c?void 0:c.nonce)||(null==c?void 0:c.getAttribute("nonce"));o=e(n.map(e=>{if((e=function(e){return"/"+e}(e))in t)return;t[e]=!0;const n=e.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(e,'"]').concat(o)))return;const c=document.createElement("link");return c.rel=n?"stylesheet":"modulepreload",n||(c.as="script"),c.crossOrigin="",c.href=e,d&&c.setAttribute("nonce",d),document.head.appendChild(c),n?new Promise((t,n)=>{c.addEventListener("load",t),c.addEventListener("error",()=>n(new Error("Unable to preload CSS for ".concat(e))))}):void 0}))}function c(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&c(e.reason);return e().catch(c)})}(async()=>{const{default:e}=await import("./game-core-wRTDXRVf.js").then(e=>e.G);return{default:e}},__vite__mapDeps([0,1,2,3])),a=new s({debug:!0,enableAchievements:!0,enableDailyChallenges:!0,enableAccessibility:!0});!function(e){document.getElementById("resume-btn").addEventListener("click",()=>{e.resume(),n()}),document.getElementById("settings-btn").addEventListener("click",()=>{n(),o()}),document.getElementById("main-menu-btn").addEventListener("click",()=>{e.pause(),n(),document.getElementById("main-menu").style.display="block",document.getElementById("main-menu").setAttribute("aria-hidden","false"),document.getElementById("start-game-btn").focus()}),document.getElementById("save-settings-btn").addEventListener("click",()=>{!function(e){const t={debug:document.getElementById("debug-toggle").checked,enableAchievements:document.getElementById("achievements-toggle").checked,enableDailyChallenges:document.getElementById("challenges-toggle").checked,screenReader:document.getElementById("screen-reader-toggle").checked,highContrast:document.getElementById("high-contrast-toggle").checked,colorblindMode:document.getElementById("colorblind-select").value,textScaling:parseFloat(document.getElementById("text-scaling-slider").value),motionReduction:document.getElementById("motion-reduction-toggle").checked,masterVolume:parseFloat(document.getElementById("master-volume-slider").value),sfxVolume:parseFloat(document.getElementById("sfx-volume-slider").value),musicVolume:parseFloat(document.getElementById("music-volume-slider").value)};e.updateConfig(t),function(e){document.documentElement.classList.toggle("high-contrast",e.highContrast),document.documentElement.className=document.documentElement.className.replace(/colorblind-\w+/g,""),"none"!==e.colorblindMode&&document.documentElement.classList.add("colorblind-".concat(e.colorblindMode));document.documentElement.style.setProperty("--text-scale",e.textScaling),document.documentElement.classList.toggle("motion-reduced",e.motionReduction)}(t)}(e),c()}),document.getElementById("cancel-settings-btn").addEventListener("click",()=>{c()}),document.getElementById("start-game-btn").addEventListener("click",()=>{d(),e.resume()}),document.getElementById("settings-menu-btn").addEventListener("click",()=>{d(),o()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&(l("settings-menu")?c():l("main-menu")?d():l("pause-menu")?n():(e.pause(),document.getElementById("pause-menu").style.display="block",document.getElementById("pause-menu").setAttribute("aria-hidden","false"),document.getElementById("resume-btn").focus()))}),function(e){document.getElementById("screen-reader-toggle").addEventListener("change",t=>{var n;const o=t.target.checked;null==(n=e.getManager("accessibility"))||n.updateSettings({screenReader:o})}),document.getElementById("high-contrast-toggle").addEventListener("change",e=>{const t=e.target.checked;document.documentElement.classList.toggle("high-contrast",t)}),document.getElementById("colorblind-select").addEventListener("change",e=>{const t=e.target.value;document.documentElement.className=document.documentElement.className.replace(/colorblind-\w+/g,""),"none"!==t&&document.documentElement.classList.add("colorblind-".concat(t))}),document.getElementById("text-scaling-slider").addEventListener("input",e=>{const t=parseFloat(e.target.value);document.documentElement.style.setProperty("--text-scale",t)}),document.getElementById("motion-reduction-toggle").addEventListener("change",e=>{const t=e.target.checked;document.documentElement.classList.toggle("motion-reduced",t)})}(e)}(a),await a.start(),e.style.display="none",document.getElementById("game-area").focus()}catch(e){document.getElementById("loading-screen").innerHTML='<div class="error-content"><h2>Failed to load game</h2><p>Please refresh the page to try again.</p></div>'}});export{e as __vite_legacy_guard};
//# sourceMappingURL=main-pC-LDj-s.js.map
