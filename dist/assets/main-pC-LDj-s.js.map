{"version":3,"mappings":"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","names":["hidePauseMenu","document","getElementById","style","display","setAttribute","showSettingsMenu","focus","hideSettingsMenu","hideMainMenu","isMenuVisible","menuId","menu","getAttribute","addEventListener","async","loadingScreen","default","GameRefactored","__vitePreload","import","then","n","G","__VITE_PRELOAD__","game","debug","enableAchievements","enableDailyChallenges","enableAccessibility","resume","pause","settings","checked","screenReader","highContrast","colorblindMode","value","textScaling","parseFloat","motionReduction","masterVolume","sfxVolume","musicVolume","updateConfig","documentElement","classList","toggle","className","replace","add","concat","setProperty","applyAccessibilitySettings","saveSettings","event","key","enabled","target","_a","getManager","updateSettings","mode","scale","setupAccessibilityHandlers","setupUIEventHandlers","start","error","innerHTML"],"ignoreList":[],"sources":["../../index.html?html-proxy&index=0.js"],"sourcesContent":["\n        // Initialize the game when the page loads\n        document.addEventListener('DOMContentLoaded', async () => {\n            try {\n                // Show loading screen\n                const loadingScreen = document.getElementById('loading-screen');\n                loadingScreen.style.display = 'flex';\n                \n                // Import and initialize the game\n                const { default: GameRefactored } = await import('/src/GameRefactored.js');\n                \n                // Create game instance\n                const game = new GameRefactored({\n                    debug: true,\n                    enableAchievements: true,\n                    enableDailyChallenges: true,\n                    enableAccessibility: true\n                });\n                \n                // Set up UI event handlers\n                setupUIEventHandlers(game);\n                \n                // Start the game\n                await game.start();\n                \n                // Hide loading screen\n                loadingScreen.style.display = 'none';\n                \n                // Focus on game area\n                document.getElementById('game-area').focus();\n                \n                console.log('Game initialized successfully');\n            } catch (error) {\n                console.error('Failed to initialize game:', error);\n                document.getElementById('loading-screen').innerHTML = \n                    '<div class=\"error-content\"><h2>Failed to load game</h2><p>Please refresh the page to try again.</p></div>';\n            }\n        });\n        \n        // Set up UI event handlers\n        function setupUIEventHandlers(game) {\n            // Pause menu handlers\n            document.getElementById('resume-btn').addEventListener('click', () => {\n                game.resume();\n                hidePauseMenu();\n            });\n            \n            document.getElementById('settings-btn').addEventListener('click', () => {\n                hidePauseMenu();\n                showSettingsMenu();\n            });\n            \n            document.getElementById('main-menu-btn').addEventListener('click', () => {\n                game.pause();\n                hidePauseMenu();\n                showMainMenu();\n            });\n            \n            // Settings menu handlers\n            document.getElementById('save-settings-btn').addEventListener('click', () => {\n                saveSettings(game);\n                hideSettingsMenu();\n            });\n            \n            document.getElementById('cancel-settings-btn').addEventListener('click', () => {\n                hideSettingsMenu();\n            });\n            \n            // Main menu handlers\n            document.getElementById('start-game-btn').addEventListener('click', () => {\n                hideMainMenu();\n                game.resume();\n            });\n            \n            document.getElementById('settings-menu-btn').addEventListener('click', () => {\n                hideMainMenu();\n                showSettingsMenu();\n            });\n            \n            // Keyboard shortcuts\n            document.addEventListener('keydown', (event) => {\n                if (event.key === 'Escape') {\n                    if (isMenuVisible('settings-menu')) {\n                        hideSettingsMenu();\n                    } else if (isMenuVisible('main-menu')) {\n                        hideMainMenu();\n                    } else if (isMenuVisible('pause-menu')) {\n                        hidePauseMenu();\n                    } else {\n                        game.pause();\n                        showPauseMenu();\n                    }\n                }\n            });\n            \n            // Accessibility settings handlers\n            setupAccessibilityHandlers(game);\n        }\n        \n        // Menu visibility functions\n        function showPauseMenu() {\n            document.getElementById('pause-menu').style.display = 'block';\n            document.getElementById('pause-menu').setAttribute('aria-hidden', 'false');\n            document.getElementById('resume-btn').focus();\n        }\n        \n        function hidePauseMenu() {\n            document.getElementById('pause-menu').style.display = 'none';\n            document.getElementById('pause-menu').setAttribute('aria-hidden', 'true');\n        }\n        \n        function showSettingsMenu() {\n            document.getElementById('settings-menu').style.display = 'block';\n            document.getElementById('settings-menu').setAttribute('aria-hidden', 'false');\n            document.getElementById('save-settings-btn').focus();\n        }\n        \n        function hideSettingsMenu() {\n            document.getElementById('settings-menu').style.display = 'none';\n            document.getElementById('settings-menu').setAttribute('aria-hidden', 'true');\n        }\n        \n        function showMainMenu() {\n            document.getElementById('main-menu').style.display = 'block';\n            document.getElementById('main-menu').setAttribute('aria-hidden', 'false');\n            document.getElementById('start-game-btn').focus();\n        }\n        \n        function hideMainMenu() {\n            document.getElementById('main-menu').style.display = 'none';\n            document.getElementById('main-menu').setAttribute('aria-hidden', 'true');\n        }\n        \n        function isMenuVisible(menuId) {\n            const menu = document.getElementById(menuId);\n            return menu.style.display !== 'none' && menu.getAttribute('aria-hidden') !== 'true';\n        }\n        \n        // Settings handlers\n        function saveSettings(game) {\n            const settings = {\n                debug: document.getElementById('debug-toggle').checked,\n                enableAchievements: document.getElementById('achievements-toggle').checked,\n                enableDailyChallenges: document.getElementById('challenges-toggle').checked,\n                screenReader: document.getElementById('screen-reader-toggle').checked,\n                highContrast: document.getElementById('high-contrast-toggle').checked,\n                colorblindMode: document.getElementById('colorblind-select').value,\n                textScaling: parseFloat(document.getElementById('text-scaling-slider').value),\n                motionReduction: document.getElementById('motion-reduction-toggle').checked,\n                masterVolume: parseFloat(document.getElementById('master-volume-slider').value),\n                sfxVolume: parseFloat(document.getElementById('sfx-volume-slider').value),\n                musicVolume: parseFloat(document.getElementById('music-volume-slider').value)\n            };\n            \n            // Update game configuration\n            game.updateConfig(settings);\n            \n            // Apply accessibility settings\n            applyAccessibilitySettings(settings);\n        }\n        \n        // Accessibility handlers\n        function setupAccessibilityHandlers(game) {\n            // Screen reader toggle\n            document.getElementById('screen-reader-toggle').addEventListener('change', (event) => {\n                const enabled = event.target.checked;\n                game.getManager('accessibility')?.updateSettings({ screenReader: enabled });\n            });\n            \n            // High contrast toggle\n            document.getElementById('high-contrast-toggle').addEventListener('change', (event) => {\n                const enabled = event.target.checked;\n                document.documentElement.classList.toggle('high-contrast', enabled);\n            });\n            \n            // Colorblind mode\n            document.getElementById('colorblind-select').addEventListener('change', (event) => {\n                const mode = event.target.value;\n                document.documentElement.className = document.documentElement.className.replace(/colorblind-\\w+/g, '');\n                if (mode !== 'none') {\n                    document.documentElement.classList.add(`colorblind-${mode}`);\n                }\n            });\n            \n            // Text scaling\n            document.getElementById('text-scaling-slider').addEventListener('input', (event) => {\n                const scale = parseFloat(event.target.value);\n                document.documentElement.style.setProperty('--text-scale', scale);\n            });\n            \n            // Motion reduction\n            document.getElementById('motion-reduction-toggle').addEventListener('change', (event) => {\n                const enabled = event.target.checked;\n                document.documentElement.classList.toggle('motion-reduced', enabled);\n            });\n        }\n        \n        // Apply accessibility settings\n        function applyAccessibilitySettings(settings) {\n            // Apply high contrast\n            document.documentElement.classList.toggle('high-contrast', settings.highContrast);\n            \n            // Apply colorblind mode\n            document.documentElement.className = document.documentElement.className.replace(/colorblind-\\w+/g, '');\n            if (settings.colorblindMode !== 'none') {\n                document.documentElement.classList.add(`colorblind-${settings.colorblindMode}`);\n            }\n            \n            // Apply text scaling\n            document.documentElement.style.setProperty('--text-scale', settings.textScaling);\n            \n            // Apply motion reduction\n            document.documentElement.classList.toggle('motion-reduced', settings.motionReduction);\n        }\n    "],"file":"assets/main-pC-LDj-s.js"}