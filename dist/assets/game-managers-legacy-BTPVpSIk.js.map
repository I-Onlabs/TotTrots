{"version":3,"file":"game-managers-legacy-BTPVpSIk.js","sources":["../../src/managers/GameManager.js","../../src/managers/AchievementManager.js","../../src/managers/DailyChallengeManager.js","../../src/managers/AccessibilityManager.js"],"sourcesContent":["/**\n * GameManager.js - Core game management with explicit lifecycle and dependency injection\n *\n * This manager handles:\n * - Game state management\n * - Level progression\n * - Score management\n * - Player management\n * - Game object lifecycle\n */\n\nexport class GameManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('GameManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('GameManager requires logger dependency');\n    }\n\n    // Game state\n    this.state = {\n      currentLevel: 1,\n      maxLevel: 10,\n      score: 0,\n      highScore: 0,\n      lives: 3,\n      levelStartTime: null,\n      levelCompleted: false,\n      gameOver: false,\n    };\n\n    // Level configuration\n    this.levelConfigs = this.initializeLevelConfigs();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('GameManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing GameManager...');\n\n    // Load saved game data\n    await this.loadGameData();\n\n    // Set up level\n    this.setupLevel(this.state.currentLevel);\n\n    this.logger.info('GameManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up GameManager...');\n\n    // Save game data\n    this.saveGameData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('GameManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Update level timer\n    if (this.state.levelStartTime && !this.state.levelCompleted) {\n      const levelTime = Date.now() - this.state.levelStartTime;\n\n      // Check for level timeout\n      const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n      if (levelConfig.timeLimit && levelTime > levelConfig.timeLimit) {\n        this.handleLevelTimeout();\n      }\n    }\n\n    // Update game objects based on level\n    this.updateLevelSpecificLogic(deltaTime, gameState);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Player events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Game events\n    this.eventBus.on('game:input', this.handleGameInput.bind(this));\n    this.eventBus.on('game:configChanged', this.handleConfigChange.bind(this));\n\n    // Achievement events\n    this.eventBus.on(\n      'achievement:unlocked',\n      this.handleAchievementUnlock.bind(this)\n    );\n    this.eventBus.on(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompletion.bind(this)\n    );\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.off(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.off(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n    this.eventBus.off(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.off(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.off('game:input', this.handleGameInput.bind(this));\n    this.eventBus.removeListener(\n      'game:configChanged',\n      this.handleConfigChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'achievement:unlocked',\n      this.handleAchievementUnlock.bind(this)\n    );\n    this.eventBus.removeListener(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompletion.bind(this)\n    );\n  }\n\n  /**\n   * Initialize level configurations\n   */\n  initializeLevelConfigs() {\n    return [\n      { timeLimit: 60000, targetScore: 1000, difficulty: 'easy' },\n      { timeLimit: 90000, targetScore: 2500, difficulty: 'easy' },\n      { timeLimit: 120000, targetScore: 5000, difficulty: 'medium' },\n      { timeLimit: 150000, targetScore: 7500, difficulty: 'medium' },\n      { timeLimit: 180000, targetScore: 10000, difficulty: 'hard' },\n      { timeLimit: 200000, targetScore: 15000, difficulty: 'hard' },\n      { timeLimit: 220000, targetScore: 20000, difficulty: 'expert' },\n      { timeLimit: 240000, targetScore: 25000, difficulty: 'expert' },\n      { timeLimit: 260000, targetScore: 30000, difficulty: 'master' },\n      { timeLimit: 300000, targetScore: 40000, difficulty: 'master' },\n    ];\n  }\n\n  /**\n   * Set up a level\n   */\n  setupLevel(levelNumber) {\n    this.state.currentLevel = levelNumber;\n    this.state.levelStartTime = Date.now();\n    this.state.levelCompleted = false;\n    this.state.gameOver = false;\n\n    const levelConfig = this.levelConfigs[levelNumber - 1];\n    if (!levelConfig) {\n      this.logger.error(`Invalid level number: ${levelNumber}`);\n      return;\n    }\n\n    this.logger.info(\n      `Setting up level ${levelNumber} (${levelConfig.difficulty})`\n    );\n\n    // Emit level start event\n    this.eventBus.emit('level:started', {\n      level: levelNumber,\n      config: levelConfig,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    this.state.score += data.scoreChange || 0;\n\n    // Update high score\n    if (this.state.score > this.state.highScore) {\n      this.state.highScore = this.state.score;\n    }\n\n    // Check level completion based on score\n    const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n    if (\n      levelConfig &&\n      this.state.score >= levelConfig.targetScore &&\n      !this.state.levelCompleted\n    ) {\n      this.completeLevel();\n    }\n\n    this.eventBus.emit('game:scoreUpdated', {\n      score: this.state.score,\n      highScore: this.state.highScore,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.state.lives -= data.damage || 1;\n\n    if (this.state.lives <= 0) {\n      this.gameOver();\n    } else {\n      this.eventBus.emit('game:livesUpdated', {\n        lives: this.state.lives,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    const scoreValue = data.scoreValue || 0;\n    this.handleScoreChange({ scoreChange: scoreValue });\n\n    this.logger.info(`Item collected: ${data.itemType}, +${scoreValue} points`);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.completeLevel();\n  }\n\n  /**\n   * Complete the current level\n   */\n  completeLevel() {\n    if (this.state.levelCompleted) {\n      return;\n    }\n\n    this.state.levelCompleted = true;\n    const levelTime = Date.now() - this.state.levelStartTime;\n\n    this.logger.info(\n      `Level ${this.state.currentLevel} completed in ${levelTime}ms`\n    );\n\n    // Emit level completion event\n    this.eventBus.emit('level:completed', {\n      level: this.state.currentLevel,\n      score: this.state.score,\n      time: levelTime,\n      timestamp: Date.now(),\n    });\n\n    // Check if game is complete\n    if (this.state.currentLevel >= this.state.maxLevel) {\n      this.completeGame();\n    } else {\n      // Advance to next level after delay\n      setTimeout(() => {\n        this.setupLevel(this.state.currentLevel + 1);\n      }, 2000);\n    }\n  }\n\n  /**\n   * Handle level timeout\n   */\n  handleLevelTimeout() {\n    this.logger.info(`Level ${this.state.currentLevel} timed out`);\n\n    this.eventBus.emit('level:timeout', {\n      level: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n\n    // Lose a life and restart level\n    this.handlePlayerDamaged({ damage: 1 });\n    if (!this.state.gameOver) {\n      this.setupLevel(this.state.currentLevel);\n    }\n  }\n\n  /**\n   * Complete the entire game\n   */\n  completeGame() {\n    this.logger.info('Game completed!');\n\n    this.eventBus.emit('game:completed', {\n      finalScore: this.state.score,\n      finalLevel: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle game over\n   */\n  gameOver() {\n    this.state.gameOver = true;\n\n    this.logger.info('Game Over');\n\n    this.eventBus.emit('game:gameOver', {\n      finalScore: this.state.score,\n      finalLevel: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle game input\n   */\n  handleGameInput(data) {\n    // Handle specific game inputs\n    switch (data.type) {\n      case 'restart':\n        this.restartGame();\n        break;\n      case 'nextLevel':\n        if (this.state.levelCompleted) {\n          this.setupLevel(this.state.currentLevel + 1);\n        }\n        break;\n      case 'pause':\n        this.eventBus.emit('game:pauseRequested', { timestamp: Date.now() });\n        break;\n    }\n  }\n\n  /**\n   * Handle config changes\n   */\n  handleConfigChange(data) {\n    this.config = { ...this.config, ...data.config };\n    this.logger.info('GameManager config updated');\n  }\n\n  /**\n   * Handle achievement unlock\n   */\n  handleAchievementUnlock(data) {\n    // Award bonus points for achievements\n    const bonusScore = data.bonusScore || 0;\n    if (bonusScore > 0) {\n      this.handleScoreChange({ scoreChange: bonusScore });\n    }\n\n    // Apply achievement effects\n    if (data.effects) {\n      this.applyAchievementEffects(data.effects);\n    }\n  }\n\n  /**\n   * Handle daily challenge completion\n   */\n  handleDailyChallengeCompletion(data) {\n    // Award bonus points for daily challenges\n    const bonusScore = data.bonusScore || 0;\n    if (bonusScore > 0) {\n      this.handleScoreChange({ scoreChange: bonusScore });\n    }\n\n    // Apply challenge effects\n    if (data.effects) {\n      this.applyChallengeEffects(data.effects);\n    }\n  }\n\n  /**\n   * Apply achievement effects\n   */\n  applyAchievementEffects(effects) {\n    if (effects.extraLives) {\n      this.state.lives += effects.extraLives;\n    }\n    if (effects.scoreMultiplier) {\n      // Apply score multiplier for a limited time\n      this.temporaryScoreMultiplier = effects.scoreMultiplier;\n      setTimeout(() => {\n        this.temporaryScoreMultiplier = 1;\n      }, effects.duration || 30000);\n    }\n  }\n\n  /**\n   * Apply challenge effects\n   */\n  applyChallengeEffects(effects) {\n    if (effects.temporaryPowerUp) {\n      this.eventBus.emit('game:powerUpActivated', {\n        type: effects.temporaryPowerUp,\n        duration: effects.duration || 30000,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Restart the game\n   */\n  restartGame() {\n    this.state = {\n      currentLevel: 1,\n      maxLevel: 10,\n      score: 0,\n      highScore: this.state.highScore, // Keep high score\n      lives: 3,\n      levelStartTime: null,\n      levelCompleted: false,\n      gameOver: false,\n    };\n\n    this.setupLevel(1);\n\n    this.eventBus.emit('game:restarted', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Update level-specific logic\n   */\n  updateLevelSpecificLogic(deltaTime, gameState) {\n    const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n    if (!levelConfig) return;\n\n    // Level-specific behaviors based on difficulty\n    switch (levelConfig.difficulty) {\n      case 'easy':\n        // Slower enemy spawn rates, easier patterns\n        break;\n      case 'medium':\n        // Moderate difficulty\n        break;\n      case 'hard':\n        // Faster spawn rates, complex patterns\n        break;\n      case 'expert':\n        // Very challenging\n        break;\n      case 'master':\n        // Maximum difficulty\n        break;\n    }\n  }\n\n  /**\n   * Load game data from storage\n   */\n  async loadGameData() {\n    try {\n      const savedData = localStorage.getItem('gameData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.state.highScore = data.highScore || 0;\n        this.logger.info('Game data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load game data:', error);\n    }\n  }\n\n  /**\n   * Save game data to storage\n   */\n  saveGameData() {\n    try {\n      const data = {\n        highScore: this.state.highScore,\n        lastPlayed: Date.now(),\n      };\n      localStorage.setItem('gameData', JSON.stringify(data));\n      this.logger.info('Game data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save game data:', error);\n    }\n  }\n\n  /**\n   * Get current game state\n   */\n  getState() {\n    return { ...this.state };\n  }\n\n  /**\n   * Get level configuration\n   */\n  getLevelConfig(levelNumber) {\n    return this.levelConfigs[levelNumber - 1];\n  }\n\n  /**\n   * Set level configuration\n   */\n  setLevelConfig(levelNumber, config) {\n    if (levelNumber >= 1 && levelNumber <= this.levelConfigs.length) {\n      this.levelConfigs[levelNumber - 1] = {\n        ...this.levelConfigs[levelNumber - 1],\n        ...config,\n      };\n    }\n  }\n}\n\nexport default GameManager;\n","/**\n * AchievementManager.js - Achievement system with gameplay integration\n *\n * This manager handles:\n * - Achievement definitions and tracking\n * - Progress monitoring\n * - Achievement unlocking\n * - Integration with gameplay events\n */\n\nexport class AchievementManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('AchievementManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('AchievementManager requires logger dependency');\n    }\n\n    // Achievement state\n    this.achievements = new Map();\n    this.unlockedAchievements = new Set();\n    this.progress = new Map();\n\n    // Initialize achievements\n    this.initializeAchievements();\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('AchievementManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing AchievementManager...');\n\n    // Load saved achievement data\n    await this.loadAchievementData();\n\n    this.logger.info('AchievementManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up AchievementManager...');\n\n    // Save achievement data\n    this.saveAchievementData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('AchievementManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Check for time-based achievements\n    this.checkTimeBasedAchievements(gameState);\n\n    // Check for combo achievements\n    this.checkComboAchievements(gameState);\n  }\n\n  /**\n   * Initialize achievement definitions\n   */\n  initializeAchievements() {\n    // Score-based achievements\n    this.defineAchievement('first_score', {\n      name: 'First Steps',\n      description: 'Score your first 100 points',\n      type: 'score',\n      target: 100,\n      reward: { score: 50, title: 'Beginner' },\n      icon: 'star',\n    });\n\n    this.defineAchievement('score_master', {\n      name: 'Score Master',\n      description: 'Reach 10,000 points',\n      type: 'score',\n      target: 10000,\n      reward: { score: 500, title: 'Score Master' },\n      icon: 'trophy',\n    });\n\n    this.defineAchievement('high_score_king', {\n      name: 'High Score King',\n      description: 'Reach 50,000 points',\n      type: 'score',\n      target: 50000,\n      reward: { score: 2000, title: 'High Score King' },\n      icon: 'crown',\n    });\n\n    // Level-based achievements\n    this.defineAchievement('level_5', {\n      name: 'Level 5 Complete',\n      description: 'Complete level 5',\n      type: 'level',\n      target: 5,\n      reward: { extraLives: 1, title: 'Level 5 Veteran' },\n      icon: 'medal',\n    });\n\n    this.defineAchievement('level_10', {\n      name: 'Level 10 Complete',\n      description: 'Complete level 10',\n      type: 'level',\n      target: 10,\n      reward: { score: 1000, title: 'Level 10 Master' },\n      icon: 'diamond',\n    });\n\n    // Collection achievements\n    this.defineAchievement('collector', {\n      name: 'Collector',\n      description: 'Collect 50 items',\n      type: 'collection',\n      target: 50,\n      reward: { score: 300, title: 'Collector' },\n      icon: 'bag',\n    });\n\n    this.defineAchievement('hoarder', {\n      name: 'Hoarder',\n      description: 'Collect 200 items',\n      type: 'collection',\n      target: 200,\n      reward: { score: 1000, title: 'Hoarder' },\n      icon: 'treasure',\n    });\n\n    // Time-based achievements\n    this.defineAchievement('speed_demon', {\n      name: 'Speed Demon',\n      description: 'Complete a level in under 30 seconds',\n      type: 'speed',\n      target: 30000, // 30 seconds in milliseconds\n      reward: { score: 500, title: 'Speed Demon' },\n      icon: 'lightning',\n    });\n\n    this.defineAchievement('marathon_runner', {\n      name: 'Marathon Runner',\n      description: 'Play for 30 minutes straight',\n      type: 'playtime',\n      target: 1800000, // 30 minutes in milliseconds\n      reward: { score: 1000, title: 'Marathon Runner' },\n      icon: 'clock',\n    });\n\n    // Combo achievements\n    this.defineAchievement('combo_master', {\n      name: 'Combo Master',\n      description: 'Achieve a 10x combo',\n      type: 'combo',\n      target: 10,\n      reward: { score: 200, title: 'Combo Master' },\n      icon: 'fire',\n    });\n\n    this.defineAchievement('combo_legend', {\n      name: 'Combo Legend',\n      description: 'Achieve a 25x combo',\n      type: 'combo',\n      target: 25,\n      reward: { score: 1000, title: 'Combo Legend' },\n      icon: 'explosion',\n    });\n\n    // Special achievements\n    this.defineAchievement('perfect_level', {\n      name: 'Perfect Level',\n      description: 'Complete a level without taking damage',\n      type: 'perfect',\n      target: 1,\n      reward: { score: 750, title: 'Perfect Player' },\n      icon: 'shield',\n    });\n\n    this.defineAchievement('comeback_kid', {\n      name: 'Comeback Kid',\n      description: 'Complete a level with only 1 life remaining',\n      type: 'comeback',\n      target: 1,\n      reward: { score: 500, title: 'Comeback Kid' },\n      icon: 'heart',\n    });\n  }\n\n  /**\n   * Define an achievement\n   */\n  defineAchievement(id, definition) {\n    this.achievements.set(id, {\n      id,\n      ...definition,\n      unlocked: false,\n      unlockedAt: null,\n      progress: 0,\n    });\n\n    // Initialize progress tracking\n    this.progress.set(id, 0);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Score events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n\n    // Level events\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Collection events\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Combo events\n    this.eventBus.on('player:comboChanged', this.handleComboChanged.bind(this));\n\n    // Damage events\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:comboChanged',\n      this.handleComboChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    const currentScore = this.gameState().score;\n    this.checkScoreAchievements(currentScore);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.checkLevelAchievements(data.level);\n    this.checkSpeedAchievements(data.time);\n    this.checkPerfectLevelAchievements(data);\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    this.checkCollectionAchievements(data.itemType);\n  }\n\n  /**\n   * Handle game start\n   */\n  handleGameStarted(data) {\n    this.gameStartTime = data.timestamp;\n  }\n\n  /**\n   * Handle combo changes\n   */\n  handleComboChanged(data) {\n    this.checkComboAchievements(data.combo);\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.currentLevelPerfect = false;\n  }\n\n  /**\n   * Check score-based achievements\n   */\n  checkScoreAchievements(currentScore) {\n    this.checkAchievementsByType('score', currentScore);\n  }\n\n  /**\n   * Check level-based achievements\n   */\n  checkLevelAchievements(level) {\n    this.checkAchievementsByType('level', level);\n  }\n\n  /**\n   * Check collection-based achievements\n   */\n  checkCollectionAchievements(itemType) {\n    // Increment collection count\n    const currentCount = this.progress.get('collector') || 0;\n    this.progress.set('collector', currentCount + 1);\n\n    this.checkAchievementsByType('collection', this.progress.get('collector'));\n  }\n\n  /**\n   * Check speed-based achievements\n   */\n  checkSpeedAchievements(levelTime) {\n    this.checkAchievementsByType('speed', levelTime);\n  }\n\n  /**\n   * Check combo-based achievements\n   */\n  checkComboAchievements(combo) {\n    this.checkAchievementsByType('combo', combo);\n  }\n\n  /**\n   * Check time-based achievements\n   */\n  checkTimeBasedAchievements(gameState) {\n    if (this.gameStartTime) {\n      const playTime = Date.now() - this.gameStartTime;\n      this.checkAchievementsByType('playtime', playTime);\n    }\n  }\n\n  /**\n   * Check combo achievements\n   */\n  checkComboAchievements(gameState) {\n    // This would check for combo achievements based on game state\n    // Implementation depends on how combos are tracked in the game\n  }\n\n  /**\n   * Check perfect level achievements\n   */\n  checkPerfectLevelAchievements(levelData) {\n    if (levelData.perfect) {\n      this.checkAchievementsByType('perfect', 1);\n    }\n  }\n\n  /**\n   * Check achievements by type\n   */\n  checkAchievementsByType(type, value) {\n    for (const [id, achievement] of this.achievements) {\n      if (achievement.type === type && !achievement.unlocked) {\n        if (value >= achievement.target) {\n          this.unlockAchievement(id);\n        } else {\n          // Update progress\n          this.progress.set(id, value);\n          achievement.progress = value;\n        }\n      }\n    }\n  }\n\n  /**\n   * Unlock an achievement\n   */\n  unlockAchievement(id) {\n    const achievement = this.achievements.get(id);\n    if (!achievement || achievement.unlocked) {\n      return;\n    }\n\n    achievement.unlocked = true;\n    achievement.unlockedAt = Date.now();\n    this.unlockedAchievements.add(id);\n\n    this.logger.info(`Achievement unlocked: ${achievement.name}`);\n\n    // Emit achievement unlocked event\n    this.eventBus.emit('achievement:unlocked', {\n      id,\n      name: achievement.name,\n      description: achievement.description,\n      reward: achievement.reward,\n      icon: achievement.icon,\n      timestamp: Date.now(),\n    });\n\n    // Apply reward\n    this.applyAchievementReward(achievement);\n  }\n\n  /**\n   * Apply achievement reward\n   */\n  applyAchievementReward(achievement) {\n    if (!achievement.reward) return;\n\n    const reward = achievement.reward;\n\n    // Score reward\n    if (reward.score) {\n      this.eventBus.emit('player:scoreChanged', {\n        scoreChange: reward.score,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Extra lives reward\n    if (reward.extraLives) {\n      this.eventBus.emit('player:livesChanged', {\n        livesChange: reward.extraLives,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Title reward\n    if (reward.title) {\n      this.eventBus.emit('player:titleChanged', {\n        title: reward.title,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Special effects\n    if (reward.effects) {\n      this.eventBus.emit('game:achievementEffect', {\n        effects: reward.effects,\n        achievementId: achievement.id,\n      });\n    }\n  }\n\n  /**\n   * Get achievement by ID\n   */\n  getAchievement(id) {\n    return this.achievements.get(id);\n  }\n\n  /**\n   * Get all achievements\n   */\n  getAllAchievements() {\n    return Array.from(this.achievements.values());\n  }\n\n  /**\n   * Get unlocked achievements\n   */\n  getUnlockedAchievements() {\n    return Array.from(this.achievements.values()).filter((a) => a.unlocked);\n  }\n\n  /**\n   * Get achievement progress\n   */\n  getAchievementProgress(id) {\n    const achievement = this.achievements.get(id);\n    if (!achievement) return null;\n\n    return {\n      id,\n      name: achievement.name,\n      description: achievement.description,\n      progress: achievement.progress,\n      target: achievement.target,\n      percentage: Math.min(\n        (achievement.progress / achievement.target) * 100,\n        100\n      ),\n      unlocked: achievement.unlocked,\n    };\n  }\n\n  /**\n   * Get all achievement progress\n   */\n  getAllAchievementProgress() {\n    const progress = [];\n    for (const [id, achievement] of this.achievements) {\n      progress.push(this.getAchievementProgress(id));\n    }\n    return progress;\n  }\n\n  /**\n   * Load achievement data from storage\n   */\n  async loadAchievementData() {\n    try {\n      const savedData = localStorage.getItem('achievementData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n\n        // Restore unlocked achievements\n        if (data.unlocked) {\n          data.unlocked.forEach((id) => {\n            if (this.achievements.has(id)) {\n              this.achievements.get(id).unlocked = true;\n              this.unlockedAchievements.add(id);\n            }\n          });\n        }\n\n        // Restore progress\n        if (data.progress) {\n          for (const [id, progress] of Object.entries(data.progress)) {\n            if (this.achievements.has(id)) {\n              this.achievements.get(id).progress = progress;\n              this.progress.set(id, progress);\n            }\n          }\n        }\n\n        this.logger.info('Achievement data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load achievement data:', error);\n    }\n  }\n\n  /**\n   * Save achievement data to storage\n   */\n  saveAchievementData() {\n    try {\n      const data = {\n        unlocked: Array.from(this.unlockedAchievements),\n        progress: Object.fromEntries(this.progress),\n      };\n      localStorage.setItem('achievementData', JSON.stringify(data));\n      this.logger.info('Achievement data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save achievement data:', error);\n    }\n  }\n\n  /**\n   * Reset all achievements\n   */\n  resetAchievements() {\n    this.unlockedAchievements.clear();\n    this.progress.clear();\n\n    for (const [id, achievement] of this.achievements) {\n      achievement.unlocked = false;\n      achievement.unlockedAt = null;\n      achievement.progress = 0;\n      this.progress.set(id, 0);\n    }\n\n    this.logger.info('All achievements reset');\n  }\n}\n\nexport default AchievementManager;\n","/**\n * DailyChallengeManager.js - Daily challenge system with gameplay integration\n *\n * This manager handles:\n * - Daily challenge generation and rotation\n * - Challenge progress tracking\n * - Challenge completion rewards\n * - Integration with gameplay events\n */\n\nexport class DailyChallengeManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('DailyChallengeManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('DailyChallengeManager requires logger dependency');\n    }\n\n    // Challenge state\n    this.challenges = new Map();\n    this.activeChallenges = [];\n    this.completedChallenges = new Set();\n    this.challengeProgress = new Map();\n    this.lastChallengeDate = null;\n\n    // Challenge templates\n    this.challengeTemplates = this.initializeChallengeTemplates();\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('DailyChallengeManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing DailyChallengeManager...');\n\n    // Load saved challenge data\n    await this.loadChallengeData();\n\n    // Generate today's challenges\n    this.generateDailyChallenges();\n\n    this.logger.info('DailyChallengeManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up DailyChallengeManager...');\n\n    // Save challenge data\n    this.saveChallengeData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('DailyChallengeManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Check if we need to generate new daily challenges\n    this.checkDailyChallengeRotation();\n\n    // Update challenge progress\n    this.updateChallengeProgress(gameState);\n  }\n\n  /**\n   * Initialize challenge templates\n   */\n  initializeChallengeTemplates() {\n    return {\n      score: [\n        {\n          name: 'Score Hunter',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'easy',\n          target: 1000,\n          reward: { score: 200, coins: 10 },\n        },\n        {\n          name: 'Score Master',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'medium',\n          target: 5000,\n          reward: { score: 500, coins: 25 },\n        },\n        {\n          name: 'Score Legend',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'hard',\n          target: 15000,\n          reward: { score: 1000, coins: 50 },\n        },\n      ],\n      level: [\n        {\n          name: 'Level Climber',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'easy',\n          target: 3,\n          reward: { score: 300, coins: 15 },\n        },\n        {\n          name: 'Level Master',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'medium',\n          target: 7,\n          reward: { score: 750, coins: 35 },\n        },\n        {\n          name: 'Level Legend',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'hard',\n          target: 10,\n          reward: { score: 1500, coins: 75 },\n        },\n      ],\n      collection: [\n        {\n          name: 'Item Collector',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'easy',\n          target: 10,\n          reward: { score: 150, coins: 8 },\n        },\n        {\n          name: 'Item Hoarder',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'medium',\n          target: 25,\n          reward: { score: 400, coins: 20 },\n        },\n        {\n          name: 'Item Master',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'hard',\n          target: 50,\n          reward: { score: 800, coins: 40 },\n        },\n      ],\n      combo: [\n        {\n          name: 'Combo Starter',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'easy',\n          target: 5,\n          reward: { score: 100, coins: 5 },\n        },\n        {\n          name: 'Combo Master',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'medium',\n          target: 15,\n          reward: { score: 300, coins: 15 },\n        },\n        {\n          name: 'Combo Legend',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'hard',\n          target: 30,\n          reward: { score: 600, coins: 30 },\n        },\n      ],\n      time: [\n        {\n          name: 'Speed Runner',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'easy',\n          target: 60,\n          reward: { score: 200, coins: 10 },\n        },\n        {\n          name: 'Speed Master',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'medium',\n          target: 30,\n          reward: { score: 500, coins: 25 },\n        },\n        {\n          name: 'Speed Legend',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'hard',\n          target: 15,\n          reward: { score: 1000, coins: 50 },\n        },\n      ],\n      survival: [\n        {\n          name: 'Survivor',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'easy',\n          target: 3,\n          reward: { score: 400, coins: 20 },\n        },\n        {\n          name: 'Survival Master',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'medium',\n          target: 7,\n          reward: { score: 1000, coins: 50 },\n        },\n        {\n          name: 'Survival Legend',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'hard',\n          target: 10,\n          reward: { score: 2000, coins: 100 },\n        },\n      ],\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Score events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n\n    // Level events\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Collection events\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Combo events\n    this.eventBus.on('player:comboChanged', this.handleComboChanged.bind(this));\n\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Damage events\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:comboChanged',\n      this.handleComboChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n  }\n\n  /**\n   * Generate daily challenges\n   */\n  generateDailyChallenges() {\n    const today = new Date().toDateString();\n\n    // Check if we need to generate new challenges\n    if (this.lastChallengeDate === today) {\n      return;\n    }\n\n    // Clear previous challenges\n    this.activeChallenges = [];\n    this.completedChallenges.clear();\n    this.challengeProgress.clear();\n\n    // Generate 3 random challenges\n    const challengeTypes = Object.keys(this.challengeTemplates);\n    const selectedTypes = this.getRandomElements(challengeTypes, 3);\n\n    selectedTypes.forEach((type, index) => {\n      const template = this.getRandomElement(this.challengeTemplates[type]);\n      const challenge = this.createChallenge(template, index);\n      this.activeChallenges.push(challenge);\n      this.challenges.set(challenge.id, challenge);\n    });\n\n    this.lastChallengeDate = today;\n    this.logger.info(\n      `Generated ${this.activeChallenges.length} daily challenges for ${today}`\n    );\n\n    // Emit challenges generated event\n    this.eventBus.emit('dailyChallenges:generated', {\n      challenges: this.activeChallenges,\n      date: today,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Create a challenge from template\n   */\n  createChallenge(template, index) {\n    const id = `daily_${Date.now()}_${index}`;\n    const challenge = {\n      id,\n      name: template.name,\n      description: template.description.replace('{target}', template.target),\n      type: template.type,\n      difficulty: template.difficulty,\n      target: template.target,\n      reward: template.reward,\n      progress: 0,\n      completed: false,\n      completedAt: null,\n      createdAt: Date.now(),\n    };\n\n    return challenge;\n  }\n\n  /**\n   * Check daily challenge rotation\n   */\n  checkDailyChallengeRotation() {\n    const today = new Date().toDateString();\n    if (this.lastChallengeDate !== today) {\n      this.generateDailyChallenges();\n    }\n  }\n\n  /**\n   * Update challenge progress\n   */\n  updateChallengeProgress(gameState) {\n    // This method can be used for real-time progress updates\n    // that don't require specific events\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    this.checkScoreChallenges(data.score);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.checkLevelChallenges(data.level);\n    this.checkTimeChallenges(data.time);\n    this.checkSurvivalChallenges(data);\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    this.checkCollectionChallenges(data.itemType);\n  }\n\n  /**\n   * Handle combo changes\n   */\n  handleComboChanged(data) {\n    this.checkComboChallenges(data.combo);\n  }\n\n  /**\n   * Handle game start\n   */\n  handleGameStarted(data) {\n    this.gameStartTime = data.timestamp;\n    this.currentGameScore = 0;\n    this.currentGameLevel = 0;\n    this.currentGameItems = 0;\n    this.currentGameCombo = 0;\n    this.survivalCount = 0;\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.survivalCount = 0; // Reset survival count on damage\n  }\n\n  /**\n   * Check score-based challenges\n   */\n  checkScoreChallenges(currentScore) {\n    this.currentGameScore = currentScore;\n    this.checkChallengesByType('score', currentScore);\n  }\n\n  /**\n   * Check level-based challenges\n   */\n  checkLevelChallenges(level) {\n    this.currentGameLevel = level;\n    this.checkChallengesByType('level', level);\n  }\n\n  /**\n   * Check collection-based challenges\n   */\n  checkCollectionChallenges(itemType) {\n    this.currentGameItems++;\n    this.checkChallengesByType('collection', this.currentGameItems);\n  }\n\n  /**\n   * Check combo-based challenges\n   */\n  checkComboChallenges(combo) {\n    this.currentGameCombo = combo;\n    this.checkChallengesByType('combo', combo);\n  }\n\n  /**\n   * Check time-based challenges\n   */\n  checkTimeChallenges(levelTime) {\n    const timeInSeconds = Math.floor(levelTime / 1000);\n    this.checkChallengesByType('time', timeInSeconds);\n  }\n\n  /**\n   * Check survival challenges\n   */\n  checkSurvivalChallenges(levelData) {\n    this.survivalCount++;\n    this.checkChallengesByType('survival', this.survivalCount);\n  }\n\n  /**\n   * Check challenges by type\n   */\n  checkChallengesByType(type, value) {\n    for (const challenge of this.activeChallenges) {\n      if (challenge.type === type && !challenge.completed) {\n        if (value >= challenge.target) {\n          this.completeChallenge(challenge.id);\n        } else {\n          // Update progress\n          challenge.progress = value;\n          this.challengeProgress.set(challenge.id, value);\n        }\n      }\n    }\n  }\n\n  /**\n   * Complete a challenge\n   */\n  completeChallenge(challengeId) {\n    const challenge = this.challenges.get(challengeId);\n    if (!challenge || challenge.completed) {\n      return;\n    }\n\n    challenge.completed = true;\n    challenge.completedAt = Date.now();\n    this.completedChallenges.add(challengeId);\n\n    this.logger.info(`Daily challenge completed: ${challenge.name}`);\n\n    // Emit challenge completed event\n    this.eventBus.emit('dailyChallenge:completed', {\n      id: challengeId,\n      name: challenge.name,\n      description: challenge.description,\n      reward: challenge.reward,\n      timestamp: Date.now(),\n    });\n\n    // Apply reward\n    this.applyChallengeReward(challenge);\n  }\n\n  /**\n   * Apply challenge reward\n   */\n  applyChallengeReward(challenge) {\n    if (!challenge.reward) return;\n\n    const reward = challenge.reward;\n\n    // Score reward\n    if (reward.score) {\n      this.eventBus.emit('player:scoreChanged', {\n        scoreChange: reward.score,\n        source: 'dailyChallenge',\n        challengeId: challenge.id,\n      });\n    }\n\n    // Coins reward\n    if (reward.coins) {\n      this.eventBus.emit('player:coinsChanged', {\n        coinsChange: reward.coins,\n        source: 'dailyChallenge',\n        challengeId: challenge.id,\n      });\n    }\n\n    // Special effects\n    if (reward.effects) {\n      this.eventBus.emit('game:challengeEffect', {\n        effects: reward.effects,\n        challengeId: challenge.id,\n      });\n    }\n  }\n\n  /**\n   * Get active challenges\n   */\n  getActiveChallenges() {\n    return this.activeChallenges.filter((c) => !c.completed);\n  }\n\n  /**\n   * Get completed challenges\n   */\n  getCompletedChallenges() {\n    return this.activeChallenges.filter((c) => c.completed);\n  }\n\n  /**\n   * Get all challenges\n   */\n  getAllChallenges() {\n    return this.activeChallenges;\n  }\n\n  /**\n   * Get challenge progress\n   */\n  getChallengeProgress(challengeId) {\n    const challenge = this.challenges.get(challengeId);\n    if (!challenge) return null;\n\n    return {\n      id: challengeId,\n      name: challenge.name,\n      description: challenge.description,\n      progress: challenge.progress,\n      target: challenge.target,\n      percentage: Math.min((challenge.progress / challenge.target) * 100, 100),\n      completed: challenge.completed,\n      difficulty: challenge.difficulty,\n      reward: challenge.reward,\n    };\n  }\n\n  /**\n   * Get all challenge progress\n   */\n  getAllChallengeProgress() {\n    const progress = [];\n    for (const challenge of this.activeChallenges) {\n      progress.push(this.getChallengeProgress(challenge.id));\n    }\n    return progress;\n  }\n\n  /**\n   * Get random elements from array\n   */\n  getRandomElements(array, count) {\n    const shuffled = array.sort(() => 0.5 - Math.random());\n    return shuffled.slice(0, count);\n  }\n\n  /**\n   * Get random element from array\n   */\n  getRandomElement(array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  /**\n   * Load challenge data from storage\n   */\n  async loadChallengeData() {\n    try {\n      const savedData = localStorage.getItem('dailyChallengeData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n\n        // Restore last challenge date\n        this.lastChallengeDate = data.lastChallengeDate;\n\n        // Restore completed challenges\n        if (data.completed) {\n          data.completed.forEach((id) => {\n            this.completedChallenges.add(id);\n          });\n        }\n\n        // Restore progress\n        if (data.progress) {\n          for (const [id, progress] of Object.entries(data.progress)) {\n            this.challengeProgress.set(id, progress);\n          }\n        }\n\n        this.logger.info('Daily challenge data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load daily challenge data:', error);\n    }\n  }\n\n  /**\n   * Save challenge data to storage\n   */\n  saveChallengeData() {\n    try {\n      const data = {\n        lastChallengeDate: this.lastChallengeDate,\n        completed: Array.from(this.completedChallenges),\n        progress: Object.fromEntries(this.challengeProgress),\n      };\n      localStorage.setItem('dailyChallengeData', JSON.stringify(data));\n      this.logger.info('Daily challenge data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save daily challenge data:', error);\n    }\n  }\n\n  /**\n   * Reset all challenges\n   */\n  resetChallenges() {\n    this.activeChallenges = [];\n    this.completedChallenges.clear();\n    this.challengeProgress.clear();\n    this.lastChallengeDate = null;\n\n    this.logger.info('All daily challenges reset');\n  }\n}\n\nexport default DailyChallengeManager;\n","/**\n * AccessibilityManager.js - Accessibility features with gameplay integration\n *\n * This manager handles:\n * - Screen reader support\n * - High contrast mode\n * - Colorblind support\n * - Keyboard navigation\n * - Audio cues and descriptions\n * - Text scaling\n * - Motion reduction\n */\n\nexport class AccessibilityManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('AccessibilityManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('AccessibilityManager requires logger dependency');\n    }\n\n    // Accessibility settings\n    this.settings = {\n      screenReader: false,\n      highContrast: false,\n      colorblindMode: 'none', // 'none', 'protanopia', 'deuteranopia', 'tritanopia'\n      keyboardNavigation: false,\n      audioCues: true,\n      audioDescriptions: false,\n      textScaling: 1.0,\n      motionReduction: false,\n      reducedAnimations: false,\n      largeText: false,\n      focusIndicators: true,\n    };\n\n    // Audio context for sound cues\n    this.audioContext = null;\n    this.audioEnabled = true;\n\n    // Screen reader support\n    this.announcements = [];\n    this.announcementQueue = [];\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('AccessibilityManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing AccessibilityManager...');\n\n    // Load accessibility settings\n    await this.loadAccessibilitySettings();\n\n    // Initialize audio context\n    this.initializeAudio();\n\n    // Set up DOM accessibility features\n    this.setupDOMAccessibility();\n\n    this.logger.info('AccessibilityManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up AccessibilityManager...');\n\n    // Save accessibility settings\n    this.saveAccessibilitySettings();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    // Clean up audio context\n    if (this.audioContext) {\n      this.audioContext.close();\n    }\n\n    this.logger.info('AccessibilityManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Process announcement queue\n    this.processAnnouncementQueue();\n\n    // Update accessibility features based on game state\n    this.updateAccessibilityFeatures(gameState);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Game state events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('game:paused', this.handleGamePaused.bind(this));\n    this.eventBus.on('game:resumed', this.handleGameResumed.bind(this));\n    this.eventBus.on('game:stopped', this.handleGameStopped.bind(this));\n\n    // Player events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChanged.bind(this));\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Level events\n    this.eventBus.on('level:started', this.handleLevelStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Achievement events\n    this.eventBus.on(\n      'achievement:unlocked',\n      this.handleAchievementUnlocked.bind(this)\n    );\n    this.eventBus.on(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompleted.bind(this)\n    );\n\n    // Input events\n    this.eventBus.on('game:input', this.handleInput.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:paused',\n      this.handleGamePaused.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:resumed',\n      this.handleGameResumed.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:stopped',\n      this.handleGameStopped.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:started',\n      this.handleLevelStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'achievement:unlocked',\n      this.handleAchievementUnlocked.bind(this)\n    );\n    this.eventBus.removeListener(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompleted.bind(this)\n    );\n    this.eventBus.removeListener('game:input', this.handleInput.bind(this));\n  }\n\n  /**\n   * Initialize audio context\n   */\n  initializeAudio() {\n    try {\n      this.audioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n      this.audioEnabled = true;\n    } catch (error) {\n      this.logger.warn('Audio context not available:', error);\n      this.audioEnabled = false;\n    }\n  }\n\n  /**\n   * Set up DOM accessibility features\n   */\n  setupDOMAccessibility() {\n    // Create announcement region for screen readers\n    this.createAnnouncementRegion();\n\n    // Set up keyboard navigation\n    this.setupKeyboardNavigation();\n\n    // Apply initial accessibility settings\n    this.applyAccessibilitySettings();\n  }\n\n  /**\n   * Create announcement region for screen readers\n   */\n  createAnnouncementRegion() {\n    const announcementRegion = document.createElement('div');\n    announcementRegion.id = 'accessibility-announcements';\n    announcementRegion.setAttribute('aria-live', 'polite');\n    announcementRegion.setAttribute('aria-atomic', 'true');\n    announcementRegion.style.cssText = `\n            position: absolute;\n            left: -10000px;\n            width: 1px;\n            height: 1px;\n            overflow: hidden;\n        `;\n    document.body.appendChild(announcementRegion);\n  }\n\n  /**\n   * Set up keyboard navigation\n   */\n  setupKeyboardNavigation() {\n    if (!this.settings.keyboardNavigation) return;\n\n    document.addEventListener('keydown', (event) => {\n      this.handleKeyboardNavigation(event);\n    });\n  }\n\n  /**\n   * Handle keyboard navigation\n   */\n  handleKeyboardNavigation(event) {\n    if (!this.settings.keyboardNavigation) return;\n\n    switch (event.key) {\n      case 'Tab':\n        // Ensure proper tab order\n        this.handleTabNavigation(event);\n        break;\n      case 'Enter':\n      case ' ':\n        // Handle activation\n        this.handleActivation(event);\n        break;\n      case 'Escape':\n        // Handle escape key\n        this.handleEscape(event);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        // Handle arrow key navigation\n        this.handleArrowNavigation(event);\n        break;\n    }\n  }\n\n  /**\n   * Handle tab navigation\n   */\n  handleTabNavigation(event) {\n    // Ensure focusable elements are properly ordered\n    const focusableElements = document.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n\n    // This would implement custom tab order logic\n    // based on game state and UI layout\n  }\n\n  /**\n   * Handle activation\n   */\n  handleActivation(event) {\n    const activeElement = document.activeElement;\n    if (activeElement && activeElement.click) {\n      activeElement.click();\n    }\n  }\n\n  /**\n   * Handle escape key\n   */\n  handleEscape(event) {\n    // Emit escape event for game to handle\n    this.eventBus.emit('accessibility:escape', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle arrow key navigation\n   */\n  handleArrowNavigation(event) {\n    // Emit arrow navigation event\n    this.eventBus.emit('accessibility:arrowNavigation', {\n      direction: event.key.replace('Arrow', '').toLowerCase(),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Apply accessibility settings\n   */\n  applyAccessibilitySettings() {\n    const root = document.documentElement;\n\n    // High contrast mode\n    if (this.settings.highContrast) {\n      root.classList.add('high-contrast');\n    } else {\n      root.classList.remove('high-contrast');\n    }\n\n    // Colorblind mode\n    root.classList.remove(\n      'colorblind-protanopia',\n      'colorblind-deuteranopia',\n      'colorblind-tritanopia'\n    );\n    if (this.settings.colorblindMode !== 'none') {\n      root.classList.add(`colorblind-${this.settings.colorblindMode}`);\n    }\n\n    // Text scaling\n    root.style.setProperty('--text-scale', this.settings.textScaling);\n\n    // Motion reduction\n    if (this.settings.motionReduction) {\n      root.classList.add('motion-reduced');\n    } else {\n      root.classList.remove('motion-reduced');\n    }\n\n    // Large text\n    if (this.settings.largeText) {\n      root.classList.add('large-text');\n    } else {\n      root.classList.remove('large-text');\n    }\n\n    // Focus indicators\n    if (this.settings.focusIndicators) {\n      root.classList.add('focus-indicators');\n    } else {\n      root.classList.remove('focus-indicators');\n    }\n  }\n\n  /**\n   * Update accessibility settings\n   */\n  updateSettings(newSettings) {\n    this.settings = { ...this.settings, ...newSettings };\n    this.applyAccessibilitySettings();\n\n    this.logger.info('Accessibility settings updated');\n\n    // Emit settings changed event\n    this.eventBus.emit('accessibility:settingsChanged', {\n      settings: this.settings,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Get current settings\n   */\n  getSettings() {\n    return { ...this.settings };\n  }\n\n  /**\n   * Announce text to screen readers\n   */\n  announce(text, priority = 'polite') {\n    if (!this.settings.screenReader) return;\n\n    const announcement = {\n      text,\n      priority,\n      timestamp: Date.now(),\n    };\n\n    this.announcementQueue.push(announcement);\n  }\n\n  /**\n   * Process announcement queue\n   */\n  processAnnouncementQueue() {\n    if (this.announcementQueue.length === 0) return;\n\n    const announcement = this.announcementQueue.shift();\n    const announcementRegion = document.getElementById(\n      'accessibility-announcements'\n    );\n\n    if (announcementRegion) {\n      announcementRegion.setAttribute('aria-live', announcement.priority);\n      announcementRegion.textContent = announcement.text;\n    }\n  }\n\n  /**\n   * Play audio cue\n   */\n  playAudioCue(cueType, frequency = 440, duration = 200) {\n    if (!this.settings.audioCues || !this.audioEnabled || !this.audioContext)\n      return;\n\n    try {\n      const oscillator = this.audioContext.createOscillator();\n      const gainNode = this.audioContext.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(this.audioContext.destination);\n\n      oscillator.frequency.setValueAtTime(\n        frequency,\n        this.audioContext.currentTime\n      );\n      oscillator.type = 'sine';\n\n      gainNode.gain.setValueAtTime(0, this.audioContext.currentTime);\n      gainNode.gain.linearRampToValueAtTime(\n        0.1,\n        this.audioContext.currentTime + 0.01\n      );\n      gainNode.gain.linearRampToValueAtTime(\n        0,\n        this.audioContext.currentTime + duration / 1000\n      );\n\n      oscillator.start(this.audioContext.currentTime);\n      oscillator.stop(this.audioContext.currentTime + duration / 1000);\n    } catch (error) {\n      this.logger.warn('Failed to play audio cue:', error);\n    }\n  }\n\n  /**\n   * Handle game started\n   */\n  handleGameStarted(data) {\n    this.announce('Game started');\n    this.playAudioCue('gameStart', 523, 300);\n  }\n\n  /**\n   * Handle game paused\n   */\n  handleGamePaused(data) {\n    this.announce('Game paused');\n    this.playAudioCue('pause', 330, 200);\n  }\n\n  /**\n   * Handle game resumed\n   */\n  handleGameResumed(data) {\n    this.announce('Game resumed');\n    this.playAudioCue('resume', 523, 200);\n  }\n\n  /**\n   * Handle game stopped\n   */\n  handleGameStopped(data) {\n    this.announce('Game stopped');\n    this.playAudioCue('gameOver', 220, 500);\n  }\n\n  /**\n   * Handle score changed\n   */\n  handleScoreChanged(data) {\n    if (data.scoreChange > 0) {\n      this.announce(\n        `Score increased by ${data.scoreChange}. Total score: ${data.score}`\n      );\n      this.playAudioCue('score', 659, 100);\n    }\n  }\n\n  /**\n   * Handle player damaged\n   */\n  handlePlayerDamaged(data) {\n    this.announce(`Player damaged. Lives remaining: ${data.lives}`);\n    this.playAudioCue('damage', 220, 300);\n  }\n\n  /**\n   * Handle item collected\n   */\n  handleItemCollected(data) {\n    this.announce(`Item collected: ${data.itemType}`);\n    this.playAudioCue('item', 880, 150);\n  }\n\n  /**\n   * Handle level started\n   */\n  handleLevelStarted(data) {\n    this.announce(`Level ${data.level} started`);\n    this.playAudioCue('levelStart', 523, 400);\n  }\n\n  /**\n   * Handle level completed\n   */\n  handleLevelCompleted(data) {\n    this.announce(\n      `Level ${data.level} completed in ${Math.floor(data.time / 1000)} seconds`\n    );\n    this.playAudioCue('levelComplete', 1047, 600);\n  }\n\n  /**\n   * Handle achievement unlocked\n   */\n  handleAchievementUnlocked(data) {\n    this.announce(`Achievement unlocked: ${data.name}`);\n    this.playAudioCue('achievement', 1319, 800);\n  }\n\n  /**\n   * Handle daily challenge completed\n   */\n  handleDailyChallengeCompleted(data) {\n    this.announce(`Daily challenge completed: ${data.name}`);\n    this.playAudioCue('challenge', 1047, 500);\n  }\n\n  /**\n   * Handle input\n   */\n  handleInput(data) {\n    if (this.settings.audioCues) {\n      this.playAudioCue('input', 440, 50);\n    }\n  }\n\n  /**\n   * Update accessibility features based on game state\n   */\n  updateAccessibilityFeatures(gameState) {\n    // Update focus management based on game state\n    if (gameState.isPaused) {\n      this.manageFocusOnPause();\n    } else if (gameState.isRunning) {\n      this.manageFocusDuringGameplay();\n    }\n  }\n\n  /**\n   * Manage focus when game is paused\n   */\n  manageFocusOnPause() {\n    // Ensure focus is on pause menu\n    const pauseMenu = document.querySelector('.pause-menu');\n    if (pauseMenu && pauseMenu.focus) {\n      pauseMenu.focus();\n    }\n  }\n\n  /**\n   * Manage focus during gameplay\n   */\n  manageFocusDuringGameplay() {\n    // Ensure focus is on game canvas or main game area\n    const gameArea = document.querySelector('.game-area');\n    if (gameArea && gameArea.focus) {\n      gameArea.focus();\n    }\n  }\n\n  /**\n   * Load accessibility settings from storage\n   */\n  async loadAccessibilitySettings() {\n    try {\n      const savedSettings = localStorage.getItem('accessibilitySettings');\n      if (savedSettings) {\n        const settings = JSON.parse(savedSettings);\n        this.settings = { ...this.settings, ...settings };\n        this.applyAccessibilitySettings();\n        this.logger.info('Accessibility settings loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load accessibility settings:', error);\n    }\n  }\n\n  /**\n   * Save accessibility settings to storage\n   */\n  saveAccessibilitySettings() {\n    try {\n      localStorage.setItem(\n        'accessibilitySettings',\n        JSON.stringify(this.settings)\n      );\n      this.logger.info('Accessibility settings saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save accessibility settings:', error);\n    }\n  }\n\n  /**\n   * Reset accessibility settings to defaults\n   */\n  resetSettings() {\n    this.settings = {\n      screenReader: false,\n      highContrast: false,\n      colorblindMode: 'none',\n      keyboardNavigation: false,\n      audioCues: true,\n      audioDescriptions: false,\n      textScaling: 1.0,\n      motionReduction: false,\n      reducedAnimations: false,\n      largeText: false,\n      focusIndicators: true,\n    };\n\n    this.applyAccessibilitySettings();\n    this.logger.info('Accessibility settings reset to defaults');\n  }\n}\n\nexport default AccessibilityManager;\n"],"names":["exports","constructor","dependencies","this","eventBus","logger","config","Error","state","currentLevel","maxLevel","score","highScore","lives","levelStartTime","levelCompleted","gameOver","levelConfigs","initializeLevelConfigs","setupEventHandlers","info","initialize","loadGameData","setupLevel","cleanup","saveGameData","removeEventHandlers","update","deltaTime","gameState","levelTime","Date","now","levelConfig","timeLimit","handleLevelTimeout","updateLevelSpecificLogic","on","handleScoreChange","bind","handlePlayerDamaged","handleItemCollected","handleLevelCompleted","handleGameInput","handleConfigChange","handleAchievementUnlock","handleDailyChallengeCompletion","off","removeListener","targetScore","difficulty","levelNumber","emit","level","timestamp","error","data","scoreChange","completeLevel","damage","scoreValue","itemType","time","completeGame","setTimeout","finalScore","finalLevel","type","restartGame","bonusScore","effects","applyAchievementEffects","applyChallengeEffects","extraLives","scoreMultiplier","temporaryScoreMultiplier","duration","temporaryPowerUp","savedData","localStorage","getItem","JSON","parse","lastPlayed","setItem","stringify","getState","getLevelConfig","setLevelConfig","length","achievements","Map","unlockedAchievements","Set","progress","initializeAchievements","loadAchievementData","saveAchievementData","checkTimeBasedAchievements","checkComboAchievements","defineAchievement","name","description","target","reward","title","icon","id","definition","set","unlocked","unlockedAt","handleGameStarted","handleComboChanged","currentScore","checkScoreAchievements","checkLevelAchievements","checkSpeedAchievements","checkPerfectLevelAchievements","checkCollectionAchievements","gameStartTime","combo","currentLevelPerfect","checkAchievementsByType","currentCount","get","playTime","levelData","perfect","value","achievement","unlockAchievement","add","applyAchievementReward","source","achievementId","livesChange","getAchievement","getAllAchievements","Array","from","values","getUnlockedAchievements","filter","a","getAchievementProgress","percentage","Math","min","getAllAchievementProgress","push","forEach","has","Object","entries","fromEntries","resetAchievements","clear","challenges","activeChallenges","completedChallenges","challengeProgress","lastChallengeDate","challengeTemplates","initializeChallengeTemplates","loadChallengeData","generateDailyChallenges","saveChallengeData","checkDailyChallengeRotation","updateChallengeProgress","coins","collection","survival","today","toDateString","challengeTypes","keys","getRandomElements","index","template","getRandomElement","challenge","createChallenge","date","replace","completed","completedAt","createdAt","checkScoreChallenges","checkLevelChallenges","checkTimeChallenges","checkSurvivalChallenges","checkCollectionChallenges","checkComboChallenges","currentGameScore","currentGameLevel","currentGameItems","currentGameCombo","survivalCount","checkChallengesByType","timeInSeconds","floor","completeChallenge","challengeId","applyChallengeReward","coinsChange","getActiveChallenges","c","getCompletedChallenges","getAllChallenges","getChallengeProgress","getAllChallengeProgress","array","count","sort","random","slice","resetChallenges","settings","screenReader","highContrast","colorblindMode","keyboardNavigation","audioCues","audioDescriptions","textScaling","motionReduction","reducedAnimations","largeText","focusIndicators","audioContext","audioEnabled","announcements","announcementQueue","loadAccessibilitySettings","initializeAudio","setupDOMAccessibility","saveAccessibilitySettings","close","processAnnouncementQueue","updateAccessibilityFeatures","handleGamePaused","handleGameResumed","handleGameStopped","handleScoreChanged","handleLevelStarted","handleAchievementUnlocked","handleDailyChallengeCompleted","handleInput","window","AudioContext","webkitAudioContext","warn","createAnnouncementRegion","setupKeyboardNavigation","applyAccessibilitySettings","announcementRegion","document","createElement","setAttribute","style","cssText","body","appendChild","addEventListener","event","handleKeyboardNavigation","key","handleTabNavigation","handleActivation","handleEscape","handleArrowNavigation","querySelectorAll","activeElement","click","direction","toLowerCase","root","documentElement","classList","remove","setProperty","updateSettings","newSettings","getSettings","announce","text","priority","announcement","shift","getElementById","textContent","playAudioCue","cueType","frequency","oscillator","createOscillator","gainNode","createGain","connect","destination","setValueAtTime","currentTime","gain","linearRampToValueAtTime","start","stop","isPaused","manageFocusOnPause","isRunning","manageFocusDuringGameplay","pauseMenu","querySelector","focus","gameArea","savedSettings","resetSettings"],"mappings":"wEA+hBAA,EAAA,IAphBO,MACLC,WAAAA,CAAYC,EAAe,IAOzB,GALAC,KAAKC,SAAWF,EAAaE,SAC7BD,KAAKE,OAASH,EAAaG,OAC3BF,KAAKG,OAASJ,EAAaI,QAGtBH,KAAKC,SACR,MAAM,IAAIG,MAAM,4CAElB,IAAKJ,KAAKE,OACR,MAAM,IAAIE,MAAM,0CAIlBJ,KAAKK,MAAQ,CACXC,aAAc,EACdC,SAAU,GACVC,MAAO,EACPC,UAAW,EACXC,MAAO,EACPC,eAAgB,KAChBC,gBAAgB,EAChBC,UAAU,GAIZb,KAAKc,aAAed,KAAKe,yBAGzBf,KAAKgB,qBAELhB,KAAKE,OAAOe,KAAK,0BACnB,CAKA,gBAAMC,GACJlB,KAAKE,OAAOe,KAAK,qCAGXjB,KAAKmB,eAGXnB,KAAKoB,WAAWpB,KAAKK,MAAMC,cAE3BN,KAAKE,OAAOe,KAAK,uCACnB,CAKAI,OAAAA,GACErB,KAAKE,OAAOe,KAAK,8BAGjBjB,KAAKsB,eAGLtB,KAAKuB,sBAELvB,KAAKE,OAAOe,KAAK,yBACnB,CAKAO,MAAAA,CAAOC,EAAWC,GAEhB,GAAI1B,KAAKK,MAAMM,iBAAmBX,KAAKK,MAAMO,eAAgB,CAC3D,MAAMe,EAAYC,KAAKC,MAAQ7B,KAAKK,MAAMM,eAGpCmB,EAAc9B,KAAKc,aAAad,KAAKK,MAAMC,aAAe,GAC5DwB,EAAYC,WAAaJ,EAAYG,EAAYC,WACnD/B,KAAKgC,oBAET,CAGAhC,KAAKiC,yBAAyBR,EAAWC,EAC3C,CAKAV,kBAAAA,GAEEhB,KAAKC,SAASiC,GAAG,sBAAuBlC,KAAKmC,kBAAkBC,KAAKpC,OACpEA,KAAKC,SAASiC,GAAG,iBAAkBlC,KAAKqC,oBAAoBD,KAAKpC,OACjEA,KAAKC,SAASiC,GACZ,uBACAlC,KAAKsC,oBAAoBF,KAAKpC,OAEhCA,KAAKC,SAASiC,GACZ,wBACAlC,KAAKuC,qBAAqBH,KAAKpC,OAIjCA,KAAKC,SAASiC,GAAG,aAAclC,KAAKwC,gBAAgBJ,KAAKpC,OACzDA,KAAKC,SAASiC,GAAG,qBAAsBlC,KAAKyC,mBAAmBL,KAAKpC,OAGpEA,KAAKC,SAASiC,GACZ,uBACAlC,KAAK0C,wBAAwBN,KAAKpC,OAEpCA,KAAKC,SAASiC,GACZ,2BACAlC,KAAK2C,+BAA+BP,KAAKpC,MAE7C,CAKAuB,mBAAAA,GACEvB,KAAKC,SAAS2C,IACZ,sBACA5C,KAAKmC,kBAAkBC,KAAKpC,OAE9BA,KAAKC,SAAS2C,IACZ,iBACA5C,KAAKqC,oBAAoBD,KAAKpC,OAEhCA,KAAKC,SAAS2C,IACZ,uBACA5C,KAAKsC,oBAAoBF,KAAKpC,OAEhCA,KAAKC,SAAS2C,IACZ,wBACA5C,KAAKuC,qBAAqBH,KAAKpC,OAEjCA,KAAKC,SAAS2C,IAAI,aAAc5C,KAAKwC,gBAAgBJ,KAAKpC,OAC1DA,KAAKC,SAAS4C,eACZ,qBACA7C,KAAKyC,mBAAmBL,KAAKpC,OAE/BA,KAAKC,SAAS4C,eACZ,uBACA7C,KAAK0C,wBAAwBN,KAAKpC,OAEpCA,KAAKC,SAAS4C,eACZ,2BACA7C,KAAK2C,+BAA+BP,KAAKpC,MAE7C,CAKAe,sBAAAA,GACE,MAAO,CACL,CAAEgB,UAAW,IAAOe,YAAa,IAAMC,WAAY,QACnD,CAAEhB,UAAW,IAAOe,YAAa,KAAMC,WAAY,QACnD,CAAEhB,UAAW,KAAQe,YAAa,IAAMC,WAAY,UACpD,CAAEhB,UAAW,KAAQe,YAAa,KAAMC,WAAY,UACpD,CAAEhB,UAAW,KAAQe,YAAa,IAAOC,WAAY,QACrD,CAAEhB,UAAW,IAAQe,YAAa,KAAOC,WAAY,QACrD,CAAEhB,UAAW,KAAQe,YAAa,IAAOC,WAAY,UACrD,CAAEhB,UAAW,KAAQe,YAAa,KAAOC,WAAY,UACrD,CAAEhB,UAAW,KAAQe,YAAa,IAAOC,WAAY,UACrD,CAAEhB,UAAW,IAAQe,YAAa,IAAOC,WAAY,UAEzD,CAKA3B,UAAAA,CAAW4B,GACThD,KAAKK,MAAMC,aAAe0C,EAC1BhD,KAAKK,MAAMM,eAAiBiB,KAAKC,MACjC7B,KAAKK,MAAMO,gBAAiB,EAC5BZ,KAAKK,MAAMQ,UAAW,EAEtB,MAAMiB,EAAc9B,KAAKc,aAAakC,EAAc,GAC/ClB,GAKL9B,KAAKE,OAAOe,KACV,oBAAoB+B,MAAgBlB,EAAYiB,eAIlD/C,KAAKC,SAASgD,KAAK,gBAAiB,CAClCC,MAAOF,EACP7C,OAAQ2B,EACRqB,UAAWvB,KAAKC,SAZhB7B,KAAKE,OAAOkD,MAAM,yBAAyBJ,IAc/C,CAKAb,iBAAAA,CAAkBkB,GAChBrD,KAAKK,MAAMG,OAAS6C,EAAKC,aAAe,EAGpCtD,KAAKK,MAAMG,MAAQR,KAAKK,MAAMI,YAChCT,KAAKK,MAAMI,UAAYT,KAAKK,MAAMG,OAIpC,MAAMsB,EAAc9B,KAAKc,aAAad,KAAKK,MAAMC,aAAe,GAE9DwB,GACA9B,KAAKK,MAAMG,OAASsB,EAAYgB,cAC/B9C,KAAKK,MAAMO,gBAEZZ,KAAKuD,gBAGPvD,KAAKC,SAASgD,KAAK,oBAAqB,CACtCzC,MAAOR,KAAKK,MAAMG,MAClBC,UAAWT,KAAKK,MAAMI,UACtB0C,UAAWvB,KAAKC,OAEpB,CAKAQ,mBAAAA,CAAoBgB,GAClBrD,KAAKK,MAAMK,OAAS2C,EAAKG,QAAU,EAE/BxD,KAAKK,MAAMK,OAAS,EACtBV,KAAKa,WAELb,KAAKC,SAASgD,KAAK,oBAAqB,CACtCvC,MAAOV,KAAKK,MAAMK,MAClByC,UAAWvB,KAAKC,OAGtB,CAKAS,mBAAAA,CAAoBe,GAClB,MAAMI,EAAaJ,EAAKI,YAAc,EACtCzD,KAAKmC,kBAAkB,CAAEmB,YAAaG,IAEtCzD,KAAKE,OAAOe,KAAK,mBAAmBoC,EAAKK,cAAcD,WACzD,CAKAlB,oBAAAA,CAAqBc,GACnBrD,KAAKuD,eACP,CAKAA,aAAAA,GACE,GAAIvD,KAAKK,MAAMO,eACb,OAGFZ,KAAKK,MAAMO,gBAAiB,EAC5B,MAAMe,EAAYC,KAAKC,MAAQ7B,KAAKK,MAAMM,eAE1CX,KAAKE,OAAOe,KACV,SAASjB,KAAKK,MAAMC,6BAA6BqB,OAInD3B,KAAKC,SAASgD,KAAK,kBAAmB,CACpCC,MAAOlD,KAAKK,MAAMC,aAClBE,MAAOR,KAAKK,MAAMG,MAClBmD,KAAMhC,EACNwB,UAAWvB,KAAKC,QAId7B,KAAKK,MAAMC,cAAgBN,KAAKK,MAAME,SACxCP,KAAK4D,eAGLC,WAAW,KACT7D,KAAKoB,WAAWpB,KAAKK,MAAMC,aAAe,IACzC,IAEP,CAKA0B,kBAAAA,GACEhC,KAAKE,OAAOe,KAAK,SAASjB,KAAKK,MAAMC,0BAErCN,KAAKC,SAASgD,KAAK,gBAAiB,CAClCC,MAAOlD,KAAKK,MAAMC,aAClB6C,UAAWvB,KAAKC,QAIlB7B,KAAKqC,oBAAoB,CAAEmB,OAAQ,IAC9BxD,KAAKK,MAAMQ,UACdb,KAAKoB,WAAWpB,KAAKK,MAAMC,aAE/B,CAKAsD,YAAAA,GACE5D,KAAKE,OAAOe,KAAK,mBAEjBjB,KAAKC,SAASgD,KAAK,iBAAkB,CACnCa,WAAY9D,KAAKK,MAAMG,MACvBuD,WAAY/D,KAAKK,MAAMC,aACvB6C,UAAWvB,KAAKC,OAEpB,CAKAhB,QAAAA,GACEb,KAAKK,MAAMQ,UAAW,EAEtBb,KAAKE,OAAOe,KAAK,aAEjBjB,KAAKC,SAASgD,KAAK,gBAAiB,CAClCa,WAAY9D,KAAKK,MAAMG,MACvBuD,WAAY/D,KAAKK,MAAMC,aACvB6C,UAAWvB,KAAKC,OAEpB,CAKAW,eAAAA,CAAgBa,GAEd,OAAQA,EAAKW,MACX,IAAK,UACHhE,KAAKiE,cACL,MACF,IAAK,YACCjE,KAAKK,MAAMO,gBACbZ,KAAKoB,WAAWpB,KAAKK,MAAMC,aAAe,GAE5C,MACF,IAAK,QACHN,KAAKC,SAASgD,KAAK,sBAAuB,CAAEE,UAAWvB,KAAKC,QAGlE,CAKAY,kBAAAA,CAAmBY,GACjBrD,KAAKG,OAAS,IAAKH,KAAKG,UAAWkD,EAAKlD,QACxCH,KAAKE,OAAOe,KAAK,6BACnB,CAKAyB,uBAAAA,CAAwBW,GAEtB,MAAMa,EAAab,EAAKa,YAAc,EAClCA,EAAa,GACflE,KAAKmC,kBAAkB,CAAEmB,YAAaY,IAIpCb,EAAKc,SACPnE,KAAKoE,wBAAwBf,EAAKc,QAEtC,CAKAxB,8BAAAA,CAA+BU,GAE7B,MAAMa,EAAab,EAAKa,YAAc,EAClCA,EAAa,GACflE,KAAKmC,kBAAkB,CAAEmB,YAAaY,IAIpCb,EAAKc,SACPnE,KAAKqE,sBAAsBhB,EAAKc,QAEpC,CAKAC,uBAAAA,CAAwBD,GAClBA,EAAQG,aACVtE,KAAKK,MAAMK,OAASyD,EAAQG,YAE1BH,EAAQI,kBAEVvE,KAAKwE,yBAA2BL,EAAQI,gBACxCV,WAAW,KACT7D,KAAKwE,yBAA2B,GAC/BL,EAAQM,UAAY,KAE3B,CAKAJ,qBAAAA,CAAsBF,GAChBA,EAAQO,kBACV1E,KAAKC,SAASgD,KAAK,wBAAyB,CAC1Ce,KAAMG,EAAQO,iBACdD,SAAUN,EAAQM,UAAY,IAC9BtB,UAAWvB,KAAKC,OAGtB,CAKAoC,WAAAA,GACEjE,KAAKK,MAAQ,CACXC,aAAc,EACdC,SAAU,GACVC,MAAO,EACPC,UAAWT,KAAKK,MAAMI,UACtBC,MAAO,EACPC,eAAgB,KAChBC,gBAAgB,EAChBC,UAAU,GAGZb,KAAKoB,WAAW,GAEhBpB,KAAKC,SAASgD,KAAK,iBAAkB,CACnCE,UAAWvB,KAAKC,OAEpB,CAKAI,wBAAAA,CAAyBR,EAAWC,GAClC,MAAMI,EAAc9B,KAAKc,aAAad,KAAKK,MAAMC,aAAe,GAC3DwB,GAGGA,EAAYiB,UAiBtB,CAKA,kBAAM5B,GACJ,IACE,MAAMwD,EAAYC,aAAaC,QAAQ,YACvC,GAAIF,EAAW,CACb,MAAMtB,EAAOyB,KAAKC,MAAMJ,GACxB3E,KAAKK,MAAMI,UAAY4C,EAAK5C,WAAa,EACzCT,KAAKE,OAAOe,KAAK,gCACnB,CACF,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,4BAA6BA,EACjD,CACF,CAKA9B,YAAAA,GACE,IACE,MAAM+B,EAAO,CACX5C,UAAWT,KAAKK,MAAMI,UACtBuE,WAAYpD,KAAKC,OAEnB+C,aAAaK,QAAQ,WAAYH,KAAKI,UAAU7B,IAChDrD,KAAKE,OAAOe,KAAK,6BACnB,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,4BAA6BA,EACjD,CACF,CAKA+B,QAAAA,GACE,MAAO,IAAKnF,KAAKK,MACnB,CAKA+E,cAAAA,CAAepC,GACb,OAAOhD,KAAKc,aAAakC,EAAc,EACzC,CAKAqC,cAAAA,CAAerC,EAAa7C,GACtB6C,GAAe,GAAKA,GAAehD,KAAKc,aAAawE,SACvDtF,KAAKc,aAAakC,EAAc,GAAK,IAChChD,KAAKc,aAAakC,EAAc,MAChC7C,GAGT,ICiEFN,EAAA,IArlBO,MACLC,WAAAA,CAAYC,EAAe,IAOzB,GALAC,KAAKC,SAAWF,EAAaE,SAC7BD,KAAKE,OAASH,EAAaG,OAC3BF,KAAK0B,UAAY3B,EAAa2B,WAGzB1B,KAAKC,SACR,MAAM,IAAIG,MAAM,mDAElB,IAAKJ,KAAKE,OACR,MAAM,IAAIE,MAAM,iDAIlBJ,KAAKuF,aAAe,IAAIC,IACxBxF,KAAKyF,qBAAuB,IAAIC,IAChC1F,KAAK2F,SAAW,IAAIH,IAGpBxF,KAAK4F,yBAGL5F,KAAKgB,qBAELhB,KAAKE,OAAOe,KAAK,iCACnB,CAKA,gBAAMC,GACJlB,KAAKE,OAAOe,KAAK,4CAGXjB,KAAK6F,sBAEX7F,KAAKE,OAAOe,KAAK,8CACnB,CAKAI,OAAAA,GACErB,KAAKE,OAAOe,KAAK,qCAGjBjB,KAAK8F,sBAGL9F,KAAKuB,sBAELvB,KAAKE,OAAOe,KAAK,gCACnB,CAKAO,MAAAA,CAAOC,EAAWC,GAEhB1B,KAAK+F,2BAA2BrE,GAGhC1B,KAAKgG,uBAAuBtE,EAC9B,CAKAkE,sBAAAA,GAEE5F,KAAKiG,kBAAkB,cAAe,CACpCC,KAAM,cACNC,YAAa,8BACbnC,KAAM,QACNoC,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,GAAI8F,MAAO,YAC5BC,KAAM,SAGRvG,KAAKiG,kBAAkB,eAAgB,CACrCC,KAAM,eACNC,YAAa,sBACbnC,KAAM,QACNoC,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,IAAK8F,MAAO,gBAC7BC,KAAM,WAGRvG,KAAKiG,kBAAkB,kBAAmB,CACxCC,KAAM,kBACNC,YAAa,sBACbnC,KAAM,QACNoC,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,IAAM8F,MAAO,mBAC9BC,KAAM,UAIRvG,KAAKiG,kBAAkB,UAAW,CAChCC,KAAM,mBACNC,YAAa,mBACbnC,KAAM,QACNoC,OAAQ,EACRC,OAAQ,CAAE/B,WAAY,EAAGgC,MAAO,mBAChCC,KAAM,UAGRvG,KAAKiG,kBAAkB,WAAY,CACjCC,KAAM,oBACNC,YAAa,oBACbnC,KAAM,QACNoC,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAM8F,MAAO,mBAC9BC,KAAM,YAIRvG,KAAKiG,kBAAkB,YAAa,CAClCC,KAAM,YACNC,YAAa,mBACbnC,KAAM,aACNoC,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK8F,MAAO,aAC7BC,KAAM,QAGRvG,KAAKiG,kBAAkB,UAAW,CAChCC,KAAM,UACNC,YAAa,oBACbnC,KAAM,aACNoC,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,IAAM8F,MAAO,WAC9BC,KAAM,aAIRvG,KAAKiG,kBAAkB,cAAe,CACpCC,KAAM,cACNC,YAAa,uCACbnC,KAAM,QACNoC,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,IAAK8F,MAAO,eAC7BC,KAAM,cAGRvG,KAAKiG,kBAAkB,kBAAmB,CACxCC,KAAM,kBACNC,YAAa,+BACbnC,KAAM,WACNoC,OAAQ,KACRC,OAAQ,CAAE7F,MAAO,IAAM8F,MAAO,mBAC9BC,KAAM,UAIRvG,KAAKiG,kBAAkB,eAAgB,CACrCC,KAAM,eACNC,YAAa,sBACbnC,KAAM,QACNoC,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK8F,MAAO,gBAC7BC,KAAM,SAGRvG,KAAKiG,kBAAkB,eAAgB,CACrCC,KAAM,eACNC,YAAa,sBACbnC,KAAM,QACNoC,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAM8F,MAAO,gBAC9BC,KAAM,cAIRvG,KAAKiG,kBAAkB,gBAAiB,CACtCC,KAAM,gBACNC,YAAa,yCACbnC,KAAM,UACNoC,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAK8F,MAAO,kBAC7BC,KAAM,WAGRvG,KAAKiG,kBAAkB,eAAgB,CACrCC,KAAM,eACNC,YAAa,8CACbnC,KAAM,WACNoC,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAK8F,MAAO,gBAC7BC,KAAM,SAEV,CAKAN,iBAAAA,CAAkBO,EAAIC,GACpBzG,KAAKuF,aAAamB,IAAIF,EAAI,CACxBA,QACGC,EACHE,UAAU,EACVC,WAAY,KACZjB,SAAU,IAIZ3F,KAAK2F,SAASe,IAAIF,EAAI,EACxB,CAKAxF,kBAAAA,GAEEhB,KAAKC,SAASiC,GAAG,sBAAuBlC,KAAKmC,kBAAkBC,KAAKpC,OAGpEA,KAAKC,SAASiC,GACZ,wBACAlC,KAAKuC,qBAAqBH,KAAKpC,OAIjCA,KAAKC,SAASiC,GACZ,uBACAlC,KAAKsC,oBAAoBF,KAAKpC,OAIhCA,KAAKC,SAASiC,GAAG,eAAgBlC,KAAK6G,kBAAkBzE,KAAKpC,OAC7DA,KAAKC,SAASiC,GAAG,kBAAmBlC,KAAKuC,qBAAqBH,KAAKpC,OAGnEA,KAAKC,SAASiC,GAAG,sBAAuBlC,KAAK8G,mBAAmB1E,KAAKpC,OAGrEA,KAAKC,SAASiC,GAAG,iBAAkBlC,KAAKqC,oBAAoBD,KAAKpC,MACnE,CAKAuB,mBAAAA,GACEvB,KAAKC,SAAS4C,eACZ,sBACA7C,KAAKmC,kBAAkBC,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,wBACA7C,KAAKuC,qBAAqBH,KAAKpC,OAEjCA,KAAKC,SAAS4C,eACZ,uBACA7C,KAAKsC,oBAAoBF,KAAKpC,OAEhCA,KAAKC,SAAS4C,eACZ,eACA7C,KAAK6G,kBAAkBzE,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,kBACA7C,KAAKuC,qBAAqBH,KAAKpC,OAEjCA,KAAKC,SAAS4C,eACZ,sBACA7C,KAAK8G,mBAAmB1E,KAAKpC,OAE/BA,KAAKC,SAAS4C,eACZ,iBACA7C,KAAKqC,oBAAoBD,KAAKpC,MAElC,CAKAmC,iBAAAA,CAAkBkB,GAChB,MAAM0D,EAAe/G,KAAK0B,YAAYlB,MACtCR,KAAKgH,uBAAuBD,EAC9B,CAKAxE,oBAAAA,CAAqBc,GACnBrD,KAAKiH,uBAAuB5D,EAAKH,OACjClD,KAAKkH,uBAAuB7D,EAAKM,MACjC3D,KAAKmH,8BAA8B9D,EACrC,CAKAf,mBAAAA,CAAoBe,GAClBrD,KAAKoH,4BAA4B/D,EAAKK,SACxC,CAKAmD,iBAAAA,CAAkBxD,GAChBrD,KAAKqH,cAAgBhE,EAAKF,SAC5B,CAKA2D,kBAAAA,CAAmBzD,GACjBrD,KAAKgG,uBAAuB3C,EAAKiE,MACnC,CAKAjF,mBAAAA,CAAoBgB,GAClBrD,KAAKuH,qBAAsB,CAC7B,CAKAP,sBAAAA,CAAuBD,GACrB/G,KAAKwH,wBAAwB,QAAST,EACxC,CAKAE,sBAAAA,CAAuB/D,GACrBlD,KAAKwH,wBAAwB,QAAStE,EACxC,CAKAkE,2BAAAA,CAA4B1D,GAE1B,MAAM+D,EAAezH,KAAK2F,SAAS+B,IAAI,cAAgB,EACvD1H,KAAK2F,SAASe,IAAI,YAAae,EAAe,GAE9CzH,KAAKwH,wBAAwB,aAAcxH,KAAK2F,SAAS+B,IAAI,aAC/D,CAKAR,sBAAAA,CAAuBvF,GACrB3B,KAAKwH,wBAAwB,QAAS7F,EACxC,CAKAqE,sBAAAA,CAAuBsB,GACrBtH,KAAKwH,wBAAwB,QAASF,EACxC,CAKAvB,0BAAAA,CAA2BrE,GACzB,GAAI1B,KAAKqH,cAAe,CACtB,MAAMM,EAAW/F,KAAKC,MAAQ7B,KAAKqH,cACnCrH,KAAKwH,wBAAwB,WAAYG,EAC3C,CACF,CAKA3B,sBAAAA,CAAuBtE,GAEzB,CAMEyF,6BAAAA,CAA8BS,GACxBA,EAAUC,SACZ7H,KAAKwH,wBAAwB,UAAW,EAE5C,CAKAA,uBAAAA,CAAwBxD,EAAM8D,GAC5B,IAAK,MAAOtB,EAAIuB,KAAgB/H,KAAKuF,aAC/BwC,EAAY/D,OAASA,GAAS+D,EAAYpB,WACxCmB,GAASC,EAAY3B,OACvBpG,KAAKgI,kBAAkBxB,IAGvBxG,KAAK2F,SAASe,IAAIF,EAAIsB,GACtBC,EAAYpC,SAAWmC,GAI/B,CAKAE,iBAAAA,CAAkBxB,GAChB,MAAMuB,EAAc/H,KAAKuF,aAAamC,IAAIlB,GACrCuB,IAAeA,EAAYpB,WAIhCoB,EAAYpB,UAAW,EACvBoB,EAAYnB,WAAahF,KAAKC,MAC9B7B,KAAKyF,qBAAqBwC,IAAIzB,GAE9BxG,KAAKE,OAAOe,KAAK,yBAAyB8G,EAAY7B,QAGtDlG,KAAKC,SAASgD,KAAK,uBAAwB,CACzCuD,KACAN,KAAM6B,EAAY7B,KAClBC,YAAa4B,EAAY5B,YACzBE,OAAQ0B,EAAY1B,OACpBE,KAAMwB,EAAYxB,KAClBpD,UAAWvB,KAAKC,QAIlB7B,KAAKkI,uBAAuBH,GAC9B,CAKAG,sBAAAA,CAAuBH,GACrB,IAAKA,EAAY1B,OAAQ,OAEzB,MAAMA,EAAS0B,EAAY1B,OAGvBA,EAAO7F,OACTR,KAAKC,SAASgD,KAAK,sBAAuB,CACxCK,YAAa+C,EAAO7F,MACpB2H,OAAQ,cACRC,cAAeL,EAAYvB,KAK3BH,EAAO/B,YACTtE,KAAKC,SAASgD,KAAK,sBAAuB,CACxCoF,YAAahC,EAAO/B,WACpB6D,OAAQ,cACRC,cAAeL,EAAYvB,KAK3BH,EAAOC,OACTtG,KAAKC,SAASgD,KAAK,sBAAuB,CACxCqD,MAAOD,EAAOC,MACd6B,OAAQ,cACRC,cAAeL,EAAYvB,KAK3BH,EAAOlC,SACTnE,KAAKC,SAASgD,KAAK,yBAA0B,CAC3CkB,QAASkC,EAAOlC,QAChBiE,cAAeL,EAAYvB,IAGjC,CAKA8B,cAAAA,CAAe9B,GACb,OAAOxG,KAAKuF,aAAamC,IAAIlB,EAC/B,CAKA+B,kBAAAA,GACE,OAAOC,MAAMC,KAAKzI,KAAKuF,aAAamD,SACtC,CAKAC,uBAAAA,GACE,OAAOH,MAAMC,KAAKzI,KAAKuF,aAAamD,UAAUE,OAAQC,GAAMA,EAAElC,SAChE,CAKAmC,sBAAAA,CAAuBtC,GACrB,MAAMuB,EAAc/H,KAAKuF,aAAamC,IAAIlB,GAC1C,OAAKuB,EAEE,CACLvB,KACAN,KAAM6B,EAAY7B,KAClBC,YAAa4B,EAAY5B,YACzBR,SAAUoC,EAAYpC,SACtBS,OAAQ2B,EAAY3B,OACpB2C,WAAYC,KAAKC,IACdlB,EAAYpC,SAAWoC,EAAY3B,OAAU,IAC9C,KAEFO,SAAUoB,EAAYpB,UAZC,IAc3B,CAKAuC,yBAAAA,GACE,MAAMvD,EAAW,GACjB,IAAK,MAAOa,EAAIuB,KAAgB/H,KAAKuF,aACnCI,EAASwD,KAAKnJ,KAAK8I,uBAAuBtC,IAE5C,OAAOb,CACT,CAKA,yBAAME,GACJ,IACE,MAAMlB,EAAYC,aAAaC,QAAQ,mBACvC,GAAIF,EAAW,CACb,MAAMtB,EAAOyB,KAAKC,MAAMJ,GAaxB,GAVItB,EAAKsD,UACPtD,EAAKsD,SAASyC,QAAS5C,IACjBxG,KAAKuF,aAAa8D,IAAI7C,KACxBxG,KAAKuF,aAAamC,IAAIlB,GAAIG,UAAW,EACrC3G,KAAKyF,qBAAqBwC,IAAIzB,MAMhCnD,EAAKsC,SACP,IAAK,MAAOa,EAAIb,KAAa2D,OAAOC,QAAQlG,EAAKsC,UAC3C3F,KAAKuF,aAAa8D,IAAI7C,KACxBxG,KAAKuF,aAAamC,IAAIlB,GAAIb,SAAWA,EACrC3F,KAAK2F,SAASe,IAAIF,EAAIb,IAK5B3F,KAAKE,OAAOe,KAAK,uCACnB,CACF,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,mCAAoCA,EACxD,CACF,CAKA0C,mBAAAA,GACE,IACE,MAAMzC,EAAO,CACXsD,SAAU6B,MAAMC,KAAKzI,KAAKyF,sBAC1BE,SAAU2D,OAAOE,YAAYxJ,KAAK2F,WAEpCf,aAAaK,QAAQ,kBAAmBH,KAAKI,UAAU7B,IACvDrD,KAAKE,OAAOe,KAAK,oCACnB,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,mCAAoCA,EACxD,CACF,CAKAqG,iBAAAA,GACEzJ,KAAKyF,qBAAqBiE,QAC1B1J,KAAK2F,SAAS+D,QAEd,IAAK,MAAOlD,EAAIuB,KAAgB/H,KAAKuF,aACnCwC,EAAYpB,UAAW,EACvBoB,EAAYnB,WAAa,KACzBmB,EAAYpC,SAAW,EACvB3F,KAAK2F,SAASe,IAAIF,EAAI,GAGxBxG,KAAKE,OAAOe,KAAK,yBACnB,ICyFFpB,EAAA,IA7qBO,MACLC,WAAAA,CAAYC,EAAe,IAOzB,GALAC,KAAKC,SAAWF,EAAaE,SAC7BD,KAAKE,OAASH,EAAaG,OAC3BF,KAAK0B,UAAY3B,EAAa2B,WAGzB1B,KAAKC,SACR,MAAM,IAAIG,MAAM,sDAElB,IAAKJ,KAAKE,OACR,MAAM,IAAIE,MAAM,oDAIlBJ,KAAK2J,WAAa,IAAInE,IACtBxF,KAAK4J,iBAAmB,GACxB5J,KAAK6J,oBAAsB,IAAInE,IAC/B1F,KAAK8J,kBAAoB,IAAItE,IAC7BxF,KAAK+J,kBAAoB,KAGzB/J,KAAKgK,mBAAqBhK,KAAKiK,+BAG/BjK,KAAKgB,qBAELhB,KAAKE,OAAOe,KAAK,oCACnB,CAKA,gBAAMC,GACJlB,KAAKE,OAAOe,KAAK,+CAGXjB,KAAKkK,oBAGXlK,KAAKmK,0BAELnK,KAAKE,OAAOe,KAAK,iDACnB,CAKAI,OAAAA,GACErB,KAAKE,OAAOe,KAAK,wCAGjBjB,KAAKoK,oBAGLpK,KAAKuB,sBAELvB,KAAKE,OAAOe,KAAK,mCACnB,CAKAO,MAAAA,CAAOC,EAAWC,GAEhB1B,KAAKqK,8BAGLrK,KAAKsK,wBAAwB5I,EAC/B,CAKAuI,4BAAAA,GACE,MAAO,CACLzJ,MAAO,CACL,CACE0F,KAAM,eACNC,YAAa,yCACbnC,KAAM,QACNjB,WAAY,OACZqD,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,yCACbnC,KAAM,QACNjB,WAAY,SACZqD,OAAQ,IACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,yCACbnC,KAAM,QACNjB,WAAY,OACZqD,OAAQ,KACRC,OAAQ,CAAE7F,MAAO,IAAM+J,MAAO,MAGlCrH,MAAO,CACL,CACEgD,KAAM,gBACNC,YAAa,uBACbnC,KAAM,QACNjB,WAAY,OACZqD,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,uBACbnC,KAAM,QACNjB,WAAY,SACZqD,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,uBACbnC,KAAM,QACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,KAAM+J,MAAO,MAGlCC,WAAY,CACV,CACEtE,KAAM,iBACNC,YAAa,0CACbnC,KAAM,aACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,IAE/B,CACErE,KAAM,eACNC,YAAa,0CACbnC,KAAM,aACNjB,WAAY,SACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,cACNC,YAAa,0CACbnC,KAAM,aACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,MAGjCjD,MAAO,CACL,CACEpB,KAAM,gBACNC,YAAa,4BACbnC,KAAM,QACNjB,WAAY,OACZqD,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,IAE/B,CACErE,KAAM,eACNC,YAAa,4BACbnC,KAAM,QACNjB,WAAY,SACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,4BACbnC,KAAM,QACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,MAGjC5G,KAAM,CACJ,CACEuC,KAAM,eACNC,YAAa,6CACbnC,KAAM,OACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,6CACbnC,KAAM,OACNjB,WAAY,SACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,eACNC,YAAa,6CACbnC,KAAM,OACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAM+J,MAAO,MAGlCE,SAAU,CACR,CACEvE,KAAM,WACNC,YAAa,yCACbnC,KAAM,WACNjB,WAAY,OACZqD,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAK+J,MAAO,KAE/B,CACErE,KAAM,kBACNC,YAAa,yCACbnC,KAAM,WACNjB,WAAY,SACZqD,OAAQ,EACRC,OAAQ,CAAE7F,MAAO,IAAM+J,MAAO,KAEhC,CACErE,KAAM,kBACNC,YAAa,yCACbnC,KAAM,WACNjB,WAAY,OACZqD,OAAQ,GACRC,OAAQ,CAAE7F,MAAO,IAAM+J,MAAO,OAItC,CAKAvJ,kBAAAA,GAEEhB,KAAKC,SAASiC,GAAG,sBAAuBlC,KAAKmC,kBAAkBC,KAAKpC,OAGpEA,KAAKC,SAASiC,GACZ,wBACAlC,KAAKuC,qBAAqBH,KAAKpC,OAIjCA,KAAKC,SAASiC,GACZ,uBACAlC,KAAKsC,oBAAoBF,KAAKpC,OAIhCA,KAAKC,SAASiC,GAAG,sBAAuBlC,KAAK8G,mBAAmB1E,KAAKpC,OAGrEA,KAAKC,SAASiC,GAAG,eAAgBlC,KAAK6G,kBAAkBzE,KAAKpC,OAC7DA,KAAKC,SAASiC,GAAG,kBAAmBlC,KAAKuC,qBAAqBH,KAAKpC,OAGnEA,KAAKC,SAASiC,GAAG,iBAAkBlC,KAAKqC,oBAAoBD,KAAKpC,MACnE,CAKAuB,mBAAAA,GACEvB,KAAKC,SAAS4C,eACZ,sBACA7C,KAAKmC,kBAAkBC,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,wBACA7C,KAAKuC,qBAAqBH,KAAKpC,OAEjCA,KAAKC,SAAS4C,eACZ,uBACA7C,KAAKsC,oBAAoBF,KAAKpC,OAEhCA,KAAKC,SAAS4C,eACZ,sBACA7C,KAAK8G,mBAAmB1E,KAAKpC,OAE/BA,KAAKC,SAAS4C,eACZ,eACA7C,KAAK6G,kBAAkBzE,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,kBACA7C,KAAKuC,qBAAqBH,KAAKpC,OAEjCA,KAAKC,SAAS4C,eACZ,iBACA7C,KAAKqC,oBAAoBD,KAAKpC,MAElC,CAKAmK,uBAAAA,GACE,MAAMO,GAAQ,IAAI9I,MAAO+I,eAGzB,GAAI3K,KAAK+J,oBAAsBW,EAC7B,OAIF1K,KAAK4J,iBAAmB,GACxB5J,KAAK6J,oBAAoBH,QACzB1J,KAAK8J,kBAAkBJ,QAGvB,MAAMkB,EAAiBtB,OAAOuB,KAAK7K,KAAKgK,oBAClBhK,KAAK8K,kBAAkBF,EAAgB,GAE/CxB,QAAQ,CAACpF,EAAM+G,KAC3B,MAAMC,EAAWhL,KAAKiL,iBAAiBjL,KAAKgK,mBAAmBhG,IACzDkH,EAAYlL,KAAKmL,gBAAgBH,EAAUD,GACjD/K,KAAK4J,iBAAiBT,KAAK+B,GAC3BlL,KAAK2J,WAAWjD,IAAIwE,EAAU1E,GAAI0E,KAGpClL,KAAK+J,kBAAoBW,EACzB1K,KAAKE,OAAOe,KACV,aAAajB,KAAK4J,iBAAiBtE,+BAA+BoF,KAIpE1K,KAAKC,SAASgD,KAAK,4BAA6B,CAC9C0G,WAAY3J,KAAK4J,iBACjBwB,KAAMV,EACNvH,UAAWvB,KAAKC,OAEpB,CAKAsJ,eAAAA,CAAgBH,EAAUD,GAgBxB,MAdkB,CAChBvE,GAFS,SAAS5E,KAAKC,SAASkJ,IAGhC7E,KAAM8E,EAAS9E,KACfC,YAAa6E,EAAS7E,YAAYkF,QAAQ,WAAYL,EAAS5E,QAC/DpC,KAAMgH,EAAShH,KACfjB,WAAYiI,EAASjI,WACrBqD,OAAQ4E,EAAS5E,OACjBC,OAAQ2E,EAAS3E,OACjBV,SAAU,EACV2F,WAAW,EACXC,YAAa,KACbC,UAAW5J,KAAKC,MAIpB,CAKAwI,2BAAAA,GACE,MAAMK,GAAQ,IAAI9I,MAAO+I,eACrB3K,KAAK+J,oBAAsBW,GAC7B1K,KAAKmK,yBAET,CAKAG,uBAAAA,CAAwB5I,GAE1B,CAMES,iBAAAA,CAAkBkB,GAChBrD,KAAKyL,qBAAqBpI,EAAK7C,MACjC,CAKA+B,oBAAAA,CAAqBc,GACnBrD,KAAK0L,qBAAqBrI,EAAKH,OAC/BlD,KAAK2L,oBAAoBtI,EAAKM,MAC9B3D,KAAK4L,wBAAwBvI,EAC/B,CAKAf,mBAAAA,CAAoBe,GAClBrD,KAAK6L,0BAA0BxI,EAAKK,SACtC,CAKAoD,kBAAAA,CAAmBzD,GACjBrD,KAAK8L,qBAAqBzI,EAAKiE,MACjC,CAKAT,iBAAAA,CAAkBxD,GAChBrD,KAAKqH,cAAgBhE,EAAKF,UAC1BnD,KAAK+L,iBAAmB,EACxB/L,KAAKgM,iBAAmB,EACxBhM,KAAKiM,iBAAmB,EACxBjM,KAAKkM,iBAAmB,EACxBlM,KAAKmM,cAAgB,CACvB,CAKA9J,mBAAAA,CAAoBgB,GAClBrD,KAAKmM,cAAgB,CACvB,CAKAV,oBAAAA,CAAqB1E,GACnB/G,KAAK+L,iBAAmBhF,EACxB/G,KAAKoM,sBAAsB,QAASrF,EACtC,CAKA2E,oBAAAA,CAAqBxI,GACnBlD,KAAKgM,iBAAmB9I,EACxBlD,KAAKoM,sBAAsB,QAASlJ,EACtC,CAKA2I,yBAAAA,CAA0BnI,GACxB1D,KAAKiM,mBACLjM,KAAKoM,sBAAsB,aAAcpM,KAAKiM,iBAChD,CAKAH,oBAAAA,CAAqBxE,GACnBtH,KAAKkM,iBAAmB5E,EACxBtH,KAAKoM,sBAAsB,QAAS9E,EACtC,CAKAqE,mBAAAA,CAAoBhK,GAClB,MAAM0K,EAAgBrD,KAAKsD,MAAM3K,EAAY,KAC7C3B,KAAKoM,sBAAsB,OAAQC,EACrC,CAKAT,uBAAAA,CAAwBhE,GACtB5H,KAAKmM,gBACLnM,KAAKoM,sBAAsB,WAAYpM,KAAKmM,cAC9C,CAKAC,qBAAAA,CAAsBpI,EAAM8D,GAC1B,IAAK,MAAMoD,KAAalL,KAAK4J,iBACvBsB,EAAUlH,OAASA,GAASkH,EAAUI,YACpCxD,GAASoD,EAAU9E,OACrBpG,KAAKuM,kBAAkBrB,EAAU1E,KAGjC0E,EAAUvF,SAAWmC,EACrB9H,KAAK8J,kBAAkBpD,IAAIwE,EAAU1E,GAAIsB,IAIjD,CAKAyE,iBAAAA,CAAkBC,GAChB,MAAMtB,EAAYlL,KAAK2J,WAAWjC,IAAI8E,GACjCtB,IAAaA,EAAUI,YAI5BJ,EAAUI,WAAY,EACtBJ,EAAUK,YAAc3J,KAAKC,MAC7B7B,KAAK6J,oBAAoB5B,IAAIuE,GAE7BxM,KAAKE,OAAOe,KAAK,8BAA8BiK,EAAUhF,QAGzDlG,KAAKC,SAASgD,KAAK,2BAA4B,CAC7CuD,GAAIgG,EACJtG,KAAMgF,EAAUhF,KAChBC,YAAa+E,EAAU/E,YACvBE,OAAQ6E,EAAU7E,OAClBlD,UAAWvB,KAAKC,QAIlB7B,KAAKyM,qBAAqBvB,GAC5B,CAKAuB,oBAAAA,CAAqBvB,GACnB,IAAKA,EAAU7E,OAAQ,OAEvB,MAAMA,EAAS6E,EAAU7E,OAGrBA,EAAO7F,OACTR,KAAKC,SAASgD,KAAK,sBAAuB,CACxCK,YAAa+C,EAAO7F,MACpB2H,OAAQ,iBACRqE,YAAatB,EAAU1E,KAKvBH,EAAOkE,OACTvK,KAAKC,SAASgD,KAAK,sBAAuB,CACxCyJ,YAAarG,EAAOkE,MACpBpC,OAAQ,iBACRqE,YAAatB,EAAU1E,KAKvBH,EAAOlC,SACTnE,KAAKC,SAASgD,KAAK,uBAAwB,CACzCkB,QAASkC,EAAOlC,QAChBqI,YAAatB,EAAU1E,IAG7B,CAKAmG,mBAAAA,GACE,OAAO3M,KAAK4J,iBAAiBhB,OAAQgE,IAAOA,EAAEtB,UAChD,CAKAuB,sBAAAA,GACE,OAAO7M,KAAK4J,iBAAiBhB,OAAQgE,GAAMA,EAAEtB,UAC/C,CAKAwB,gBAAAA,GACE,OAAO9M,KAAK4J,gBACd,CAKAmD,oBAAAA,CAAqBP,GACnB,MAAMtB,EAAYlL,KAAK2J,WAAWjC,IAAI8E,GACtC,OAAKtB,EAEE,CACL1E,GAAIgG,EACJtG,KAAMgF,EAAUhF,KAChBC,YAAa+E,EAAU/E,YACvBR,SAAUuF,EAAUvF,SACpBS,OAAQ8E,EAAU9E,OAClB2C,WAAYC,KAAKC,IAAKiC,EAAUvF,SAAWuF,EAAU9E,OAAU,IAAK,KACpEkF,UAAWJ,EAAUI,UACrBvI,WAAYmI,EAAUnI,WACtBsD,OAAQ6E,EAAU7E,QAXG,IAazB,CAKA2G,uBAAAA,GACE,MAAMrH,EAAW,GACjB,IAAK,MAAMuF,KAAalL,KAAK4J,iBAC3BjE,EAASwD,KAAKnJ,KAAK+M,qBAAqB7B,EAAU1E,KAEpD,OAAOb,CACT,CAKAmF,iBAAAA,CAAkBmC,EAAOC,GAEvB,OADiBD,EAAME,KAAK,IAAM,GAAMnE,KAAKoE,UAC7BC,MAAM,EAAGH,EAC3B,CAKAjC,gBAAAA,CAAiBgC,GACf,OAAOA,EAAMjE,KAAKsD,MAAMtD,KAAKoE,SAAWH,EAAM3H,QAChD,CAKA,uBAAM4E,GACJ,IACE,MAAMvF,EAAYC,aAAaC,QAAQ,sBACvC,GAAIF,EAAW,CACb,MAAMtB,EAAOyB,KAAKC,MAAMJ,GAaxB,GAVA3E,KAAK+J,kBAAoB1G,EAAK0G,kBAG1B1G,EAAKiI,WACPjI,EAAKiI,UAAUlC,QAAS5C,IACtBxG,KAAK6J,oBAAoB5B,IAAIzB,KAK7BnD,EAAKsC,SACP,IAAK,MAAOa,EAAIb,KAAa2D,OAAOC,QAAQlG,EAAKsC,UAC/C3F,KAAK8J,kBAAkBpD,IAAIF,EAAIb,GAInC3F,KAAKE,OAAOe,KAAK,2CACnB,CACF,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,uCAAwCA,EAC5D,CACF,CAKAgH,iBAAAA,GACE,IACE,MAAM/G,EAAO,CACX0G,kBAAmB/J,KAAK+J,kBACxBuB,UAAW9C,MAAMC,KAAKzI,KAAK6J,qBAC3BlE,SAAU2D,OAAOE,YAAYxJ,KAAK8J,oBAEpClF,aAAaK,QAAQ,qBAAsBH,KAAKI,UAAU7B,IAC1DrD,KAAKE,OAAOe,KAAK,wCACnB,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,uCAAwCA,EAC5D,CACF,CAKAkK,eAAAA,GACEtN,KAAK4J,iBAAmB,GACxB5J,KAAK6J,oBAAoBH,QACzB1J,KAAK8J,kBAAkBJ,QACvB1J,KAAK+J,kBAAoB,KAEzB/J,KAAKE,OAAOe,KAAK,6BACnB,ICxCFpB,EAAA,IAjoBO,MACLC,WAAAA,CAAYC,EAAe,IAOzB,GALAC,KAAKC,SAAWF,EAAaE,SAC7BD,KAAKE,OAASH,EAAaG,OAC3BF,KAAK0B,UAAY3B,EAAa2B,WAGzB1B,KAAKC,SACR,MAAM,IAAIG,MAAM,qDAElB,IAAKJ,KAAKE,OACR,MAAM,IAAIE,MAAM,mDAIlBJ,KAAKuN,SAAW,CACdC,cAAc,EACdC,cAAc,EACdC,eAAgB,OAChBC,oBAAoB,EACpBC,WAAW,EACXC,mBAAmB,EACnBC,YAAa,EACbC,iBAAiB,EACjBC,mBAAmB,EACnBC,WAAW,EACXC,iBAAiB,GAInBlO,KAAKmO,aAAe,KACpBnO,KAAKoO,cAAe,EAGpBpO,KAAKqO,cAAgB,GACrBrO,KAAKsO,kBAAoB,GAGzBtO,KAAKgB,qBAELhB,KAAKE,OAAOe,KAAK,mCACnB,CAKA,gBAAMC,GACJlB,KAAKE,OAAOe,KAAK,8CAGXjB,KAAKuO,4BAGXvO,KAAKwO,kBAGLxO,KAAKyO,wBAELzO,KAAKE,OAAOe,KAAK,gDACnB,CAKAI,OAAAA,GACErB,KAAKE,OAAOe,KAAK,uCAGjBjB,KAAK0O,4BAGL1O,KAAKuB,sBAGDvB,KAAKmO,cACPnO,KAAKmO,aAAaQ,QAGpB3O,KAAKE,OAAOe,KAAK,kCACnB,CAKAO,MAAAA,CAAOC,EAAWC,GAEhB1B,KAAK4O,2BAGL5O,KAAK6O,4BAA4BnN,EACnC,CAKAV,kBAAAA,GAEEhB,KAAKC,SAASiC,GAAG,eAAgBlC,KAAK6G,kBAAkBzE,KAAKpC,OAC7DA,KAAKC,SAASiC,GAAG,cAAelC,KAAK8O,iBAAiB1M,KAAKpC,OAC3DA,KAAKC,SAASiC,GAAG,eAAgBlC,KAAK+O,kBAAkB3M,KAAKpC,OAC7DA,KAAKC,SAASiC,GAAG,eAAgBlC,KAAKgP,kBAAkB5M,KAAKpC,OAG7DA,KAAKC,SAASiC,GAAG,sBAAuBlC,KAAKiP,mBAAmB7M,KAAKpC,OACrEA,KAAKC,SAASiC,GAAG,iBAAkBlC,KAAKqC,oBAAoBD,KAAKpC,OACjEA,KAAKC,SAASiC,GACZ,uBACAlC,KAAKsC,oBAAoBF,KAAKpC,OAIhCA,KAAKC,SAASiC,GAAG,gBAAiBlC,KAAKkP,mBAAmB9M,KAAKpC,OAC/DA,KAAKC,SAASiC,GAAG,kBAAmBlC,KAAKuC,qBAAqBH,KAAKpC,OAGnEA,KAAKC,SAASiC,GACZ,uBACAlC,KAAKmP,0BAA0B/M,KAAKpC,OAEtCA,KAAKC,SAASiC,GACZ,2BACAlC,KAAKoP,8BAA8BhN,KAAKpC,OAI1CA,KAAKC,SAASiC,GAAG,aAAclC,KAAKqP,YAAYjN,KAAKpC,MACvD,CAKAuB,mBAAAA,GACEvB,KAAKC,SAAS4C,eACZ,eACA7C,KAAK6G,kBAAkBzE,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,cACA7C,KAAK8O,iBAAiB1M,KAAKpC,OAE7BA,KAAKC,SAAS4C,eACZ,eACA7C,KAAK+O,kBAAkB3M,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,eACA7C,KAAKgP,kBAAkB5M,KAAKpC,OAE9BA,KAAKC,SAAS4C,eACZ,sBACA7C,KAAKiP,mBAAmB7M,KAAKpC,OAE/BA,KAAKC,SAAS4C,eACZ,iBACA7C,KAAKqC,oBAAoBD,KAAKpC,OAEhCA,KAAKC,SAAS4C,eACZ,uBACA7C,KAAKsC,oBAAoBF,KAAKpC,OAEhCA,KAAKC,SAAS4C,eACZ,gBACA7C,KAAKkP,mBAAmB9M,KAAKpC,OAE/BA,KAAKC,SAAS4C,eACZ,kBACA7C,KAAKuC,qBAAqBH,KAAKpC,OAEjCA,KAAKC,SAAS4C,eACZ,uBACA7C,KAAKmP,0BAA0B/M,KAAKpC,OAEtCA,KAAKC,SAAS4C,eACZ,2BACA7C,KAAKoP,8BAA8BhN,KAAKpC,OAE1CA,KAAKC,SAAS4C,eAAe,aAAc7C,KAAKqP,YAAYjN,KAAKpC,MACnE,CAKAwO,eAAAA,GACE,IACExO,KAAKmO,aAAe,IAAKmB,OAAOC,cAC9BD,OAAOE,oBACTxP,KAAKoO,cAAe,CACtB,CAAE,MAAOhL,GACPpD,KAAKE,OAAOuP,KAAK,+BAAgCrM,GACjDpD,KAAKoO,cAAe,CACtB,CACF,CAKAK,qBAAAA,GAEEzO,KAAK0P,2BAGL1P,KAAK2P,0BAGL3P,KAAK4P,4BACP,CAKAF,wBAAAA,GACE,MAAMG,EAAqBC,SAASC,cAAc,OAClDF,EAAmBrJ,GAAK,8BACxBqJ,EAAmBG,aAAa,YAAa,UAC7CH,EAAmBG,aAAa,cAAe,QAC/CH,EAAmBI,MAAMC,QAAU,6JAOnCJ,SAASK,KAAKC,YAAYP,EAC5B,CAKAF,uBAAAA,GACO3P,KAAKuN,SAASI,oBAEnBmC,SAASO,iBAAiB,UAAYC,IACpCtQ,KAAKuQ,yBAAyBD,IAElC,CAKAC,wBAAAA,CAAyBD,GACvB,GAAKtQ,KAAKuN,SAASI,mBAEnB,OAAQ2C,EAAME,KACZ,IAAK,MAEHxQ,KAAKyQ,oBAAoBH,GACzB,MACF,IAAK,QACL,IAAK,IAEHtQ,KAAK0Q,iBAAiBJ,GACtB,MACF,IAAK,SAEHtQ,KAAK2Q,aAAaL,GAClB,MACF,IAAK,UACL,IAAK,YACL,IAAK,YACL,IAAK,aAEHtQ,KAAK4Q,sBAAsBN,GAGjC,CAKAG,mBAAAA,CAAoBH,GAEQR,SAASe,iBACjC,2EAKJ,CAKAH,gBAAAA,CAAiBJ,GACf,MAAMQ,EAAgBhB,SAASgB,cAC3BA,GAAiBA,EAAcC,OACjCD,EAAcC,OAElB,CAKAJ,YAAAA,CAAaL,GAEXtQ,KAAKC,SAASgD,KAAK,uBAAwB,CACzCE,UAAWvB,KAAKC,OAEpB,CAKA+O,qBAAAA,CAAsBN,GAEpBtQ,KAAKC,SAASgD,KAAK,gCAAiC,CAClD+N,UAAWV,EAAME,IAAInF,QAAQ,QAAS,IAAI4F,cAC1C9N,UAAWvB,KAAKC,OAEpB,CAKA+N,0BAAAA,GACE,MAAMsB,EAAOpB,SAASqB,gBAGlBnR,KAAKuN,SAASE,aAChByD,EAAKE,UAAUnJ,IAAI,iBAEnBiJ,EAAKE,UAAUC,OAAO,iBAIxBH,EAAKE,UAAUC,OACb,wBACA,0BACA,yBAEmC,SAAjCrR,KAAKuN,SAASG,gBAChBwD,EAAKE,UAAUnJ,IAAI,cAAcjI,KAAKuN,SAASG,kBAIjDwD,EAAKjB,MAAMqB,YAAY,eAAgBtR,KAAKuN,SAASO,aAGjD9N,KAAKuN,SAASQ,gBAChBmD,EAAKE,UAAUnJ,IAAI,kBAEnBiJ,EAAKE,UAAUC,OAAO,kBAIpBrR,KAAKuN,SAASU,UAChBiD,EAAKE,UAAUnJ,IAAI,cAEnBiJ,EAAKE,UAAUC,OAAO,cAIpBrR,KAAKuN,SAASW,gBAChBgD,EAAKE,UAAUnJ,IAAI,oBAEnBiJ,EAAKE,UAAUC,OAAO,mBAE1B,CAKAE,cAAAA,CAAeC,GACbxR,KAAKuN,SAAW,IAAKvN,KAAKuN,YAAaiE,GACvCxR,KAAK4P,6BAEL5P,KAAKE,OAAOe,KAAK,kCAGjBjB,KAAKC,SAASgD,KAAK,gCAAiC,CAClDsK,SAAUvN,KAAKuN,SACfpK,UAAWvB,KAAKC,OAEpB,CAKA4P,WAAAA,GACE,MAAO,IAAKzR,KAAKuN,SACnB,CAKAmE,QAAAA,CAASC,EAAMC,EAAW,UACxB,IAAK5R,KAAKuN,SAASC,aAAc,OAEjC,MAAMqE,EAAe,CACnBF,OACAC,WACAzO,UAAWvB,KAAKC,OAGlB7B,KAAKsO,kBAAkBnF,KAAK0I,EAC9B,CAKAjD,wBAAAA,GACE,GAAsC,IAAlC5O,KAAKsO,kBAAkBhJ,OAAc,OAEzC,MAAMuM,EAAe7R,KAAKsO,kBAAkBwD,QACtCjC,EAAqBC,SAASiC,eAClC,+BAGElC,IACFA,EAAmBG,aAAa,YAAa6B,EAAaD,UAC1D/B,EAAmBmC,YAAcH,EAAaF,KAElD,CAKAM,YAAAA,CAAaC,EAASC,EAAY,IAAK1N,EAAW,KAChD,GAAKzE,KAAKuN,SAASK,WAAc5N,KAAKoO,cAAiBpO,KAAKmO,aAG5D,IACE,MAAMiE,EAAapS,KAAKmO,aAAakE,mBAC/BC,EAAWtS,KAAKmO,aAAaoE,aAEnCH,EAAWI,QAAQF,GACnBA,EAASE,QAAQxS,KAAKmO,aAAasE,aAEnCL,EAAWD,UAAUO,eACnBP,EACAnS,KAAKmO,aAAawE,aAEpBP,EAAWpO,KAAO,OAElBsO,EAASM,KAAKF,eAAe,EAAG1S,KAAKmO,aAAawE,aAClDL,EAASM,KAAKC,wBACZ,GACA7S,KAAKmO,aAAawE,YAAc,KAElCL,EAASM,KAAKC,wBACZ,EACA7S,KAAKmO,aAAawE,YAAclO,EAAW,KAG7C2N,EAAWU,MAAM9S,KAAKmO,aAAawE,aACnCP,EAAWW,KAAK/S,KAAKmO,aAAawE,YAAclO,EAAW,IAC7D,CAAE,MAAOrB,GACPpD,KAAKE,OAAOuP,KAAK,4BAA6BrM,EAChD,CACF,CAKAyD,iBAAAA,CAAkBxD,GAChBrD,KAAK0R,SAAS,gBACd1R,KAAKiS,aAAa,YAAa,IAAK,IACtC,CAKAnD,gBAAAA,CAAiBzL,GACfrD,KAAK0R,SAAS,eACd1R,KAAKiS,aAAa,QAAS,IAAK,IAClC,CAKAlD,iBAAAA,CAAkB1L,GAChBrD,KAAK0R,SAAS,gBACd1R,KAAKiS,aAAa,SAAU,IAAK,IACnC,CAKAjD,iBAAAA,CAAkB3L,GAChBrD,KAAK0R,SAAS,gBACd1R,KAAKiS,aAAa,WAAY,IAAK,IACrC,CAKAhD,kBAAAA,CAAmB5L,GACbA,EAAKC,YAAc,IACrBtD,KAAK0R,SACH,sBAAsBrO,EAAKC,6BAA6BD,EAAK7C,SAE/DR,KAAKiS,aAAa,QAAS,IAAK,KAEpC,CAKA5P,mBAAAA,CAAoBgB,GAClBrD,KAAK0R,SAAS,oCAAoCrO,EAAK3C,SACvDV,KAAKiS,aAAa,SAAU,IAAK,IACnC,CAKA3P,mBAAAA,CAAoBe,GAClBrD,KAAK0R,SAAS,mBAAmBrO,EAAKK,YACtC1D,KAAKiS,aAAa,OAAQ,IAAK,IACjC,CAKA/C,kBAAAA,CAAmB7L,GACjBrD,KAAK0R,SAAS,SAASrO,EAAKH,iBAC5BlD,KAAKiS,aAAa,aAAc,IAAK,IACvC,CAKA1P,oBAAAA,CAAqBc,GACnBrD,KAAK0R,SACH,SAASrO,EAAKH,sBAAsB8F,KAAKsD,MAAMjJ,EAAKM,KAAO,gBAE7D3D,KAAKiS,aAAa,gBAAiB,KAAM,IAC3C,CAKA9C,yBAAAA,CAA0B9L,GACxBrD,KAAK0R,SAAS,yBAAyBrO,EAAK6C,QAC5ClG,KAAKiS,aAAa,cAAe,KAAM,IACzC,CAKA7C,6BAAAA,CAA8B/L,GAC5BrD,KAAK0R,SAAS,8BAA8BrO,EAAK6C,QACjDlG,KAAKiS,aAAa,YAAa,KAAM,IACvC,CAKA5C,WAAAA,CAAYhM,GACNrD,KAAKuN,SAASK,WAChB5N,KAAKiS,aAAa,QAAS,IAAK,GAEpC,CAKApD,2BAAAA,CAA4BnN,GAEtBA,EAAUsR,SACZhT,KAAKiT,qBACIvR,EAAUwR,WACnBlT,KAAKmT,2BAET,CAKAF,kBAAAA,GAEE,MAAMG,EAAYtD,SAASuD,cAAc,eACrCD,GAAaA,EAAUE,OACzBF,EAAUE,OAEd,CAKAH,yBAAAA,GAEE,MAAMI,EAAWzD,SAASuD,cAAc,cACpCE,GAAYA,EAASD,OACvBC,EAASD,OAEb,CAKA,+BAAM/E,GACJ,IACE,MAAMiF,EAAgB5O,aAAaC,QAAQ,yBAC3C,GAAI2O,EAAe,CACjB,MAAMjG,EAAWzI,KAAKC,MAAMyO,GAC5BxT,KAAKuN,SAAW,IAAKvN,KAAKuN,YAAaA,GACvCvN,KAAK4P,6BACL5P,KAAKE,OAAOe,KAAK,6CACnB,CACF,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,yCAA0CA,EAC9D,CACF,CAKAsL,yBAAAA,GACE,IACE9J,aAAaK,QACX,wBACAH,KAAKI,UAAUlF,KAAKuN,WAEtBvN,KAAKE,OAAOe,KAAK,0CACnB,CAAE,MAAOmC,GACPpD,KAAKE,OAAOkD,MAAM,yCAA0CA,EAC9D,CACF,CAKAqQ,aAAAA,GACEzT,KAAKuN,SAAW,CACdC,cAAc,EACdC,cAAc,EACdC,eAAgB,OAChBC,oBAAoB,EACpBC,WAAW,EACXC,mBAAmB,EACnBC,YAAa,EACbC,iBAAiB,EACjBC,mBAAmB,EACnBC,WAAW,EACXC,iBAAiB,GAGnBlO,KAAK4P,6BACL5P,KAAKE,OAAOe,KAAK,2CACnB"}