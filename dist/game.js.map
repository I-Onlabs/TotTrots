{"version":3,"file":"game.js","sources":["../src/managers/GameManager.js","../src/managers/AchievementManager.js","../src/managers/DailyChallengeManager.js","../src/managers/AccessibilityManager.js","../src/core/EventBus.js","../src/utils/Logger.js","../src/core/PerformanceMonitor.js","../src/core/InputManager.js","../src/utils/MobileTesting.js","../src/GameRefactored.js"],"sourcesContent":["/**\n * GameManager.js - Core game management with explicit lifecycle and dependency injection\n *\n * This manager handles:\n * - Game state management\n * - Level progression\n * - Score management\n * - Player management\n * - Game object lifecycle\n */\n\nexport class GameManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('GameManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('GameManager requires logger dependency');\n    }\n\n    // Game state\n    this.state = {\n      currentLevel: 1,\n      maxLevel: 10,\n      score: 0,\n      highScore: 0,\n      lives: 3,\n      levelStartTime: null,\n      levelCompleted: false,\n      gameOver: false,\n    };\n\n    // Level configuration\n    this.levelConfigs = this.initializeLevelConfigs();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('GameManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing GameManager...');\n\n    // Load saved game data\n    await this.loadGameData();\n\n    // Set up level\n    this.setupLevel(this.state.currentLevel);\n\n    this.logger.info('GameManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up GameManager...');\n\n    // Save game data\n    this.saveGameData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('GameManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Update level timer\n    if (this.state.levelStartTime && !this.state.levelCompleted) {\n      const levelTime = Date.now() - this.state.levelStartTime;\n\n      // Check for level timeout\n      const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n      if (levelConfig.timeLimit && levelTime > levelConfig.timeLimit) {\n        this.handleLevelTimeout();\n      }\n    }\n\n    // Update game objects based on level\n    this.updateLevelSpecificLogic(deltaTime, gameState);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Player events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Game events\n    this.eventBus.on('game:input', this.handleGameInput.bind(this));\n    this.eventBus.on('game:configChanged', this.handleConfigChange.bind(this));\n\n    // Achievement events\n    this.eventBus.on(\n      'achievement:unlocked',\n      this.handleAchievementUnlock.bind(this)\n    );\n    this.eventBus.on(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompletion.bind(this)\n    );\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener('game:input', this.handleGameInput.bind(this));\n    this.eventBus.removeListener(\n      'game:configChanged',\n      this.handleConfigChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'achievement:unlocked',\n      this.handleAchievementUnlock.bind(this)\n    );\n    this.eventBus.removeListener(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompletion.bind(this)\n    );\n  }\n\n  /**\n   * Initialize level configurations\n   */\n  initializeLevelConfigs() {\n    return [\n      { timeLimit: 60000, targetScore: 1000, difficulty: 'easy' },\n      { timeLimit: 90000, targetScore: 2500, difficulty: 'easy' },\n      { timeLimit: 120000, targetScore: 5000, difficulty: 'medium' },\n      { timeLimit: 150000, targetScore: 7500, difficulty: 'medium' },\n      { timeLimit: 180000, targetScore: 10000, difficulty: 'hard' },\n      { timeLimit: 200000, targetScore: 15000, difficulty: 'hard' },\n      { timeLimit: 220000, targetScore: 20000, difficulty: 'expert' },\n      { timeLimit: 240000, targetScore: 25000, difficulty: 'expert' },\n      { timeLimit: 260000, targetScore: 30000, difficulty: 'master' },\n      { timeLimit: 300000, targetScore: 40000, difficulty: 'master' },\n    ];\n  }\n\n  /**\n   * Set up a level\n   */\n  setupLevel(levelNumber) {\n    this.state.currentLevel = levelNumber;\n    this.state.levelStartTime = Date.now();\n    this.state.levelCompleted = false;\n    this.state.gameOver = false;\n\n    const levelConfig = this.levelConfigs[levelNumber - 1];\n    if (!levelConfig) {\n      this.logger.error(`Invalid level number: ${levelNumber}`);\n      return;\n    }\n\n    this.logger.info(\n      `Setting up level ${levelNumber} (${levelConfig.difficulty})`\n    );\n\n    // Emit level start event\n    this.eventBus.emit('level:started', {\n      level: levelNumber,\n      config: levelConfig,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    this.state.score += data.scoreChange || 0;\n\n    // Update high score\n    if (this.state.score > this.state.highScore) {\n      this.state.highScore = this.state.score;\n    }\n\n    // Check level completion based on score\n    const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n    if (\n      levelConfig &&\n      this.state.score >= levelConfig.targetScore &&\n      !this.state.levelCompleted\n    ) {\n      this.completeLevel();\n    }\n\n    this.eventBus.emit('game:scoreUpdated', {\n      score: this.state.score,\n      highScore: this.state.highScore,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.state.lives -= data.damage || 1;\n\n    if (this.state.lives <= 0) {\n      this.gameOver();\n    } else {\n      this.eventBus.emit('game:livesUpdated', {\n        lives: this.state.lives,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    const scoreValue = data.scoreValue || 0;\n    this.handleScoreChange({ scoreChange: scoreValue });\n\n    this.logger.info(`Item collected: ${data.itemType}, +${scoreValue} points`);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.completeLevel();\n  }\n\n  /**\n   * Complete the current level\n   */\n  completeLevel() {\n    if (this.state.levelCompleted) {\n      return;\n    }\n\n    this.state.levelCompleted = true;\n    const levelTime = Date.now() - this.state.levelStartTime;\n\n    this.logger.info(\n      `Level ${this.state.currentLevel} completed in ${levelTime}ms`\n    );\n\n    // Emit level completion event\n    this.eventBus.emit('level:completed', {\n      level: this.state.currentLevel,\n      score: this.state.score,\n      time: levelTime,\n      timestamp: Date.now(),\n    });\n\n    // Check if game is complete\n    if (this.state.currentLevel >= this.state.maxLevel) {\n      this.completeGame();\n    } else {\n      // Advance to next level after delay\n      setTimeout(() => {\n        this.setupLevel(this.state.currentLevel + 1);\n      }, 2000);\n    }\n  }\n\n  /**\n   * Handle level timeout\n   */\n  handleLevelTimeout() {\n    this.logger.info(`Level ${this.state.currentLevel} timed out`);\n\n    this.eventBus.emit('level:timeout', {\n      level: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n\n    // Lose a life and restart level\n    this.handlePlayerDamaged({ damage: 1 });\n    if (!this.state.gameOver) {\n      this.setupLevel(this.state.currentLevel);\n    }\n  }\n\n  /**\n   * Complete the entire game\n   */\n  completeGame() {\n    this.logger.info('Game completed!');\n\n    this.eventBus.emit('game:completed', {\n      finalScore: this.state.score,\n      finalLevel: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle game over\n   */\n  gameOver() {\n    this.state.gameOver = true;\n\n    this.logger.info('Game Over');\n\n    this.eventBus.emit('game:gameOver', {\n      finalScore: this.state.score,\n      finalLevel: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle game input\n   */\n  handleGameInput(data) {\n    // Handle specific game inputs\n    switch (data.type) {\n      case 'restart':\n        this.restartGame();\n        break;\n      case 'nextLevel':\n        if (this.state.levelCompleted) {\n          this.setupLevel(this.state.currentLevel + 1);\n        }\n        break;\n      case 'pause':\n        this.eventBus.emit('game:pauseRequested', { timestamp: Date.now() });\n        break;\n    }\n  }\n\n  /**\n   * Handle config changes\n   */\n  handleConfigChange(data) {\n    this.config = { ...this.config, ...data.config };\n    this.logger.info('GameManager config updated');\n  }\n\n  /**\n   * Handle achievement unlock\n   */\n  handleAchievementUnlock(data) {\n    // Award bonus points for achievements\n    const bonusScore = data.bonusScore || 0;\n    if (bonusScore > 0) {\n      this.handleScoreChange({ scoreChange: bonusScore });\n    }\n\n    // Apply achievement effects\n    if (data.effects) {\n      this.applyAchievementEffects(data.effects);\n    }\n  }\n\n  /**\n   * Handle daily challenge completion\n   */\n  handleDailyChallengeCompletion(data) {\n    // Award bonus points for daily challenges\n    const bonusScore = data.bonusScore || 0;\n    if (bonusScore > 0) {\n      this.handleScoreChange({ scoreChange: bonusScore });\n    }\n\n    // Apply challenge effects\n    if (data.effects) {\n      this.applyChallengeEffects(data.effects);\n    }\n  }\n\n  /**\n   * Apply achievement effects\n   */\n  applyAchievementEffects(effects) {\n    if (effects.extraLives) {\n      this.state.lives += effects.extraLives;\n    }\n    if (effects.scoreMultiplier) {\n      // Apply score multiplier for a limited time\n      this.temporaryScoreMultiplier = effects.scoreMultiplier;\n      setTimeout(() => {\n        this.temporaryScoreMultiplier = 1;\n      }, effects.duration || 30000);\n    }\n  }\n\n  /**\n   * Apply challenge effects\n   */\n  applyChallengeEffects(effects) {\n    if (effects.temporaryPowerUp) {\n      this.eventBus.emit('game:powerUpActivated', {\n        type: effects.temporaryPowerUp,\n        duration: effects.duration || 30000,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Restart the game\n   */\n  restartGame() {\n    this.state = {\n      currentLevel: 1,\n      maxLevel: 10,\n      score: 0,\n      highScore: this.state.highScore, // Keep high score\n      lives: 3,\n      levelStartTime: null,\n      levelCompleted: false,\n      gameOver: false,\n    };\n\n    this.setupLevel(1);\n\n    this.eventBus.emit('game:restarted', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Update level-specific logic\n   */\n  updateLevelSpecificLogic(deltaTime, gameState) {\n    const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n    if (!levelConfig) return;\n\n    // Level-specific behaviors based on difficulty\n    switch (levelConfig.difficulty) {\n      case 'easy':\n        // Slower enemy spawn rates, easier patterns\n        break;\n      case 'medium':\n        // Moderate difficulty\n        break;\n      case 'hard':\n        // Faster spawn rates, complex patterns\n        break;\n      case 'expert':\n        // Very challenging\n        break;\n      case 'master':\n        // Maximum difficulty\n        break;\n    }\n  }\n\n  /**\n   * Load game data from storage\n   */\n  async loadGameData() {\n    try {\n      const savedData = localStorage.getItem('gameData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.state.highScore = data.highScore || 0;\n        this.logger.info('Game data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load game data:', error);\n    }\n  }\n\n  /**\n   * Save game data to storage\n   */\n  saveGameData() {\n    try {\n      const data = {\n        highScore: this.state.highScore,\n        lastPlayed: Date.now(),\n      };\n      localStorage.setItem('gameData', JSON.stringify(data));\n      this.logger.info('Game data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save game data:', error);\n    }\n  }\n\n  /**\n   * Get current game state\n   */\n  getState() {\n    return { ...this.state };\n  }\n\n  /**\n   * Get level configuration\n   */\n  getLevelConfig(levelNumber) {\n    return this.levelConfigs[levelNumber - 1];\n  }\n\n  /**\n   * Set level configuration\n   */\n  setLevelConfig(levelNumber, config) {\n    if (levelNumber >= 1 && levelNumber <= this.levelConfigs.length) {\n      this.levelConfigs[levelNumber - 1] = {\n        ...this.levelConfigs[levelNumber - 1],\n        ...config,\n      };\n    }\n  }\n}\n\nexport default GameManager;\n","/**\n * AchievementManager.js - Achievement system with gameplay integration\n *\n * This manager handles:\n * - Achievement definitions and tracking\n * - Progress monitoring\n * - Achievement unlocking\n * - Integration with gameplay events\n */\n\nexport class AchievementManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('AchievementManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('AchievementManager requires logger dependency');\n    }\n\n    // Achievement state\n    this.achievements = new Map();\n    this.unlockedAchievements = new Set();\n    this.progress = new Map();\n\n    // Initialize achievements\n    this.initializeAchievements();\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('AchievementManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing AchievementManager...');\n\n    // Load saved achievement data\n    await this.loadAchievementData();\n\n    this.logger.info('AchievementManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up AchievementManager...');\n\n    // Save achievement data\n    this.saveAchievementData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('AchievementManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Check for time-based achievements\n    this.checkTimeBasedAchievements(gameState);\n\n    // Check for combo achievements\n    this.checkComboAchievements(gameState);\n  }\n\n  /**\n   * Initialize achievement definitions\n   */\n  initializeAchievements() {\n    // Score-based achievements\n    this.defineAchievement('first_score', {\n      name: 'First Steps',\n      description: 'Score your first 100 points',\n      type: 'score',\n      target: 100,\n      reward: { score: 50, title: 'Beginner' },\n      icon: 'star',\n    });\n\n    this.defineAchievement('score_master', {\n      name: 'Score Master',\n      description: 'Reach 10,000 points',\n      type: 'score',\n      target: 10000,\n      reward: { score: 500, title: 'Score Master' },\n      icon: 'trophy',\n    });\n\n    this.defineAchievement('high_score_king', {\n      name: 'High Score King',\n      description: 'Reach 50,000 points',\n      type: 'score',\n      target: 50000,\n      reward: { score: 2000, title: 'High Score King' },\n      icon: 'crown',\n    });\n\n    // Level-based achievements\n    this.defineAchievement('level_5', {\n      name: 'Level 5 Complete',\n      description: 'Complete level 5',\n      type: 'level',\n      target: 5,\n      reward: { extraLives: 1, title: 'Level 5 Veteran' },\n      icon: 'medal',\n    });\n\n    this.defineAchievement('level_10', {\n      name: 'Level 10 Complete',\n      description: 'Complete level 10',\n      type: 'level',\n      target: 10,\n      reward: { score: 1000, title: 'Level 10 Master' },\n      icon: 'diamond',\n    });\n\n    // Collection achievements\n    this.defineAchievement('collector', {\n      name: 'Collector',\n      description: 'Collect 50 items',\n      type: 'collection',\n      target: 50,\n      reward: { score: 300, title: 'Collector' },\n      icon: 'bag',\n    });\n\n    this.defineAchievement('hoarder', {\n      name: 'Hoarder',\n      description: 'Collect 200 items',\n      type: 'collection',\n      target: 200,\n      reward: { score: 1000, title: 'Hoarder' },\n      icon: 'treasure',\n    });\n\n    // Time-based achievements\n    this.defineAchievement('speed_demon', {\n      name: 'Speed Demon',\n      description: 'Complete a level in under 30 seconds',\n      type: 'speed',\n      target: 30000, // 30 seconds in milliseconds\n      reward: { score: 500, title: 'Speed Demon' },\n      icon: 'lightning',\n    });\n\n    this.defineAchievement('marathon_runner', {\n      name: 'Marathon Runner',\n      description: 'Play for 30 minutes straight',\n      type: 'playtime',\n      target: 1800000, // 30 minutes in milliseconds\n      reward: { score: 1000, title: 'Marathon Runner' },\n      icon: 'clock',\n    });\n\n    // Combo achievements\n    this.defineAchievement('combo_master', {\n      name: 'Combo Master',\n      description: 'Achieve a 10x combo',\n      type: 'combo',\n      target: 10,\n      reward: { score: 200, title: 'Combo Master' },\n      icon: 'fire',\n    });\n\n    this.defineAchievement('combo_legend', {\n      name: 'Combo Legend',\n      description: 'Achieve a 25x combo',\n      type: 'combo',\n      target: 25,\n      reward: { score: 1000, title: 'Combo Legend' },\n      icon: 'explosion',\n    });\n\n    // Special achievements\n    this.defineAchievement('perfect_level', {\n      name: 'Perfect Level',\n      description: 'Complete a level without taking damage',\n      type: 'perfect',\n      target: 1,\n      reward: { score: 750, title: 'Perfect Player' },\n      icon: 'shield',\n    });\n\n    this.defineAchievement('comeback_kid', {\n      name: 'Comeback Kid',\n      description: 'Complete a level with only 1 life remaining',\n      type: 'comeback',\n      target: 1,\n      reward: { score: 500, title: 'Comeback Kid' },\n      icon: 'heart',\n    });\n  }\n\n  /**\n   * Define an achievement\n   */\n  defineAchievement(id, definition) {\n    this.achievements.set(id, {\n      id,\n      ...definition,\n      unlocked: false,\n      unlockedAt: null,\n      progress: 0,\n    });\n\n    // Initialize progress tracking\n    this.progress.set(id, 0);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Score events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n\n    // Level events\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Collection events\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Combo events\n    this.eventBus.on('player:comboChanged', this.handleComboChanged.bind(this));\n\n    // Damage events\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:comboChanged',\n      this.handleComboChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    const currentScore = this.gameState().score;\n    this.checkScoreAchievements(currentScore);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.checkLevelAchievements(data.level);\n    this.checkSpeedAchievements(data.time);\n    this.checkPerfectLevelAchievements(data);\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    this.checkCollectionAchievements(data.itemType);\n  }\n\n  /**\n   * Handle game start\n   */\n  handleGameStarted(data) {\n    this.gameStartTime = data.timestamp;\n  }\n\n  /**\n   * Handle combo changes\n   */\n  handleComboChanged(data) {\n    this.checkComboAchievements(data.combo);\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.currentLevelPerfect = false;\n  }\n\n  /**\n   * Check score-based achievements\n   */\n  checkScoreAchievements(currentScore) {\n    this.checkAchievementsByType('score', currentScore);\n  }\n\n  /**\n   * Check level-based achievements\n   */\n  checkLevelAchievements(level) {\n    this.checkAchievementsByType('level', level);\n  }\n\n  /**\n   * Check collection-based achievements\n   */\n  checkCollectionAchievements(itemType) {\n    // Increment collection count\n    const currentCount = this.progress.get('collector') || 0;\n    this.progress.set('collector', currentCount + 1);\n\n    this.checkAchievementsByType('collection', this.progress.get('collector'));\n  }\n\n  /**\n   * Check speed-based achievements\n   */\n  checkSpeedAchievements(levelTime) {\n    this.checkAchievementsByType('speed', levelTime);\n  }\n\n  /**\n   * Check combo-based achievements\n   */\n  checkComboAchievements(combo) {\n    this.checkAchievementsByType('combo', combo);\n  }\n\n  /**\n   * Check time-based achievements\n   */\n  checkTimeBasedAchievements(gameState) {\n    if (this.gameStartTime) {\n      const playTime = Date.now() - this.gameStartTime;\n      this.checkAchievementsByType('playtime', playTime);\n    }\n  }\n\n  /**\n   * Check combo achievements\n   */\n  checkComboAchievements(gameState) {\n    // This would check for combo achievements based on game state\n    // Implementation depends on how combos are tracked in the game\n  }\n\n  /**\n   * Check perfect level achievements\n   */\n  checkPerfectLevelAchievements(levelData) {\n    if (levelData.perfect) {\n      this.checkAchievementsByType('perfect', 1);\n    }\n  }\n\n  /**\n   * Check achievements by type\n   */\n  checkAchievementsByType(type, value) {\n    for (const [id, achievement] of this.achievements) {\n      if (achievement.type === type && !achievement.unlocked) {\n        if (value >= achievement.target) {\n          this.unlockAchievement(id);\n        } else {\n          // Update progress\n          this.progress.set(id, value);\n          achievement.progress = value;\n        }\n      }\n    }\n  }\n\n  /**\n   * Unlock an achievement\n   */\n  unlockAchievement(id) {\n    const achievement = this.achievements.get(id);\n    if (!achievement || achievement.unlocked) {\n      return;\n    }\n\n    achievement.unlocked = true;\n    achievement.unlockedAt = Date.now();\n    this.unlockedAchievements.add(id);\n\n    this.logger.info(`Achievement unlocked: ${achievement.name}`);\n\n    // Emit achievement unlocked event\n    this.eventBus.emit('achievement:unlocked', {\n      id,\n      name: achievement.name,\n      description: achievement.description,\n      reward: achievement.reward,\n      icon: achievement.icon,\n      timestamp: Date.now(),\n    });\n\n    // Apply reward\n    this.applyAchievementReward(achievement);\n  }\n\n  /**\n   * Apply achievement reward\n   */\n  applyAchievementReward(achievement) {\n    if (!achievement.reward) return;\n\n    const reward = achievement.reward;\n\n    // Score reward\n    if (reward.score) {\n      this.eventBus.emit('player:scoreChanged', {\n        scoreChange: reward.score,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Extra lives reward\n    if (reward.extraLives) {\n      this.eventBus.emit('player:livesChanged', {\n        livesChange: reward.extraLives,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Title reward\n    if (reward.title) {\n      this.eventBus.emit('player:titleChanged', {\n        title: reward.title,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Special effects\n    if (reward.effects) {\n      this.eventBus.emit('game:achievementEffect', {\n        effects: reward.effects,\n        achievementId: achievement.id,\n      });\n    }\n  }\n\n  /**\n   * Get achievement by ID\n   */\n  getAchievement(id) {\n    return this.achievements.get(id);\n  }\n\n  /**\n   * Get all achievements\n   */\n  getAllAchievements() {\n    return Array.from(this.achievements.values());\n  }\n\n  /**\n   * Get unlocked achievements\n   */\n  getUnlockedAchievements() {\n    return Array.from(this.achievements.values()).filter((a) => a.unlocked);\n  }\n\n  /**\n   * Get achievement progress\n   */\n  getAchievementProgress(id) {\n    const achievement = this.achievements.get(id);\n    if (!achievement) return null;\n\n    return {\n      id,\n      name: achievement.name,\n      description: achievement.description,\n      progress: achievement.progress,\n      target: achievement.target,\n      percentage: Math.min(\n        (achievement.progress / achievement.target) * 100,\n        100\n      ),\n      unlocked: achievement.unlocked,\n    };\n  }\n\n  /**\n   * Get all achievement progress\n   */\n  getAllAchievementProgress() {\n    const progress = [];\n    for (const [id, achievement] of this.achievements) {\n      progress.push(this.getAchievementProgress(id));\n    }\n    return progress;\n  }\n\n  /**\n   * Load achievement data from storage\n   */\n  async loadAchievementData() {\n    try {\n      const savedData = localStorage.getItem('achievementData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n\n        // Restore unlocked achievements\n        if (data.unlocked) {\n          data.unlocked.forEach((id) => {\n            if (this.achievements.has(id)) {\n              this.achievements.get(id).unlocked = true;\n              this.unlockedAchievements.add(id);\n            }\n          });\n        }\n\n        // Restore progress\n        if (data.progress) {\n          for (const [id, progress] of Object.entries(data.progress)) {\n            if (this.achievements.has(id)) {\n              this.achievements.get(id).progress = progress;\n              this.progress.set(id, progress);\n            }\n          }\n        }\n\n        this.logger.info('Achievement data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load achievement data:', error);\n    }\n  }\n\n  /**\n   * Save achievement data to storage\n   */\n  saveAchievementData() {\n    try {\n      const data = {\n        unlocked: Array.from(this.unlockedAchievements),\n        progress: Object.fromEntries(this.progress),\n      };\n      localStorage.setItem('achievementData', JSON.stringify(data));\n      this.logger.info('Achievement data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save achievement data:', error);\n    }\n  }\n\n  /**\n   * Reset all achievements\n   */\n  resetAchievements() {\n    this.unlockedAchievements.clear();\n    this.progress.clear();\n\n    for (const [id, achievement] of this.achievements) {\n      achievement.unlocked = false;\n      achievement.unlockedAt = null;\n      achievement.progress = 0;\n      this.progress.set(id, 0);\n    }\n\n    this.logger.info('All achievements reset');\n  }\n}\n\nexport default AchievementManager;\n","/**\n * DailyChallengeManager.js - Daily challenge system with gameplay integration\n *\n * This manager handles:\n * - Daily challenge generation and rotation\n * - Challenge progress tracking\n * - Challenge completion rewards\n * - Integration with gameplay events\n */\n\nexport class DailyChallengeManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('DailyChallengeManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('DailyChallengeManager requires logger dependency');\n    }\n\n    // Challenge state\n    this.challenges = new Map();\n    this.activeChallenges = [];\n    this.completedChallenges = new Set();\n    this.challengeProgress = new Map();\n    this.lastChallengeDate = null;\n\n    // Challenge templates\n    this.challengeTemplates = this.initializeChallengeTemplates();\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('DailyChallengeManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing DailyChallengeManager...');\n\n    // Load saved challenge data\n    await this.loadChallengeData();\n\n    // Generate today's challenges\n    this.generateDailyChallenges();\n\n    this.logger.info('DailyChallengeManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up DailyChallengeManager...');\n\n    // Save challenge data\n    this.saveChallengeData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('DailyChallengeManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Check if we need to generate new daily challenges\n    this.checkDailyChallengeRotation();\n\n    // Update challenge progress\n    this.updateChallengeProgress(gameState);\n  }\n\n  /**\n   * Initialize challenge templates\n   */\n  initializeChallengeTemplates() {\n    return {\n      score: [\n        {\n          name: 'Score Hunter',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'easy',\n          target: 1000,\n          reward: { score: 200, coins: 10 },\n        },\n        {\n          name: 'Score Master',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'medium',\n          target: 5000,\n          reward: { score: 500, coins: 25 },\n        },\n        {\n          name: 'Score Legend',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'hard',\n          target: 15000,\n          reward: { score: 1000, coins: 50 },\n        },\n      ],\n      level: [\n        {\n          name: 'Level Climber',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'easy',\n          target: 3,\n          reward: { score: 300, coins: 15 },\n        },\n        {\n          name: 'Level Master',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'medium',\n          target: 7,\n          reward: { score: 750, coins: 35 },\n        },\n        {\n          name: 'Level Legend',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'hard',\n          target: 10,\n          reward: { score: 1500, coins: 75 },\n        },\n      ],\n      collection: [\n        {\n          name: 'Item Collector',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'easy',\n          target: 10,\n          reward: { score: 150, coins: 8 },\n        },\n        {\n          name: 'Item Hoarder',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'medium',\n          target: 25,\n          reward: { score: 400, coins: 20 },\n        },\n        {\n          name: 'Item Master',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'hard',\n          target: 50,\n          reward: { score: 800, coins: 40 },\n        },\n      ],\n      combo: [\n        {\n          name: 'Combo Starter',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'easy',\n          target: 5,\n          reward: { score: 100, coins: 5 },\n        },\n        {\n          name: 'Combo Master',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'medium',\n          target: 15,\n          reward: { score: 300, coins: 15 },\n        },\n        {\n          name: 'Combo Legend',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'hard',\n          target: 30,\n          reward: { score: 600, coins: 30 },\n        },\n      ],\n      time: [\n        {\n          name: 'Speed Runner',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'easy',\n          target: 60,\n          reward: { score: 200, coins: 10 },\n        },\n        {\n          name: 'Speed Master',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'medium',\n          target: 30,\n          reward: { score: 500, coins: 25 },\n        },\n        {\n          name: 'Speed Legend',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'hard',\n          target: 15,\n          reward: { score: 1000, coins: 50 },\n        },\n      ],\n      survival: [\n        {\n          name: 'Survivor',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'easy',\n          target: 3,\n          reward: { score: 400, coins: 20 },\n        },\n        {\n          name: 'Survival Master',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'medium',\n          target: 7,\n          reward: { score: 1000, coins: 50 },\n        },\n        {\n          name: 'Survival Legend',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'hard',\n          target: 10,\n          reward: { score: 2000, coins: 100 },\n        },\n      ],\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Score events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n\n    // Level events\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Collection events\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Combo events\n    this.eventBus.on('player:comboChanged', this.handleComboChanged.bind(this));\n\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Damage events\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:comboChanged',\n      this.handleComboChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n  }\n\n  /**\n   * Generate daily challenges\n   */\n  generateDailyChallenges() {\n    const today = new Date().toDateString();\n\n    // Check if we need to generate new challenges\n    if (this.lastChallengeDate === today) {\n      return;\n    }\n\n    // Clear previous challenges\n    this.activeChallenges = [];\n    this.completedChallenges.clear();\n    this.challengeProgress.clear();\n\n    // Generate 3 random challenges\n    const challengeTypes = Object.keys(this.challengeTemplates);\n    const selectedTypes = this.getRandomElements(challengeTypes, 3);\n\n    selectedTypes.forEach((type, index) => {\n      const template = this.getRandomElement(this.challengeTemplates[type]);\n      const challenge = this.createChallenge(template, index);\n      this.activeChallenges.push(challenge);\n      this.challenges.set(challenge.id, challenge);\n    });\n\n    this.lastChallengeDate = today;\n    this.logger.info(\n      `Generated ${this.activeChallenges.length} daily challenges for ${today}`\n    );\n\n    // Emit challenges generated event\n    this.eventBus.emit('dailyChallenges:generated', {\n      challenges: this.activeChallenges,\n      date: today,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Create a challenge from template\n   */\n  createChallenge(template, index) {\n    const id = `daily_${Date.now()}_${index}`;\n    const challenge = {\n      id,\n      name: template.name,\n      description: template.description.replace('{target}', template.target),\n      type: template.type,\n      difficulty: template.difficulty,\n      target: template.target,\n      reward: template.reward,\n      progress: 0,\n      completed: false,\n      completedAt: null,\n      createdAt: Date.now(),\n    };\n\n    return challenge;\n  }\n\n  /**\n   * Check daily challenge rotation\n   */\n  checkDailyChallengeRotation() {\n    const today = new Date().toDateString();\n    if (this.lastChallengeDate !== today) {\n      this.generateDailyChallenges();\n    }\n  }\n\n  /**\n   * Update challenge progress\n   */\n  updateChallengeProgress(gameState) {\n    // This method can be used for real-time progress updates\n    // that don't require specific events\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    this.checkScoreChallenges(data.score);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.checkLevelChallenges(data.level);\n    this.checkTimeChallenges(data.time);\n    this.checkSurvivalChallenges(data);\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    this.checkCollectionChallenges(data.itemType);\n  }\n\n  /**\n   * Handle combo changes\n   */\n  handleComboChanged(data) {\n    this.checkComboChallenges(data.combo);\n  }\n\n  /**\n   * Handle game start\n   */\n  handleGameStarted(data) {\n    this.gameStartTime = data.timestamp;\n    this.currentGameScore = 0;\n    this.currentGameLevel = 0;\n    this.currentGameItems = 0;\n    this.currentGameCombo = 0;\n    this.survivalCount = 0;\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.survivalCount = 0; // Reset survival count on damage\n  }\n\n  /**\n   * Check score-based challenges\n   */\n  checkScoreChallenges(currentScore) {\n    this.currentGameScore = currentScore;\n    this.checkChallengesByType('score', currentScore);\n  }\n\n  /**\n   * Check level-based challenges\n   */\n  checkLevelChallenges(level) {\n    this.currentGameLevel = level;\n    this.checkChallengesByType('level', level);\n  }\n\n  /**\n   * Check collection-based challenges\n   */\n  checkCollectionChallenges(itemType) {\n    this.currentGameItems++;\n    this.checkChallengesByType('collection', this.currentGameItems);\n  }\n\n  /**\n   * Check combo-based challenges\n   */\n  checkComboChallenges(combo) {\n    this.currentGameCombo = combo;\n    this.checkChallengesByType('combo', combo);\n  }\n\n  /**\n   * Check time-based challenges\n   */\n  checkTimeChallenges(levelTime) {\n    const timeInSeconds = Math.floor(levelTime / 1000);\n    this.checkChallengesByType('time', timeInSeconds);\n  }\n\n  /**\n   * Check survival challenges\n   */\n  checkSurvivalChallenges(levelData) {\n    this.survivalCount++;\n    this.checkChallengesByType('survival', this.survivalCount);\n  }\n\n  /**\n   * Check challenges by type\n   */\n  checkChallengesByType(type, value) {\n    for (const challenge of this.activeChallenges) {\n      if (challenge.type === type && !challenge.completed) {\n        if (value >= challenge.target) {\n          this.completeChallenge(challenge.id);\n        } else {\n          // Update progress\n          challenge.progress = value;\n          this.challengeProgress.set(challenge.id, value);\n        }\n      }\n    }\n  }\n\n  /**\n   * Complete a challenge\n   */\n  completeChallenge(challengeId) {\n    const challenge = this.challenges.get(challengeId);\n    if (!challenge || challenge.completed) {\n      return;\n    }\n\n    challenge.completed = true;\n    challenge.completedAt = Date.now();\n    this.completedChallenges.add(challengeId);\n\n    this.logger.info(`Daily challenge completed: ${challenge.name}`);\n\n    // Emit challenge completed event\n    this.eventBus.emit('dailyChallenge:completed', {\n      id: challengeId,\n      name: challenge.name,\n      description: challenge.description,\n      reward: challenge.reward,\n      timestamp: Date.now(),\n    });\n\n    // Apply reward\n    this.applyChallengeReward(challenge);\n  }\n\n  /**\n   * Apply challenge reward\n   */\n  applyChallengeReward(challenge) {\n    if (!challenge.reward) return;\n\n    const reward = challenge.reward;\n\n    // Score reward\n    if (reward.score) {\n      this.eventBus.emit('player:scoreChanged', {\n        scoreChange: reward.score,\n        source: 'dailyChallenge',\n        challengeId: challenge.id,\n      });\n    }\n\n    // Coins reward\n    if (reward.coins) {\n      this.eventBus.emit('player:coinsChanged', {\n        coinsChange: reward.coins,\n        source: 'dailyChallenge',\n        challengeId: challenge.id,\n      });\n    }\n\n    // Special effects\n    if (reward.effects) {\n      this.eventBus.emit('game:challengeEffect', {\n        effects: reward.effects,\n        challengeId: challenge.id,\n      });\n    }\n  }\n\n  /**\n   * Get active challenges\n   */\n  getActiveChallenges() {\n    return this.activeChallenges.filter((c) => !c.completed);\n  }\n\n  /**\n   * Get completed challenges\n   */\n  getCompletedChallenges() {\n    return this.activeChallenges.filter((c) => c.completed);\n  }\n\n  /**\n   * Get all challenges\n   */\n  getAllChallenges() {\n    return this.activeChallenges;\n  }\n\n  /**\n   * Get challenge progress\n   */\n  getChallengeProgress(challengeId) {\n    const challenge = this.challenges.get(challengeId);\n    if (!challenge) return null;\n\n    return {\n      id: challengeId,\n      name: challenge.name,\n      description: challenge.description,\n      progress: challenge.progress,\n      target: challenge.target,\n      percentage: Math.min((challenge.progress / challenge.target) * 100, 100),\n      completed: challenge.completed,\n      difficulty: challenge.difficulty,\n      reward: challenge.reward,\n    };\n  }\n\n  /**\n   * Get all challenge progress\n   */\n  getAllChallengeProgress() {\n    const progress = [];\n    for (const challenge of this.activeChallenges) {\n      progress.push(this.getChallengeProgress(challenge.id));\n    }\n    return progress;\n  }\n\n  /**\n   * Get random elements from array\n   */\n  getRandomElements(array, count) {\n    const shuffled = array.sort(() => 0.5 - Math.random());\n    return shuffled.slice(0, count);\n  }\n\n  /**\n   * Get random element from array\n   */\n  getRandomElement(array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  /**\n   * Load challenge data from storage\n   */\n  async loadChallengeData() {\n    try {\n      const savedData = localStorage.getItem('dailyChallengeData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n\n        // Restore last challenge date\n        this.lastChallengeDate = data.lastChallengeDate;\n\n        // Restore completed challenges\n        if (data.completed) {\n          data.completed.forEach((id) => {\n            this.completedChallenges.add(id);\n          });\n        }\n\n        // Restore progress\n        if (data.progress) {\n          for (const [id, progress] of Object.entries(data.progress)) {\n            this.challengeProgress.set(id, progress);\n          }\n        }\n\n        this.logger.info('Daily challenge data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load daily challenge data:', error);\n    }\n  }\n\n  /**\n   * Save challenge data to storage\n   */\n  saveChallengeData() {\n    try {\n      const data = {\n        lastChallengeDate: this.lastChallengeDate,\n        completed: Array.from(this.completedChallenges),\n        progress: Object.fromEntries(this.challengeProgress),\n      };\n      localStorage.setItem('dailyChallengeData', JSON.stringify(data));\n      this.logger.info('Daily challenge data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save daily challenge data:', error);\n    }\n  }\n\n  /**\n   * Reset all challenges\n   */\n  resetChallenges() {\n    this.activeChallenges = [];\n    this.completedChallenges.clear();\n    this.challengeProgress.clear();\n    this.lastChallengeDate = null;\n\n    this.logger.info('All daily challenges reset');\n  }\n}\n\nexport default DailyChallengeManager;\n","/**\n * AccessibilityManager.js - Accessibility features with gameplay integration\n *\n * This manager handles:\n * - Screen reader support\n * - High contrast mode\n * - Colorblind support\n * - Keyboard navigation\n * - Audio cues and descriptions\n * - Text scaling\n * - Motion reduction\n */\n\nexport class AccessibilityManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('AccessibilityManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('AccessibilityManager requires logger dependency');\n    }\n\n    // Accessibility settings\n    this.settings = {\n      screenReader: false,\n      highContrast: false,\n      colorblindMode: 'none', // 'none', 'protanopia', 'deuteranopia', 'tritanopia'\n      keyboardNavigation: false,\n      audioCues: true,\n      audioDescriptions: false,\n      textScaling: 1.0,\n      motionReduction: false,\n      reducedAnimations: false,\n      largeText: false,\n      focusIndicators: true,\n    };\n\n    // Audio context for sound cues\n    this.audioContext = null;\n    this.audioEnabled = true;\n\n    // Screen reader support\n    this.announcements = [];\n    this.announcementQueue = [];\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('AccessibilityManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing AccessibilityManager...');\n\n    // Load accessibility settings\n    await this.loadAccessibilitySettings();\n\n    // Initialize audio context\n    this.initializeAudio();\n\n    // Set up DOM accessibility features\n    this.setupDOMAccessibility();\n\n    this.logger.info('AccessibilityManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up AccessibilityManager...');\n\n    // Save accessibility settings\n    this.saveAccessibilitySettings();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    // Clean up audio context\n    if (this.audioContext) {\n      this.audioContext.close();\n    }\n\n    this.logger.info('AccessibilityManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Process announcement queue\n    this.processAnnouncementQueue();\n\n    // Update accessibility features based on game state\n    this.updateAccessibilityFeatures(gameState);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Game state events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('game:paused', this.handleGamePaused.bind(this));\n    this.eventBus.on('game:resumed', this.handleGameResumed.bind(this));\n    this.eventBus.on('game:stopped', this.handleGameStopped.bind(this));\n\n    // Player events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChanged.bind(this));\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Level events\n    this.eventBus.on('level:started', this.handleLevelStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Achievement events\n    this.eventBus.on(\n      'achievement:unlocked',\n      this.handleAchievementUnlocked.bind(this)\n    );\n    this.eventBus.on(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompleted.bind(this)\n    );\n\n    // Input events\n    this.eventBus.on('game:input', this.handleInput.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:paused',\n      this.handleGamePaused.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:resumed',\n      this.handleGameResumed.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:stopped',\n      this.handleGameStopped.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:started',\n      this.handleLevelStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'achievement:unlocked',\n      this.handleAchievementUnlocked.bind(this)\n    );\n    this.eventBus.removeListener(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompleted.bind(this)\n    );\n    this.eventBus.removeListener('game:input', this.handleInput.bind(this));\n  }\n\n  /**\n   * Initialize audio context\n   */\n  initializeAudio() {\n    try {\n      this.audioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n      this.audioEnabled = true;\n    } catch (error) {\n      this.logger.warn('Audio context not available:', error);\n      this.audioEnabled = false;\n    }\n  }\n\n  /**\n   * Set up DOM accessibility features\n   */\n  setupDOMAccessibility() {\n    // Create announcement region for screen readers\n    this.createAnnouncementRegion();\n\n    // Set up keyboard navigation\n    this.setupKeyboardNavigation();\n\n    // Apply initial accessibility settings\n    this.applyAccessibilitySettings();\n  }\n\n  /**\n   * Create announcement region for screen readers\n   */\n  createAnnouncementRegion() {\n    const announcementRegion = document.createElement('div');\n    announcementRegion.id = 'accessibility-announcements';\n    announcementRegion.setAttribute('aria-live', 'polite');\n    announcementRegion.setAttribute('aria-atomic', 'true');\n    announcementRegion.style.cssText = `\n            position: absolute;\n            left: -10000px;\n            width: 1px;\n            height: 1px;\n            overflow: hidden;\n        `;\n    document.body.appendChild(announcementRegion);\n  }\n\n  /**\n   * Set up keyboard navigation\n   */\n  setupKeyboardNavigation() {\n    if (!this.settings.keyboardNavigation) return;\n\n    document.addEventListener('keydown', (event) => {\n      this.handleKeyboardNavigation(event);\n    });\n  }\n\n  /**\n   * Handle keyboard navigation\n   */\n  handleKeyboardNavigation(event) {\n    if (!this.settings.keyboardNavigation) return;\n\n    switch (event.key) {\n      case 'Tab':\n        // Ensure proper tab order\n        this.handleTabNavigation(event);\n        break;\n      case 'Enter':\n      case ' ':\n        // Handle activation\n        this.handleActivation(event);\n        break;\n      case 'Escape':\n        // Handle escape key\n        this.handleEscape(event);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        // Handle arrow key navigation\n        this.handleArrowNavigation(event);\n        break;\n    }\n  }\n\n  /**\n   * Handle tab navigation\n   */\n  handleTabNavigation(event) {\n    // Ensure focusable elements are properly ordered\n    const focusableElements = document.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n\n    // This would implement custom tab order logic\n    // based on game state and UI layout\n  }\n\n  /**\n   * Handle activation\n   */\n  handleActivation(event) {\n    const activeElement = document.activeElement;\n    if (activeElement && activeElement.click) {\n      activeElement.click();\n    }\n  }\n\n  /**\n   * Handle escape key\n   */\n  handleEscape(event) {\n    // Emit escape event for game to handle\n    this.eventBus.emit('accessibility:escape', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle arrow key navigation\n   */\n  handleArrowNavigation(event) {\n    // Emit arrow navigation event\n    this.eventBus.emit('accessibility:arrowNavigation', {\n      direction: event.key.replace('Arrow', '').toLowerCase(),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Apply accessibility settings\n   */\n  applyAccessibilitySettings() {\n    const root = document.documentElement;\n\n    // High contrast mode\n    if (this.settings.highContrast) {\n      root.classList.add('high-contrast');\n    } else {\n      root.classList.remove('high-contrast');\n    }\n\n    // Colorblind mode\n    root.classList.remove(\n      'colorblind-protanopia',\n      'colorblind-deuteranopia',\n      'colorblind-tritanopia'\n    );\n    if (this.settings.colorblindMode !== 'none') {\n      root.classList.add(`colorblind-${this.settings.colorblindMode}`);\n    }\n\n    // Text scaling\n    root.style.setProperty('--text-scale', this.settings.textScaling);\n\n    // Motion reduction\n    if (this.settings.motionReduction) {\n      root.classList.add('motion-reduced');\n    } else {\n      root.classList.remove('motion-reduced');\n    }\n\n    // Large text\n    if (this.settings.largeText) {\n      root.classList.add('large-text');\n    } else {\n      root.classList.remove('large-text');\n    }\n\n    // Focus indicators\n    if (this.settings.focusIndicators) {\n      root.classList.add('focus-indicators');\n    } else {\n      root.classList.remove('focus-indicators');\n    }\n  }\n\n  /**\n   * Update accessibility settings\n   */\n  updateSettings(newSettings) {\n    this.settings = { ...this.settings, ...newSettings };\n    this.applyAccessibilitySettings();\n\n    this.logger.info('Accessibility settings updated');\n\n    // Emit settings changed event\n    this.eventBus.emit('accessibility:settingsChanged', {\n      settings: this.settings,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Get current settings\n   */\n  getSettings() {\n    return { ...this.settings };\n  }\n\n  /**\n   * Announce text to screen readers\n   */\n  announce(text, priority = 'polite') {\n    if (!this.settings.screenReader) return;\n\n    const announcement = {\n      text,\n      priority,\n      timestamp: Date.now(),\n    };\n\n    this.announcementQueue.push(announcement);\n  }\n\n  /**\n   * Process announcement queue\n   */\n  processAnnouncementQueue() {\n    if (this.announcementQueue.length === 0) return;\n\n    const announcement = this.announcementQueue.shift();\n    const announcementRegion = document.getElementById(\n      'accessibility-announcements'\n    );\n\n    if (announcementRegion) {\n      announcementRegion.setAttribute('aria-live', announcement.priority);\n      announcementRegion.textContent = announcement.text;\n    }\n  }\n\n  /**\n   * Play audio cue\n   */\n  playAudioCue(cueType, frequency = 440, duration = 200) {\n    if (!this.settings.audioCues || !this.audioEnabled || !this.audioContext)\n      return;\n\n    try {\n      const oscillator = this.audioContext.createOscillator();\n      const gainNode = this.audioContext.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(this.audioContext.destination);\n\n      oscillator.frequency.setValueAtTime(\n        frequency,\n        this.audioContext.currentTime\n      );\n      oscillator.type = 'sine';\n\n      gainNode.gain.setValueAtTime(0, this.audioContext.currentTime);\n      gainNode.gain.linearRampToValueAtTime(\n        0.1,\n        this.audioContext.currentTime + 0.01\n      );\n      gainNode.gain.linearRampToValueAtTime(\n        0,\n        this.audioContext.currentTime + duration / 1000\n      );\n\n      oscillator.start(this.audioContext.currentTime);\n      oscillator.stop(this.audioContext.currentTime + duration / 1000);\n    } catch (error) {\n      this.logger.warn('Failed to play audio cue:', error);\n    }\n  }\n\n  /**\n   * Handle game started\n   */\n  handleGameStarted(data) {\n    this.announce('Game started');\n    this.playAudioCue('gameStart', 523, 300);\n  }\n\n  /**\n   * Handle game paused\n   */\n  handleGamePaused(data) {\n    this.announce('Game paused');\n    this.playAudioCue('pause', 330, 200);\n  }\n\n  /**\n   * Handle game resumed\n   */\n  handleGameResumed(data) {\n    this.announce('Game resumed');\n    this.playAudioCue('resume', 523, 200);\n  }\n\n  /**\n   * Handle game stopped\n   */\n  handleGameStopped(data) {\n    this.announce('Game stopped');\n    this.playAudioCue('gameOver', 220, 500);\n  }\n\n  /**\n   * Handle score changed\n   */\n  handleScoreChanged(data) {\n    if (data.scoreChange > 0) {\n      this.announce(\n        `Score increased by ${data.scoreChange}. Total score: ${data.score}`\n      );\n      this.playAudioCue('score', 659, 100);\n    }\n  }\n\n  /**\n   * Handle player damaged\n   */\n  handlePlayerDamaged(data) {\n    this.announce(`Player damaged. Lives remaining: ${data.lives}`);\n    this.playAudioCue('damage', 220, 300);\n  }\n\n  /**\n   * Handle item collected\n   */\n  handleItemCollected(data) {\n    this.announce(`Item collected: ${data.itemType}`);\n    this.playAudioCue('item', 880, 150);\n  }\n\n  /**\n   * Handle level started\n   */\n  handleLevelStarted(data) {\n    this.announce(`Level ${data.level} started`);\n    this.playAudioCue('levelStart', 523, 400);\n  }\n\n  /**\n   * Handle level completed\n   */\n  handleLevelCompleted(data) {\n    this.announce(\n      `Level ${data.level} completed in ${Math.floor(data.time / 1000)} seconds`\n    );\n    this.playAudioCue('levelComplete', 1047, 600);\n  }\n\n  /**\n   * Handle achievement unlocked\n   */\n  handleAchievementUnlocked(data) {\n    this.announce(`Achievement unlocked: ${data.name}`);\n    this.playAudioCue('achievement', 1319, 800);\n  }\n\n  /**\n   * Handle daily challenge completed\n   */\n  handleDailyChallengeCompleted(data) {\n    this.announce(`Daily challenge completed: ${data.name}`);\n    this.playAudioCue('challenge', 1047, 500);\n  }\n\n  /**\n   * Handle input\n   */\n  handleInput(data) {\n    if (this.settings.audioCues) {\n      this.playAudioCue('input', 440, 50);\n    }\n  }\n\n  /**\n   * Update accessibility features based on game state\n   */\n  updateAccessibilityFeatures(gameState) {\n    // Update focus management based on game state\n    if (gameState.isPaused) {\n      this.manageFocusOnPause();\n    } else if (gameState.isRunning) {\n      this.manageFocusDuringGameplay();\n    }\n  }\n\n  /**\n   * Manage focus when game is paused\n   */\n  manageFocusOnPause() {\n    // Ensure focus is on pause menu\n    const pauseMenu = document.querySelector('.pause-menu');\n    if (pauseMenu && pauseMenu.focus) {\n      pauseMenu.focus();\n    }\n  }\n\n  /**\n   * Manage focus during gameplay\n   */\n  manageFocusDuringGameplay() {\n    // Ensure focus is on game canvas or main game area\n    const gameArea = document.querySelector('.game-area');\n    if (gameArea && gameArea.focus) {\n      gameArea.focus();\n    }\n  }\n\n  /**\n   * Load accessibility settings from storage\n   */\n  async loadAccessibilitySettings() {\n    try {\n      const savedSettings = localStorage.getItem('accessibilitySettings');\n      if (savedSettings) {\n        const settings = JSON.parse(savedSettings);\n        this.settings = { ...this.settings, ...settings };\n        this.applyAccessibilitySettings();\n        this.logger.info('Accessibility settings loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load accessibility settings:', error);\n    }\n  }\n\n  /**\n   * Save accessibility settings to storage\n   */\n  saveAccessibilitySettings() {\n    try {\n      localStorage.setItem(\n        'accessibilitySettings',\n        JSON.stringify(this.settings)\n      );\n      this.logger.info('Accessibility settings saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save accessibility settings:', error);\n    }\n  }\n\n  /**\n   * Reset accessibility settings to defaults\n   */\n  resetSettings() {\n    this.settings = {\n      screenReader: false,\n      highContrast: false,\n      colorblindMode: 'none',\n      keyboardNavigation: false,\n      audioCues: true,\n      audioDescriptions: false,\n      textScaling: 1.0,\n      motionReduction: false,\n      reducedAnimations: false,\n      largeText: false,\n      focusIndicators: true,\n    };\n\n    this.applyAccessibilitySettings();\n    this.logger.info('Accessibility settings reset to defaults');\n  }\n}\n\nexport default AccessibilityManager;\n","/**\n * EventBus.js - Central event management system\n *\n * This class provides:\n * - Event emission and listening\n * - Event filtering and transformation\n * - Event history and debugging\n * - Performance monitoring\n */\n\nexport class EventBus {\n  constructor() {\n    this.listeners = new Map();\n    this.eventHistory = [];\n    this.maxHistorySize = 1000;\n    this.debug = false;\n    this.performanceMetrics = {\n      totalEvents: 0,\n      averageProcessingTime: 0,\n      slowestEvent: null,\n      eventCounts: new Map(),\n    };\n  }\n\n  /**\n   * Add event listener\n   */\n  on(event, callback, options = {}) {\n    if (typeof callback !== 'function') {\n      throw new Error('Callback must be a function');\n    }\n\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, []);\n    }\n\n    const listener = {\n      callback,\n      once: options.once || false,\n      priority: options.priority || 0,\n      id: options.id || null,\n      context: options.context || null,\n    };\n\n    this.listeners.get(event).push(listener);\n\n    // Sort by priority (higher priority first)\n    this.listeners.get(event).sort((a, b) => b.priority - a.priority);\n\n    this.log(`Added listener for event: ${event}`);\n  }\n\n  /**\n   * Add one-time event listener\n   */\n  once(event, callback, options = {}) {\n    this.on(event, callback, { ...options, once: true });\n  }\n\n  /**\n   * Remove event listener\n   */\n  off(event, callback) {\n    if (!this.listeners.has(event)) {\n      return;\n    }\n\n    const eventListeners = this.listeners.get(event);\n    const index = eventListeners.findIndex(\n      (listener) => listener.callback === callback\n    );\n\n    if (index !== -1) {\n      eventListeners.splice(index, 1);\n      this.log(`Removed listener for event: ${event}`);\n    }\n  }\n\n  /**\n   * Remove all listeners for an event\n   */\n  removeAllListeners(event) {\n    if (event) {\n      this.listeners.delete(event);\n      this.log(`Removed all listeners for event: ${event}`);\n    } else {\n      this.listeners.clear();\n      this.log('Removed all listeners');\n    }\n  }\n\n  /**\n   * Emit an event\n   */\n  emit(event, data = {}) {\n    const startTime = performance.now();\n\n    if (!this.listeners.has(event)) {\n      this.log(`No listeners for event: ${event}`);\n      return;\n    }\n\n    const eventListeners = this.listeners.get(event);\n    const eventData = {\n      event,\n      data,\n      timestamp: Date.now(),\n      id: this.generateEventId(),\n    };\n\n    // Add to history\n    this.addToHistory(eventData);\n\n    // Update performance metrics\n    this.updatePerformanceMetrics(event, startTime);\n\n    // Call listeners\n    const listenersToRemove = [];\n\n    for (let i = 0; i < eventListeners.length; i++) {\n      const listener = eventListeners[i];\n\n      try {\n        // Call listener with context if provided\n        if (listener.context) {\n          listener.callback.call(listener.context, eventData.data, eventData);\n        } else {\n          listener.callback(eventData.data, eventData);\n        }\n\n        // Mark for removal if it's a one-time listener\n        if (listener.once) {\n          listenersToRemove.push(i);\n        }\n      } catch (error) {\n        console.error(`Error in event listener for ${event}:`, error);\n      }\n    }\n\n    // Remove one-time listeners\n    for (let i = listenersToRemove.length - 1; i >= 0; i--) {\n      eventListeners.splice(listenersToRemove[i], 1);\n    }\n\n    this.log(`Emitted event: ${event}`, eventData);\n  }\n\n  /**\n   * Emit event asynchronously\n   */\n  async emitAsync(event, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.emit(event, data);\n        resolve();\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  /**\n   * Wait for an event\n   */\n  waitFor(event, timeout = 5000) {\n    return new Promise((resolve, reject) => {\n      const timeoutId = setTimeout(() => {\n        this.off(event, handler);\n        reject(new Error(`Timeout waiting for event: ${event}`));\n      }, timeout);\n\n      const handler = (data, eventData) => {\n        clearTimeout(timeoutId);\n        this.off(event, handler);\n        resolve({ data, eventData });\n      };\n\n      this.on(event, handler);\n    });\n  }\n\n  /**\n   * Add event to history\n   */\n  addToHistory(eventData) {\n    this.eventHistory.push(eventData);\n\n    // Maintain history size limit\n    if (this.eventHistory.length > this.maxHistorySize) {\n      this.eventHistory.shift();\n    }\n  }\n\n  /**\n   * Update performance metrics\n   */\n  updatePerformanceMetrics(event, startTime) {\n    const processingTime = performance.now() - startTime;\n\n    this.performanceMetrics.totalEvents++;\n\n    // Update average processing time\n    const totalTime =\n      this.performanceMetrics.averageProcessingTime *\n      (this.performanceMetrics.totalEvents - 1);\n    this.performanceMetrics.averageProcessingTime =\n      (totalTime + processingTime) / this.performanceMetrics.totalEvents;\n\n    // Update slowest event\n    if (\n      !this.performanceMetrics.slowestEvent ||\n      processingTime > this.performanceMetrics.slowestEvent.time\n    ) {\n      this.performanceMetrics.slowestEvent = {\n        event,\n        time: processingTime,\n        timestamp: Date.now(),\n      };\n    }\n\n    // Update event counts\n    const count = this.performanceMetrics.eventCounts.get(event) || 0;\n    this.performanceMetrics.eventCounts.set(event, count + 1);\n  }\n\n  /**\n   * Generate unique event ID\n   */\n  generateEventId() {\n    return `event_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Get event history\n   */\n  getHistory(filter = {}) {\n    let history = [...this.eventHistory];\n\n    if (filter.event) {\n      history = history.filter((item) => item.event === filter.event);\n    }\n\n    if (filter.since) {\n      history = history.filter((item) => item.timestamp >= filter.since);\n    }\n\n    if (filter.until) {\n      history = history.filter((item) => item.timestamp <= filter.until);\n    }\n\n    if (filter.limit) {\n      history = history.slice(-filter.limit);\n    }\n\n    return history;\n  }\n\n  /**\n   * Get performance metrics\n   */\n  getPerformanceMetrics() {\n    return {\n      ...this.performanceMetrics,\n      eventCounts: Object.fromEntries(this.performanceMetrics.eventCounts),\n    };\n  }\n\n  /**\n   * Clear event history\n   */\n  clearHistory() {\n    this.eventHistory = [];\n    this.log('Event history cleared');\n  }\n\n  /**\n   * Reset performance metrics\n   */\n  resetMetrics() {\n    this.performanceMetrics = {\n      totalEvents: 0,\n      averageProcessingTime: 0,\n      slowestEvent: null,\n      eventCounts: new Map(),\n    };\n    this.log('Performance metrics reset');\n  }\n\n  /**\n   * Enable debug mode\n   */\n  enableDebug() {\n    this.debug = true;\n    this.log('Debug mode enabled');\n  }\n\n  /**\n   * Disable debug mode\n   */\n  disableDebug() {\n    this.debug = false;\n  }\n\n  /**\n   * Log debug message\n   */\n  log(message, data = null) {\n    if (this.debug) {\n      if (data) {\n        console.log(`[EventBus] ${message}`, data);\n      } else {\n        console.log(`[EventBus] ${message}`);\n      }\n    }\n  }\n\n  /**\n   * Get listener count for an event\n   */\n  getListenerCount(event) {\n    return this.listeners.has(event) ? this.listeners.get(event).length : 0;\n  }\n\n  /**\n   * Get all registered events\n   */\n  getRegisteredEvents() {\n    return Array.from(this.listeners.keys());\n  }\n\n  /**\n   * Check if event has listeners\n   */\n  hasListeners(event) {\n    return this.listeners.has(event) && this.listeners.get(event).length > 0;\n  }\n\n  /**\n   * Create event filter\n   */\n  createFilter(event, condition) {\n    return (data, eventData) => {\n      if (condition(data, eventData)) {\n        this.emit(event, data);\n      }\n    };\n  }\n\n  /**\n   * Create event transformer\n   */\n  createTransformer(event, transform) {\n    return (data, eventData) => {\n      const transformedData = transform(data, eventData);\n      this.emit(event, transformedData);\n    };\n  }\n\n  /**\n   * Destroy the event bus\n   */\n  destroy() {\n    this.listeners.clear();\n    this.eventHistory = [];\n    this.performanceMetrics = {\n      totalEvents: 0,\n      averageProcessingTime: 0,\n      slowestEvent: null,\n      eventCounts: new Map(),\n    };\n    this.log('EventBus destroyed');\n  }\n}\n\nexport default EventBus;\n","/**\n * Logger.js - Centralized logging system\n *\n * This class provides:\n * - Multiple log levels\n * - Log filtering and formatting\n * - Performance monitoring\n * - Log persistence\n * - Debug utilities\n */\n\nexport class Logger {\n  constructor(debug = false) {\n    this.debug = debug;\n    this.logLevel = debug ? 'debug' : 'info';\n    this.logHistory = [];\n    this.maxHistorySize = 1000;\n    this.performanceMetrics = {\n      totalLogs: 0,\n      logsByLevel: new Map(),\n      averageLogTime: 0,\n    };\n\n    // Log levels\n    this.levels = {\n      error: 0,\n      warn: 1,\n      info: 2,\n      debug: 3,\n      trace: 4,\n    };\n\n    // Initialize performance monitoring\n    this.startTime = Date.now();\n  }\n\n  /**\n   * Set log level\n   */\n  setLevel(level) {\n    if (Object.prototype.hasOwnProperty.call(this.levels, level)) {\n      this.logLevel = level;\n    } else {\n      this.warn(`Invalid log level: ${level}`);\n    }\n  }\n\n  /**\n   * Enable debug mode\n   */\n  enableDebug() {\n    this.debug = true;\n    this.setLevel('debug');\n  }\n\n  /**\n   * Disable debug mode\n   */\n  disableDebug() {\n    this.debug = false;\n    this.setLevel('info');\n  }\n\n  /**\n   * Check if log level should be processed\n   */\n  shouldLog(level) {\n    return this.levels[level] <= this.levels[this.logLevel];\n  }\n\n  /**\n   * Log a message\n   */\n  log(level, message, data = null, context = null) {\n    if (!this.shouldLog(level)) {\n      return;\n    }\n\n    const timestamp = Date.now();\n    const logEntry = {\n      level,\n      message,\n      data,\n      context,\n      timestamp,\n      id: this.generateLogId(),\n    };\n\n    // Add to history\n    this.addToHistory(logEntry);\n\n    // Update performance metrics\n    this.updatePerformanceMetrics(level);\n\n    // Format and output log\n    this.outputLog(logEntry);\n  }\n\n  /**\n   * Add log entry to history\n   */\n  addToHistory(logEntry) {\n    this.logHistory.push(logEntry);\n\n    // Maintain history size limit\n    if (this.logHistory.length > this.maxHistorySize) {\n      this.logHistory.shift();\n    }\n  }\n\n  /**\n   * Update performance metrics\n   */\n  updatePerformanceMetrics(level) {\n    this.performanceMetrics.totalLogs++;\n\n    const count = this.performanceMetrics.logsByLevel.get(level) || 0;\n    this.performanceMetrics.logsByLevel.set(level, count + 1);\n\n    // Update average log time\n    const totalTime =\n      this.performanceMetrics.averageLogTime *\n      (this.performanceMetrics.totalLogs - 1);\n    this.performanceMetrics.averageLogTime =\n      (totalTime + 1) / this.performanceMetrics.totalLogs;\n  }\n\n  /**\n   * Output log to console\n   */\n  outputLog(logEntry) {\n    const { level, message, data, context, timestamp } = logEntry;\n    const timeString = new Date(timestamp).toISOString();\n    const contextString = context ? `[${context}]` : '';\n    const prefix = `[${timeString}] ${level.toUpperCase()}${contextString}`;\n\n    switch (level) {\n      case 'error':\n        console.error(prefix, message, data || '');\n        break;\n      case 'warn':\n        console.warn(prefix, message, data || '');\n        break;\n      case 'info':\n        console.info(prefix, message, data || '');\n        break;\n      case 'debug':\n        console.debug(prefix, message, data || '');\n        break;\n      case 'trace':\n        console.trace(prefix, message, data || '');\n        break;\n      default:\n        console.log(prefix, message, data || '');\n    }\n  }\n\n  /**\n   * Generate unique log ID\n   */\n  generateLogId() {\n    return `log_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Error level logging\n   */\n  error(message, data = null, context = null) {\n    this.log('error', message, data, context);\n  }\n\n  /**\n   * Warning level logging\n   */\n  warn(message, data = null, context = null) {\n    this.log('warn', message, data, context);\n  }\n\n  /**\n   * Info level logging\n   */\n  info(message, data = null, context = null) {\n    this.log('info', message, data, context);\n  }\n\n  /**\n   * Debug level logging\n   */\n  debug(message, data = null, context = null) {\n    this.log('debug', message, data, context);\n  }\n\n  /**\n   * Trace level logging\n   */\n  trace(message, data = null, context = null) {\n    this.log('trace', message, data, context);\n  }\n\n  /**\n   * Log performance metrics\n   */\n  performance(operation, startTime, endTime = null) {\n    const duration = (endTime || performance.now()) - startTime;\n    this.debug(`Performance: ${operation} took ${duration.toFixed(2)}ms`);\n    return duration;\n  }\n\n  /**\n   * Log memory usage\n   */\n  memory() {\n    if (performance.memory) {\n      const memory = performance.memory;\n      this.debug('Memory usage:', {\n        used: `${Math.round(memory.usedJSHeapSize / 1024 / 1024)}MB`,\n        total: `${Math.round(memory.totalJSHeapSize / 1024 / 1024)}MB`,\n        limit: `${Math.round(memory.jsHeapSizeLimit / 1024 / 1024)}MB`,\n      });\n    }\n  }\n\n  /**\n   * Log function execution\n   */\n  function(name, fn, context = null) {\n    const startTime = performance.now();\n    this.debug(`Function started: ${name}`, null, context);\n\n    try {\n      const result = fn();\n      const duration = this.performance(name, startTime);\n      this.debug(`Function completed: ${name}`, { duration }, context);\n      return result;\n    } catch (error) {\n      const duration = this.performance(name, startTime);\n      this.error(\n        `Function failed: ${name}`,\n        { error: error.message, duration },\n        context\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * Log async function execution\n   */\n  async functionAsync(name, fn, context = null) {\n    const startTime = performance.now();\n    this.debug(`Async function started: ${name}`, null, context);\n\n    try {\n      const result = await fn();\n      const duration = this.performance(name, startTime);\n      this.debug(`Async function completed: ${name}`, { duration }, context);\n      return result;\n    } catch (error) {\n      const duration = this.performance(name, startTime);\n      this.error(\n        `Async function failed: ${name}`,\n        { error: error.message, duration },\n        context\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * Log event\n   */\n  event(eventName, data = null, context = null) {\n    this.debug(`Event: ${eventName}`, data, context);\n  }\n\n  /**\n   * Log state change\n   */\n  stateChange(from, to, data = null, context = null) {\n    this.info(`State changed: ${from} -> ${to}`, data, context);\n  }\n\n  /**\n   * Log user action\n   */\n  userAction(action, data = null, context = null) {\n    this.info(`User action: ${action}`, data, context);\n  }\n\n  /**\n   * Log API call\n   */\n  apiCall(method, url, data = null, context = null) {\n    this.debug(`API call: ${method} ${url}`, data, context);\n  }\n\n  /**\n   * Log API response\n   */\n  apiResponse(method, url, status, data = null, context = null) {\n    const level = status >= 400 ? 'error' : 'debug';\n    this.log(\n      level,\n      `API response: ${method} ${url} - ${status}`,\n      data,\n      context\n    );\n  }\n\n  /**\n   * Log error with stack trace\n   */\n  errorWithStack(message, error, context = null) {\n    this.error(\n      message,\n      {\n        error: error.message,\n        stack: error.stack,\n      },\n      context\n    );\n  }\n\n  /**\n   * Log group of related messages\n   */\n  group(name, fn, context = null) {\n    const startTime = performance.now();\n    this.debug(`Group started: ${name}`, null, context);\n\n    try {\n      const result = fn();\n      const duration = this.performance(name, startTime);\n      this.debug(`Group completed: ${name}`, { duration }, context);\n      return result;\n    } catch (error) {\n      const duration = this.performance(name, startTime);\n      this.error(\n        `Group failed: ${name}`,\n        { error: error.message, duration },\n        context\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * Log async group of related messages\n   */\n  async groupAsync(name, fn, context = null) {\n    const startTime = performance.now();\n    this.debug(`Async group started: ${name}`, null, context);\n\n    try {\n      const result = await fn();\n      const duration = this.performance(name, startTime);\n      this.debug(`Async group completed: ${name}`, { duration }, context);\n      return result;\n    } catch (error) {\n      const duration = this.performance(name, startTime);\n      this.error(\n        `Async group failed: ${name}`,\n        { error: error.message, duration },\n        context\n      );\n      throw error;\n    }\n  }\n\n  /**\n   * Get log history\n   */\n  getHistory(filter = {}) {\n    let history = [...this.logHistory];\n\n    if (filter.level) {\n      history = history.filter((entry) => entry.level === filter.level);\n    }\n\n    if (filter.context) {\n      history = history.filter((entry) => entry.context === filter.context);\n    }\n\n    if (filter.since) {\n      history = history.filter((entry) => entry.timestamp >= filter.since);\n    }\n\n    if (filter.until) {\n      history = history.filter((entry) => entry.timestamp <= filter.until);\n    }\n\n    if (filter.limit) {\n      history = history.slice(-filter.limit);\n    }\n\n    return history;\n  }\n\n  /**\n   * Get performance metrics\n   */\n  getPerformanceMetrics() {\n    return {\n      ...this.performanceMetrics,\n      logsByLevel: Object.fromEntries(this.performanceMetrics.logsByLevel),\n      uptime: Date.now() - this.startTime,\n    };\n  }\n\n  /**\n   * Clear log history\n   */\n  clearHistory() {\n    this.logHistory = [];\n    this.debug('Log history cleared');\n  }\n\n  /**\n   * Reset performance metrics\n   */\n  resetMetrics() {\n    this.performanceMetrics = {\n      totalLogs: 0,\n      logsByLevel: new Map(),\n      averageLogTime: 0,\n    };\n    this.startTime = Date.now();\n    this.debug('Performance metrics reset');\n  }\n\n  /**\n   * Export logs to JSON\n   */\n  exportLogs(filter = {}) {\n    const history = this.getHistory(filter);\n    return JSON.stringify(history, null, 2);\n  }\n\n  /**\n   * Import logs from JSON\n   */\n  importLogs(jsonString) {\n    try {\n      const logs = JSON.parse(jsonString);\n      if (Array.isArray(logs)) {\n        this.logHistory = logs;\n        this.debug(`Imported ${logs.length} log entries`);\n      }\n    } catch (error) {\n      this.error('Failed to import logs:', error);\n    }\n  }\n\n  /**\n   * Create a child logger with context\n   */\n  child(context) {\n    const childLogger = new Logger(this.debug);\n    childLogger.logLevel = this.logLevel;\n    childLogger.context = context;\n    return childLogger;\n  }\n}\n\nexport default Logger;\n","/**\n * PerformanceMonitor.js - Comprehensive performance monitoring and optimization system\n *\n * This monitor handles:\n * - FPS monitoring and frame time analysis\n * - Memory usage tracking and leak detection\n * - Audio context performance monitoring\n * - Rendering performance analysis\n * - Input lag measurement\n * - Network performance tracking\n * - Performance bottleneck identification\n * - Automatic optimization suggestions\n */\n\nexport class PerformanceMonitor {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('PerformanceMonitor requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('PerformanceMonitor requires logger dependency');\n    }\n\n    // Performance configuration\n    this.config = {\n      enableFPSMonitoring: true,\n      enableMemoryMonitoring: true,\n      enableAudioMonitoring: true,\n      enableRenderingMonitoring: true,\n      enableInputMonitoring: true,\n      enableNetworkMonitoring: true,\n      enableAutoOptimization: true,\n      fpsTarget: 60,\n      fpsWarningThreshold: 45,\n      fpsCriticalThreshold: 30,\n      memoryWarningThreshold: 100 * 1024 * 1024, // 100MB\n      memoryCriticalThreshold: 200 * 1024 * 1024, // 200MB\n      frameTimeWarningThreshold: 16.67, // 60fps = 16.67ms per frame\n      frameTimeCriticalThreshold: 33.33, // 30fps = 33.33ms per frame\n      reportInterval: 5000, // Report every 5 seconds\n      maxHistorySize: 1000,\n      ...dependencies.config,\n    };\n\n    // Performance metrics\n    this.metrics = {\n      fps: {\n        current: 0,\n        average: 0,\n        min: Infinity,\n        max: 0,\n        history: [],\n        droppedFrames: 0,\n      },\n      frameTime: {\n        current: 0,\n        average: 0,\n        min: Infinity,\n        max: 0,\n        history: [],\n      },\n      memory: {\n        used: 0,\n        total: 0,\n        available: 0,\n        history: [],\n        leakDetected: false,\n        leakCount: 0,\n      },\n      audio: {\n        contextState: 'suspended',\n        contextRecreations: 0,\n        bufferUnderruns: 0,\n        latency: 0,\n        performanceScore: 0,\n      },\n      rendering: {\n        drawCalls: 0,\n        triangles: 0,\n        textures: 0,\n        shaders: 0,\n        batchCount: 0,\n        cullingTime: 0,\n        lightingTime: 0,\n        postProcessingTime: 0,\n      },\n      input: {\n        lag: 0,\n        eventCount: 0,\n        droppedEvents: 0,\n        averageResponseTime: 0,\n      },\n      network: {\n        latency: 0,\n        bandwidth: 0,\n        packetLoss: 0,\n        connectionQuality: 'good',\n      },\n    };\n\n    // Performance state\n    this.isMonitoring = false;\n    this.lastFrameTime = 0;\n    this.frameCount = 0;\n    this.lastReportTime = 0;\n    this.optimizationSuggestions = [];\n    this.performanceAlerts = [];\n\n    // Performance observers\n    this.observers = {\n      fps: null,\n      memory: null,\n      audio: null,\n      rendering: null,\n      input: null,\n      network: null,\n    };\n\n    // Set up performance monitoring\n    this.setupPerformanceMonitoring();\n    this.setupEventHandlers();\n\n    this.logger.info('PerformanceMonitor initialized');\n  }\n\n  /**\n   * Initialize the monitor\n   */\n  async initialize() {\n    this.logger.info('Initializing PerformanceMonitor...');\n\n    // Start monitoring if enabled\n    if (this.config.enableFPSMonitoring || this.config.enableMemoryMonitoring) {\n      this.startMonitoring();\n    }\n\n    this.logger.info('PerformanceMonitor initialized successfully');\n  }\n\n  /**\n   * Cleanup the monitor\n   */\n  cleanup() {\n    this.logger.info('Cleaning up PerformanceMonitor...');\n\n    // Stop monitoring\n    this.stopMonitoring();\n\n    // Disconnect observers\n    this.disconnectObservers();\n\n    this.logger.info('PerformanceMonitor cleaned up');\n  }\n\n  /**\n   * Set up performance monitoring\n   */\n  setupPerformanceMonitoring() {\n    // Set up FPS monitoring\n    if (this.config.enableFPSMonitoring) {\n      this.setupFPSMonitoring();\n    }\n\n    // Set up memory monitoring\n    if (this.config.enableMemoryMonitoring) {\n      this.setupMemoryMonitoring();\n    }\n\n    // Set up audio monitoring\n    if (this.config.enableAudioMonitoring) {\n      this.setupAudioMonitoring();\n    }\n\n    // Set up rendering monitoring\n    if (this.config.enableRenderingMonitoring) {\n      this.setupRenderingMonitoring();\n    }\n\n    // Set up input monitoring\n    if (this.config.enableInputMonitoring) {\n      this.setupInputMonitoring();\n    }\n\n    // Set up network monitoring\n    if (this.config.enableNetworkMonitoring) {\n      this.setupNetworkMonitoring();\n    }\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('game:paused', this.handleGamePaused.bind(this));\n    this.eventBus.on('game:resumed', this.handleGameResumed.bind(this));\n    this.eventBus.on('game:stopped', this.handleGameStopped.bind(this));\n\n    // Performance events\n    this.eventBus.on('performance:frame', this.handleFrame.bind(this));\n    this.eventBus.on('performance:memory', this.handleMemoryUpdate.bind(this));\n    this.eventBus.on('performance:audio', this.handleAudioUpdate.bind(this));\n    this.eventBus.on('performance:rendering', this.handleRenderingUpdate.bind(this));\n    this.eventBus.on('performance:input', this.handleInputUpdate.bind(this));\n    this.eventBus.on('performance:network', this.handleNetworkUpdate.bind(this));\n  }\n\n  /**\n   * Set up FPS monitoring\n   */\n  setupFPSMonitoring() {\n    this.lastFrameTime = performance.now();\n    this.frameCount = 0;\n\n    const measureFPS = (currentTime) => {\n      if (!this.isMonitoring) return;\n\n      const deltaTime = currentTime - this.lastFrameTime;\n      this.lastFrameTime = currentTime;\n\n      // Calculate FPS\n      const fps = 1000 / deltaTime;\n      this.updateFPSMetrics(fps, deltaTime);\n\n      // Continue monitoring\n      requestAnimationFrame(measureFPS);\n    };\n\n    this.observers.fps = measureFPS;\n  }\n\n  /**\n   * Set up memory monitoring\n   */\n  setupMemoryMonitoring() {\n    if (!performance.memory) {\n      this.logger.warn('Performance.memory API not available');\n      return;\n    }\n\n    const measureMemory = () => {\n      if (!this.isMonitoring) return;\n\n      const memory = performance.memory;\n      this.updateMemoryMetrics(memory);\n\n      // Check for memory leaks\n      this.detectMemoryLeaks();\n\n      // Continue monitoring\n      setTimeout(measureMemory, 1000);\n    };\n\n    this.observers.memory = measureMemory;\n  }\n\n  /**\n   * Set up audio monitoring\n   */\n  setupAudioMonitoring() {\n    // Monitor audio context state\n    const measureAudio = () => {\n      if (!this.isMonitoring) return;\n\n      // Check for audio context recreations\n      this.checkAudioContextHealth();\n\n      // Continue monitoring\n      setTimeout(measureAudio, 2000);\n    };\n\n    this.observers.audio = measureAudio;\n  }\n\n  /**\n   * Set up rendering monitoring\n   */\n  setupRenderingMonitoring() {\n    // This would integrate with the rendering system\n    // For now, we'll set up basic monitoring\n    const measureRendering = () => {\n      if (!this.isMonitoring) return;\n\n      // Monitor rendering performance\n      this.updateRenderingMetrics();\n\n      // Continue monitoring\n      requestAnimationFrame(measureRendering);\n    };\n\n    this.observers.rendering = measureRendering;\n  }\n\n  /**\n   * Set up input monitoring\n   */\n  setupInputMonitoring() {\n    let inputEventCount = 0;\n    let lastInputTime = 0;\n\n    const measureInput = (event) => {\n      if (!this.isMonitoring) return;\n\n      const currentTime = performance.now();\n      const responseTime = currentTime - lastInputTime;\n\n      inputEventCount++;\n      this.updateInputMetrics(responseTime);\n\n      lastInputTime = currentTime;\n    };\n\n    // Listen for input events\n    document.addEventListener('keydown', measureInput);\n    document.addEventListener('mousedown', measureInput);\n    document.addEventListener('touchstart', measureInput);\n\n    this.observers.input = measureInput;\n  }\n\n  /**\n   * Set up network monitoring\n   */\n  setupNetworkMonitoring() {\n    const measureNetwork = () => {\n      if (!this.isMonitoring) return;\n\n      // Monitor network performance\n      this.updateNetworkMetrics();\n\n      // Continue monitoring\n      setTimeout(measureNetwork, 5000);\n    };\n\n    this.observers.network = measureNetwork;\n  }\n\n  /**\n   * Start monitoring\n   */\n  startMonitoring() {\n    if (this.isMonitoring) return;\n\n    this.isMonitoring = true;\n    this.lastReportTime = performance.now();\n\n    // Start FPS monitoring\n    if (this.observers.fps) {\n      requestAnimationFrame(this.observers.fps);\n    }\n\n    // Start other monitoring\n    if (this.observers.memory) {\n      this.observers.memory();\n    }\n    if (this.observers.audio) {\n      this.observers.audio();\n    }\n    if (this.observers.rendering) {\n      requestAnimationFrame(this.observers.rendering);\n    }\n    if (this.observers.network) {\n      this.observers.network();\n    }\n\n    this.logger.info('Performance monitoring started');\n  }\n\n  /**\n   * Stop monitoring\n   */\n  stopMonitoring() {\n    if (!this.isMonitoring) return;\n\n    this.isMonitoring = false;\n\n    this.logger.info('Performance monitoring stopped');\n  }\n\n  /**\n   * Disconnect observers\n   */\n  disconnectObservers() {\n    // Remove input event listeners\n    if (this.observers.input) {\n      document.removeEventListener('keydown', this.observers.input);\n      document.removeEventListener('mousedown', this.observers.input);\n      document.removeEventListener('touchstart', this.observers.input);\n    }\n  }\n\n  /**\n   * Update FPS metrics\n   */\n  updateFPSMetrics(fps, frameTime) {\n    this.metrics.fps.current = fps;\n    this.metrics.fps.history.push(fps);\n    this.metrics.fps.min = Math.min(this.metrics.fps.min, fps);\n    this.metrics.fps.max = Math.max(this.metrics.fps.max, fps);\n\n    // Calculate average FPS\n    if (this.metrics.fps.history.length > 0) {\n      this.metrics.fps.average = this.metrics.fps.history.reduce((a, b) => a + b, 0) / this.metrics.fps.history.length;\n    }\n\n    // Update frame time metrics\n    this.metrics.frameTime.current = frameTime;\n    this.metrics.frameTime.history.push(frameTime);\n    this.metrics.frameTime.min = Math.min(this.metrics.frameTime.min, frameTime);\n    this.metrics.frameTime.max = Math.max(this.metrics.frameTime.max, frameTime);\n\n    if (this.metrics.frameTime.history.length > 0) {\n      this.metrics.frameTime.average = this.metrics.frameTime.history.reduce((a, b) => a + b, 0) / this.metrics.frameTime.history.length;\n    }\n\n    // Check for dropped frames\n    if (frameTime > this.config.frameTimeCriticalThreshold) {\n      this.metrics.fps.droppedFrames++;\n    }\n\n    // Maintain history size\n    if (this.metrics.fps.history.length > this.config.maxHistorySize) {\n      this.metrics.fps.history.shift();\n      this.metrics.frameTime.history.shift();\n    }\n\n    // Check for performance issues\n    this.checkFPSPerformance();\n  }\n\n  /**\n   * Update memory metrics\n   */\n  updateMemoryMetrics(memory) {\n    this.metrics.memory.used = memory.usedJSHeapSize;\n    this.metrics.memory.total = memory.totalJSHeapSize;\n    this.metrics.memory.available = memory.jsHeapSizeLimit - memory.usedJSHeapSize;\n\n    this.metrics.memory.history.push({\n      used: memory.usedJSHeapSize,\n      total: memory.totalJSHeapSize,\n      timestamp: performance.now(),\n    });\n\n    // Maintain history size\n    if (this.metrics.memory.history.length > this.config.maxHistorySize) {\n      this.metrics.memory.history.shift();\n    }\n\n    // Check for memory issues\n    this.checkMemoryPerformance();\n  }\n\n  /**\n   * Update audio metrics\n   */\n  updateAudioMetrics(audioData) {\n    this.metrics.audio = { ...this.metrics.audio, ...audioData };\n\n    // Check for audio performance issues\n    this.checkAudioPerformance();\n  }\n\n  /**\n   * Update rendering metrics\n   */\n  updateRenderingMetrics() {\n    // This would be populated by the rendering system\n    // For now, we'll use placeholder values\n    this.metrics.rendering.drawCalls = 0;\n    this.metrics.rendering.triangles = 0;\n    this.metrics.rendering.textures = 0;\n    this.metrics.rendering.shaders = 0;\n  }\n\n  /**\n   * Update input metrics\n   */\n  updateInputMetrics(responseTime) {\n    this.metrics.input.eventCount++;\n    this.metrics.input.lag = responseTime;\n\n    // Calculate average response time\n    if (this.metrics.input.eventCount > 0) {\n      this.metrics.input.averageResponseTime = \n        (this.metrics.input.averageResponseTime * (this.metrics.input.eventCount - 1) + responseTime) / this.metrics.input.eventCount;\n    }\n\n    // Check for input performance issues\n    this.checkInputPerformance();\n  }\n\n  /**\n   * Update network metrics\n   */\n  updateNetworkMetrics() {\n    // This would integrate with network monitoring\n    // For now, we'll use placeholder values\n    this.metrics.network.latency = 0;\n    this.metrics.network.bandwidth = 0;\n    this.metrics.network.packetLoss = 0;\n    this.metrics.network.connectionQuality = 'good';\n  }\n\n  /**\n   * Check FPS performance\n   */\n  checkFPSPerformance() {\n    const fps = this.metrics.fps.current;\n    const frameTime = this.metrics.frameTime.current;\n\n    if (fps < this.config.fpsCriticalThreshold) {\n      this.addPerformanceAlert('critical', 'FPS critically low', { fps, threshold: this.config.fpsCriticalThreshold });\n      this.suggestOptimization('fps', 'Consider reducing graphics quality or disabling non-essential features');\n    } else if (fps < this.config.fpsWarningThreshold) {\n      this.addPerformanceAlert('warning', 'FPS below target', { fps, threshold: this.config.fpsWarningThreshold });\n    }\n\n    if (frameTime > this.config.frameTimeCriticalThreshold) {\n      this.addPerformanceAlert('critical', 'Frame time too high', { frameTime, threshold: this.config.frameTimeCriticalThreshold });\n    } else if (frameTime > this.config.frameTimeWarningThreshold) {\n      this.addPerformanceAlert('warning', 'Frame time above target', { frameTime, threshold: this.config.frameTimeWarningThreshold });\n    }\n  }\n\n  /**\n   * Check memory performance\n   */\n  checkMemoryPerformance() {\n    const used = this.metrics.memory.used;\n\n    if (used > this.config.memoryCriticalThreshold) {\n      this.addPerformanceAlert('critical', 'Memory usage critically high', { used, threshold: this.config.memoryCriticalThreshold });\n      this.suggestOptimization('memory', 'Consider reducing texture quality or clearing unused assets');\n    } else if (used > this.config.memoryWarningThreshold) {\n      this.addPerformanceAlert('warning', 'Memory usage high', { used, threshold: this.config.memoryWarningThreshold });\n    }\n  }\n\n  /**\n   * Check audio performance\n   */\n  checkAudioPerformance() {\n    if (this.metrics.audio.contextRecreations > 5) {\n      this.addPerformanceAlert('warning', 'Audio context recreated multiple times', { recreations: this.metrics.audio.contextRecreations });\n      this.suggestOptimization('audio', 'Consider implementing audio context pooling or lazy initialization');\n    }\n\n    if (this.metrics.audio.bufferUnderruns > 10) {\n      this.addPerformanceAlert('warning', 'Audio buffer underruns detected', { underruns: this.metrics.audio.bufferUnderruns });\n    }\n  }\n\n  /**\n   * Check input performance\n   */\n  checkInputPerformance() {\n    const lag = this.metrics.input.lag;\n\n    if (lag > 100) {\n      this.addPerformanceAlert('warning', 'Input lag detected', { lag });\n      this.suggestOptimization('input', 'Consider optimizing input handling or reducing input processing overhead');\n    }\n  }\n\n  /**\n   * Detect memory leaks\n   */\n  detectMemoryLeaks() {\n    const history = this.metrics.memory.history;\n    if (history.length < 10) return;\n\n    // Check if memory usage is consistently increasing\n    const recent = history.slice(-10);\n    const isIncreasing = recent.every((entry, index) => {\n      if (index === 0) return true;\n      return entry.used > recent[index - 1].used;\n    });\n\n    if (isIncreasing) {\n      this.metrics.memory.leakDetected = true;\n      this.metrics.memory.leakCount++;\n      this.addPerformanceAlert('warning', 'Potential memory leak detected', { leakCount: this.metrics.memory.leakCount });\n      this.suggestOptimization('memory', 'Check for circular references or unremoved event listeners');\n    }\n  }\n\n  /**\n   * Check audio context health\n   */\n  checkAudioContextHealth() {\n    // This would check the actual audio context state\n    // For now, we'll simulate the check\n    const contextState = 'running'; // This would be the actual context state\n\n    if (contextState !== this.metrics.audio.contextState) {\n      if (this.metrics.audio.contextState === 'suspended' && contextState === 'running') {\n        this.metrics.audio.contextRecreations++;\n        this.addPerformanceAlert('info', 'Audio context recreated', { recreations: this.metrics.audio.contextRecreations });\n      }\n      this.metrics.audio.contextState = contextState;\n    }\n  }\n\n  /**\n   * Add performance alert\n   */\n  addPerformanceAlert(level, message, data) {\n    const alert = {\n      level,\n      message,\n      data,\n      timestamp: performance.now(),\n    };\n\n    this.performanceAlerts.push(alert);\n\n    // Emit alert event\n    this.eventBus.emit('performance:alert', alert);\n\n    // Log alert\n    switch (level) {\n      case 'critical':\n        this.logger.error(`Performance Alert: ${message}`, data);\n        break;\n      case 'warning':\n        this.logger.warn(`Performance Alert: ${message}`, data);\n        break;\n      case 'info':\n        this.logger.info(`Performance Alert: ${message}`, data);\n        break;\n    }\n  }\n\n  /**\n   * Suggest optimization\n   */\n  suggestOptimization(category, suggestion) {\n    const optimization = {\n      category,\n      suggestion,\n      timestamp: performance.now(),\n    };\n\n    this.optimizationSuggestions.push(optimization);\n\n    // Emit optimization event\n    this.eventBus.emit('performance:optimization', optimization);\n\n    this.logger.info(`Performance Optimization: ${suggestion}`);\n  }\n\n  /**\n   * Get performance report\n   */\n  getPerformanceReport() {\n    return {\n      metrics: this.metrics,\n      alerts: this.performanceAlerts,\n      suggestions: this.optimizationSuggestions,\n      timestamp: performance.now(),\n    };\n  }\n\n  /**\n   * Get performance score\n   */\n  getPerformanceScore() {\n    let score = 100;\n\n    // FPS score\n    const fps = this.metrics.fps.current;\n    if (fps < this.config.fpsCriticalThreshold) {\n      score -= 40;\n    } else if (fps < this.config.fpsWarningThreshold) {\n      score -= 20;\n    }\n\n    // Memory score\n    const memoryUsage = this.metrics.memory.used / this.metrics.memory.total;\n    if (memoryUsage > 0.9) {\n      score -= 30;\n    } else if (memoryUsage > 0.7) {\n      score -= 15;\n    }\n\n    // Frame time score\n    const frameTime = this.metrics.frameTime.current;\n    if (frameTime > this.config.frameTimeCriticalThreshold) {\n      score -= 20;\n    } else if (frameTime > this.config.frameTimeWarningThreshold) {\n      score -= 10;\n    }\n\n    return Math.max(0, Math.min(100, score));\n  }\n\n  /**\n   * Handle game started\n   */\n  handleGameStarted(data) {\n    this.startMonitoring();\n  }\n\n  /**\n   * Handle game paused\n   */\n  handleGamePaused(data) {\n    // Continue monitoring but reduce frequency\n  }\n\n  /**\n   * Handle game resumed\n   */\n  handleGameResumed(data) {\n    // Resume normal monitoring\n  }\n\n  /**\n   * Handle game stopped\n   */\n  handleGameStopped(data) {\n    this.stopMonitoring();\n  }\n\n  /**\n   * Handle frame event\n   */\n  handleFrame(data) {\n    // This would be called by the rendering system\n  }\n\n  /**\n   * Handle memory update\n   */\n  handleMemoryUpdate(data) {\n    this.updateMemoryMetrics(data);\n  }\n\n  /**\n   * Handle audio update\n   */\n  handleAudioUpdate(data) {\n    this.updateAudioMetrics(data);\n  }\n\n  /**\n   * Handle rendering update\n   */\n  handleRenderingUpdate(data) {\n    this.metrics.rendering = { ...this.metrics.rendering, ...data };\n  }\n\n  /**\n   * Handle input update\n   */\n  handleInputUpdate(data) {\n    this.updateInputMetrics(data.responseTime);\n  }\n\n  /**\n   * Handle network update\n   */\n  handleNetworkUpdate(data) {\n    this.metrics.network = { ...this.metrics.network, ...data };\n  }\n\n  /**\n   * Update configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n  }\n\n  /**\n   * Get current metrics\n   */\n  getMetrics() {\n    return this.metrics;\n  }\n\n  /**\n   * Get alerts\n   */\n  getAlerts() {\n    return this.performanceAlerts;\n  }\n\n  /**\n   * Get optimization suggestions\n   */\n  getOptimizationSuggestions() {\n    return this.optimizationSuggestions;\n  }\n\n  /**\n   * Clear alerts\n   */\n  clearAlerts() {\n    this.performanceAlerts = [];\n  }\n\n  /**\n   * Clear optimization suggestions\n   */\n  clearOptimizationSuggestions() {\n    this.optimizationSuggestions = [];\n  }\n}\n\nexport default PerformanceMonitor;","/**\n * InputManager.js - Comprehensive input handling with accessibility support\n *\n * This manager handles:\n * - Keyboard input with accessibility support\n * - Mouse input and touch events\n * - Gamepad support\n * - Input mapping and customization\n * - Accessibility features (keyboard navigation, focus management)\n * - Input event normalization\n */\n\nexport class InputManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('InputManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('InputManager requires logger dependency');\n    }\n\n    // Input state\n    this.keys = new Map();\n    this.mouse = {\n      x: 0,\n      y: 0,\n      buttons: new Map(),\n      wheel: 0,\n    };\n    this.touch = {\n      touches: new Map(),\n      gestures: new Map(),\n      activeGestures: new Map(),\n      lastTapTime: 0,\n      lastTapPosition: { x: 0, y: 0 },\n      longPressTimer: null,\n      doubleTapTimer: null,\n    };\n\n    // Mobile UI state\n    this.mobileUI = {\n      virtualJoystick: {\n        active: false,\n        center: { x: 0, y: 0 },\n        position: { x: 0, y: 0 },\n        radius: 60,\n        touchId: null,\n      },\n      actionButtons: new Map(),\n      isVisible: false,\n      orientation: 'portrait',\n    };\n    this.gamepad = {\n      controllers: new Map(),\n      lastUpdate: 0,\n    };\n\n    // Input mapping\n    this.keyMappings = new Map();\n    this.mouseMappings = new Map();\n    this.gamepadMappings = new Map();\n    this.touchMappings = new Map();\n\n    // Accessibility features\n    this.accessibility = {\n      keyboardNavigation: false,\n      focusManagement: true,\n      tabOrder: [],\n      currentFocusIndex: 0,\n      focusableElements: new Set(),\n      skipLinks: new Map(),\n    };\n\n    // Input configuration\n    this.settings = {\n      mouseSensitivity: 1.0,\n      keyboardLayout: 'qwerty',\n      enableMouseLook: true,\n      enableKeyboardNavigation: true,\n      enableGamepad: true,\n      enableTouch: true,\n      invertY: false,\n      deadzone: 0.1,\n      repeatDelay: 500,\n      repeatRate: 50,\n      // Mobile-specific settings\n      mobileControls: {\n        enabled: true,\n        layout: 'default', // 'default', 'compact', 'custom'\n        size: 'medium', // 'small', 'medium', 'large'\n        opacity: 0.8,\n        position: 'bottom', // 'bottom', 'top', 'left', 'right', 'custom'\n        showLabels: true,\n        hapticFeedback: true,\n        gestureSensitivity: 1.0,\n        touchDeadzone: 0.05,\n        multiTouch: true,\n        pinchToZoom: true,\n        swipeThreshold: 50,\n        longPressDelay: 500,\n        doubleTapDelay: 300,\n      },\n      // Touch gesture settings\n      gestures: {\n        enableSwipe: true,\n        enablePinch: true,\n        enableRotate: true,\n        enableLongPress: true,\n        enableDoubleTap: true,\n        swipeDirections: ['up', 'down', 'left', 'right'],\n        pinchThreshold: 0.1,\n        rotateThreshold: 5, // degrees\n      },\n      // Mobile UI controls\n      mobileUI: {\n        showVirtualJoystick: true,\n        showActionButtons: true,\n        showMenuButton: true,\n        showPauseButton: true,\n        buttonSpacing: 10,\n        buttonSize: 60,\n        joystickSize: 120,\n        joystickDeadzone: 0.1,\n        buttonOpacity: 0.8,\n        buttonPressScale: 0.9,\n        enableButtonHaptics: true,\n      },\n    };\n\n    // Event handling\n    this.boundHandlers = new Map();\n    this.isEnabled = true;\n    this.isCaptured = false;\n\n    // Initialize input system\n    this.initializeInputMappings();\n    this.setupEventHandlers();\n    this.setupAccessibility();\n    this.setupMobileControls();\n\n    this.logger.info('InputManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing InputManager...');\n\n    // Load input settings from config\n    if (this.config) {\n      this.loadSettingsFromConfig();\n    }\n\n    // Set up focus management\n    this.setupFocusManagement();\n\n    this.logger.info('InputManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up InputManager...');\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    // Clear state\n    this.keys.clear();\n    this.mouse.buttons.clear();\n    this.touch.touches.clear();\n    this.gamepad.controllers.clear();\n\n    this.logger.info('InputManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime) {\n    if (!this.isEnabled) return;\n\n    // Update gamepad state\n    this.updateGamepadState();\n\n    // Update accessibility features\n    this.updateAccessibilityFeatures();\n\n    // Process input events\n    this.processInputEvents();\n  }\n\n  /**\n   * Initialize input mappings\n   */\n  initializeInputMappings() {\n    // Keyboard mappings\n    this.keyMappings.set('moveUp', ['KeyW', 'ArrowUp']);\n    this.keyMappings.set('moveDown', ['KeyS', 'ArrowDown']);\n    this.keyMappings.set('moveLeft', ['KeyA', 'ArrowLeft']);\n    this.keyMappings.set('moveRight', ['KeyD', 'ArrowRight']);\n    this.keyMappings.set('jump', ['Space']);\n    this.keyMappings.set('crouch', ['KeyC', 'ShiftLeft']);\n    this.keyMappings.set('run', ['ShiftLeft']);\n    this.keyMappings.set('interact', ['KeyE', 'Enter']);\n    this.keyMappings.set('pause', ['Escape', 'KeyP']);\n    this.keyMappings.set('inventory', ['KeyI', 'Tab']);\n    this.keyMappings.set('menu', ['Escape', 'KeyM']);\n    this.keyMappings.set('confirm', ['Enter', 'Space']);\n    this.keyMappings.set('cancel', ['Escape', 'Backspace']);\n    this.keyMappings.set('next', ['Tab', 'ArrowDown']);\n    this.keyMappings.set('previous', ['ShiftLeft+Tab', 'ArrowUp']);\n\n    // Mouse mappings\n    this.mouseMappings.set('leftClick', 0);\n    this.mouseMappings.set('rightClick', 2);\n    this.mouseMappings.set('middleClick', 1);\n    this.mouseMappings.set('scrollUp', 'wheelUp');\n    this.mouseMappings.set('scrollDown', 'wheelDown');\n\n    // Gamepad mappings\n    this.gamepadMappings.set('moveUp', 'dpadUp');\n    this.gamepadMappings.set('moveDown', 'dpadDown');\n    this.gamepadMappings.set('moveLeft', 'dpadLeft');\n    this.gamepadMappings.set('moveRight', 'dpadRight');\n    this.gamepadMappings.set('jump', 'buttonA');\n    this.gamepadMappings.set('interact', 'buttonX');\n    this.gamepadMappings.set('pause', 'buttonStart');\n    this.gamepadMappings.set('menu', 'buttonSelect');\n    this.gamepadMappings.set('confirm', 'buttonA');\n    this.gamepadMappings.set('cancel', 'buttonB');\n\n    // Touch mappings\n    this.touchMappings.set('tap', 'tap');\n    this.touchMappings.set('doubleTap', 'doubleTap');\n    this.touchMappings.set('longPress', 'longPress');\n    this.touchMappings.set('swipe', 'swipe');\n    this.touchMappings.set('pinch', 'pinch');\n    this.touchMappings.set('rotate', 'rotate');\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Keyboard events\n    this.boundHandlers.set('keydown', this.handleKeyDown.bind(this));\n    this.boundHandlers.set('keyup', this.handleKeyUp.bind(this));\n    this.boundHandlers.set('keypress', this.handleKeyPress.bind(this));\n\n    // Mouse events\n    this.boundHandlers.set('mousedown', this.handleMouseDown.bind(this));\n    this.boundHandlers.set('mouseup', this.handleMouseUp.bind(this));\n    this.boundHandlers.set('mousemove', this.handleMouseMove.bind(this));\n    this.boundHandlers.set('wheel', this.handleWheel.bind(this));\n    this.boundHandlers.set('contextmenu', this.handleContextMenu.bind(this));\n\n    // Touch events\n    this.boundHandlers.set('touchstart', this.handleTouchStart.bind(this));\n    this.boundHandlers.set('touchend', this.handleTouchEnd.bind(this));\n    this.boundHandlers.set('touchmove', this.handleTouchMove.bind(this));\n    this.boundHandlers.set('touchcancel', this.handleTouchCancel.bind(this));\n\n    // Gamepad events\n    this.boundHandlers.set(\n      'gamepadconnected',\n      this.handleGamepadConnected.bind(this)\n    );\n    this.boundHandlers.set(\n      'gamepaddisconnected',\n      this.handleGamepadDisconnected.bind(this)\n    );\n\n    // Focus events\n    this.boundHandlers.set('focusin', this.handleFocusIn.bind(this));\n    this.boundHandlers.set('focusout', this.handleFocusOut.bind(this));\n\n    // Add event listeners\n    this.addEventListeners();\n  }\n\n  /**\n   * Add event listeners\n   */\n  addEventListeners() {\n    for (const [event, handler] of this.boundHandlers) {\n      document.addEventListener(event, handler, { passive: false });\n    }\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    for (const [event, handler] of this.boundHandlers) {\n      document.removeEventListener(event, handler);\n    }\n    this.boundHandlers.clear();\n  }\n\n  /**\n   * Set up accessibility features\n   */\n  setupAccessibility() {\n    // Set up keyboard navigation\n    if (this.settings.enableKeyboardNavigation) {\n      this.accessibility.keyboardNavigation = true;\n    }\n\n    // Set up focus management\n    this.setupFocusManagement();\n  }\n\n  /**\n   * Set up focus management\n   */\n  setupFocusManagement() {\n    // Find all focusable elements\n    this.updateFocusableElements();\n\n    // Set up tab order\n    this.updateTabOrder();\n\n    // Set up skip links\n    this.setupSkipLinks();\n  }\n\n  /**\n   * Update focusable elements\n   */\n  updateFocusableElements() {\n    this.accessibility.focusableElements.clear();\n\n    const focusableSelectors = [\n      'button:not([disabled])',\n      'input:not([disabled])',\n      'select:not([disabled])',\n      'textarea:not([disabled])',\n      'a[href]',\n      '[tabindex]:not([tabindex=\"-1\"])',\n      '[role=\"button\"]:not([disabled])',\n      '[role=\"link\"]',\n      '[role=\"menuitem\"]',\n      '[role=\"tab\"]',\n      '[role=\"option\"]',\n    ];\n\n    const elements = document.querySelectorAll(focusableSelectors.join(', '));\n    elements.forEach((element) => {\n      this.accessibility.focusableElements.add(element);\n    });\n  }\n\n  /**\n   * Update tab order\n   */\n  updateTabOrder() {\n    this.accessibility.tabOrder = Array.from(\n      this.accessibility.focusableElements\n    ).sort((a, b) => {\n      const aTabIndex = parseInt(a.getAttribute('tabindex') || '0');\n      const bTabIndex = parseInt(b.getAttribute('tabindex') || '0');\n      return aTabIndex - bTabIndex;\n    });\n  }\n\n  /**\n   * Set up skip links\n   */\n  setupSkipLinks() {\n    // Create skip links for accessibility\n    const skipLinks = [\n      { id: 'skip-main', text: 'Skip to main content', target: 'main' },\n      { id: 'skip-nav', text: 'Skip to navigation', target: 'nav' },\n      { id: 'skip-content', text: 'Skip to content', target: 'content' },\n    ];\n\n    skipLinks.forEach((link) => {\n      this.accessibility.skipLinks.set(link.id, link);\n    });\n  }\n\n  /**\n   * Set up mobile controls\n   */\n  setupMobileControls() {\n    if (!this.settings.enableTouch || !this.settings.mobileControls.enabled) {\n      return;\n    }\n\n    // Skip mobile controls setup in test environments\n    if (typeof window !== 'undefined' && window.navigator && window.navigator.userAgent.includes('jsdom')) {\n      this.logger.info('Skipping mobile controls setup in test environment');\n      return;\n    }\n\n    // Detect mobile device\n    this.detectMobileDevice();\n\n    // Create mobile UI elements\n    this.createMobileUI();\n\n    // Set up orientation handling\n    this.setupOrientationHandling();\n\n    // Set up gesture recognition\n    this.setupGestureRecognition();\n\n    this.logger.info('Mobile controls initialized');\n  }\n\n  /**\n   * Detect mobile device\n   */\n  detectMobileDevice() {\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    \n    this.isMobile = isMobile || isTouch;\n    \n    if (this.isMobile) {\n      this.logger.info('Mobile device detected');\n    }\n  }\n\n  /**\n   * Create mobile UI elements\n   */\n  createMobileUI() {\n    if (!this.isMobile) return;\n\n    // Create mobile controls container\n    this.mobileControlsContainer = document.createElement('div');\n    this.mobileControlsContainer.id = 'mobile-controls';\n    this.mobileControlsContainer.className = 'mobile-controls';\n    this.mobileControlsContainer.style.cssText = `\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      height: 200px;\n      pointer-events: none;\n      z-index: 1000;\n      display: ${this.settings.mobileControls.enabled ? 'block' : 'none'};\n    `;\n    \n    // Ensure the element is properly initialized\n    if (!this.mobileControlsContainer.nodeType) {\n      this.mobileControlsContainer = null;\n      return;\n    }\n\n    // Create virtual joystick\n    if (this.settings.mobileUI.showVirtualJoystick) {\n      this.createVirtualJoystick();\n    }\n\n    // Create action buttons\n    if (this.settings.mobileUI.showActionButtons) {\n      this.createActionButtons();\n    }\n\n    // Create menu button\n    if (this.settings.mobileUI.showMenuButton) {\n      this.createMenuButton();\n    }\n\n    // Create pause button\n    if (this.settings.mobileUI.showPauseButton) {\n      this.createPauseButton();\n    }\n\n    if (document.body) {\n      document.body.appendChild(this.mobileControlsContainer);\n    }\n  }\n\n  /**\n   * Create virtual joystick\n   */\n  createVirtualJoystick() {\n    const joystickContainer = document.createElement('div');\n    joystickContainer.className = 'virtual-joystick';\n    joystickContainer.style.cssText = `\n      position: absolute;\n      left: 20px;\n      bottom: 20px;\n      width: ${this.settings.mobileUI.joystickSize}px;\n      height: ${this.settings.mobileUI.joystickSize}px;\n      pointer-events: auto;\n    `;\n\n    const joystickBase = document.createElement('div');\n    joystickBase.className = 'joystick-base';\n    joystickBase.style.cssText = `\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n      border: 2px solid rgba(0, 0, 0, 0.3);\n      position: relative;\n    `;\n\n    const joystickKnob = document.createElement('div');\n    joystickKnob.className = 'joystick-knob';\n    joystickKnob.style.cssText = `\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      background: rgba(0, 0, 0, 0.5);\n      transform: translate(-50%, -50%);\n      transition: transform 0.1s ease;\n    `;\n\n    joystickBase.appendChild(joystickKnob);\n    joystickContainer.appendChild(joystickBase);\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(joystickContainer);\n    }\n\n    // Store references\n    this.mobileUI.virtualJoystick.element = joystickContainer;\n    this.mobileUI.virtualJoystick.base = joystickBase;\n    this.mobileUI.virtualJoystick.knob = joystickKnob;\n    this.mobileUI.virtualJoystick.center = {\n      x: this.settings.mobileUI.joystickSize / 2,\n      y: this.settings.mobileUI.joystickSize / 2,\n    };\n  }\n\n  /**\n   * Create action buttons\n   */\n  createActionButtons() {\n    const buttonContainer = document.createElement('div');\n    buttonContainer.className = 'action-buttons';\n    buttonContainer.style.cssText = `\n      position: absolute;\n      right: 20px;\n      bottom: 20px;\n      display: flex;\n      flex-direction: column;\n      gap: ${this.settings.mobileUI.buttonSpacing}px;\n      pointer-events: auto;\n    `;\n\n    const buttons = [\n      { id: 'jump', label: 'Jump', key: 'Space' },\n      { id: 'interact', label: 'Interact', key: 'KeyE' },\n      { id: 'crouch', label: 'Crouch', key: 'KeyC' },\n      { id: 'run', label: 'Run', key: 'ShiftLeft' },\n    ];\n\n    buttons.forEach((button) => {\n      const buttonElement = document.createElement('button');\n      buttonElement.className = `action-button ${button.id}`;\n      buttonElement.textContent = this.settings.mobileControls.showLabels ? button.label : '';\n      buttonElement.style.cssText = `\n        width: ${this.settings.mobileUI.buttonSize}px;\n        height: ${this.settings.mobileUI.buttonSize}px;\n        border-radius: 50%;\n        background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n        border: 2px solid rgba(0, 0, 0, 0.3);\n        color: #000;\n        font-size: 12px;\n        font-weight: bold;\n        cursor: pointer;\n        user-select: none;\n        transition: transform 0.1s ease;\n      `;\n\n      // Add touch event handlers\n      buttonElement.addEventListener('touchstart', (e) => {\n        e.preventDefault();\n        this.handleMobileButtonPress(button.id, button.key, 'down');\n        buttonElement.style.transform = `scale(${this.settings.mobileUI.buttonPressScale})`;\n      });\n\n      buttonElement.addEventListener('touchend', (e) => {\n        e.preventDefault();\n        this.handleMobileButtonPress(button.id, button.key, 'up');\n        buttonElement.style.transform = 'scale(1)';\n      });\n\n      buttonContainer.appendChild(buttonElement);\n      this.mobileUI.actionButtons.set(button.id, buttonElement);\n    });\n\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(buttonContainer);\n    }\n  }\n\n  /**\n   * Create menu button\n   */\n  createMenuButton() {\n    const menuButton = document.createElement('button');\n    menuButton.className = 'menu-button';\n    menuButton.innerHTML = '';\n    menuButton.style.cssText = `\n      position: absolute;\n      top: 20px;\n      right: 20px;\n      width: ${this.settings.mobileUI.buttonSize}px;\n      height: ${this.settings.mobileUI.buttonSize}px;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n      border: 2px solid rgba(0, 0, 0, 0.3);\n      color: #000;\n      font-size: 20px;\n      cursor: pointer;\n      pointer-events: auto;\n      user-select: none;\n    `;\n\n    menuButton.addEventListener('touchstart', (e) => {\n      e.preventDefault();\n      this.handleMobileButtonPress('menu', 'KeyM', 'down');\n    });\n\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(menuButton);\n    }\n  }\n\n  /**\n   * Create pause button\n   */\n  createPauseButton() {\n    const pauseButton = document.createElement('button');\n    pauseButton.className = 'pause-button';\n    pauseButton.innerHTML = '';\n    pauseButton.style.cssText = `\n      position: absolute;\n      top: 20px;\n      left: 20px;\n      width: ${this.settings.mobileUI.buttonSize}px;\n      height: ${this.settings.mobileUI.buttonSize}px;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n      border: 2px solid rgba(0, 0, 0, 0.3);\n      color: #000;\n      font-size: 20px;\n      cursor: pointer;\n      pointer-events: auto;\n      user-select: none;\n    `;\n\n    pauseButton.addEventListener('touchstart', (e) => {\n      e.preventDefault();\n      this.handleMobileButtonPress('pause', 'Escape', 'down');\n    });\n\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(pauseButton);\n    }\n  }\n\n  /**\n   * Set up orientation handling\n   */\n  setupOrientationHandling() {\n    const updateOrientation = () => {\n      const isPortrait = window.innerHeight > window.innerWidth;\n      this.mobileUI.orientation = isPortrait ? 'portrait' : 'landscape';\n      \n      // Adjust mobile controls for orientation\n      this.adjustMobileControlsForOrientation();\n    };\n\n    window.addEventListener('orientationchange', updateOrientation);\n    window.addEventListener('resize', updateOrientation);\n    updateOrientation();\n  }\n\n  /**\n   * Adjust mobile controls for orientation\n   */\n  adjustMobileControlsForOrientation() {\n    if (!this.mobileControlsContainer) return;\n\n    if (this.mobileUI.orientation === 'landscape') {\n      // Adjust for landscape mode\n      this.mobileControlsContainer.style.height = '150px';\n    } else {\n      // Adjust for portrait mode\n      this.mobileControlsContainer.style.height = '200px';\n    }\n  }\n\n  /**\n   * Set up gesture recognition\n   */\n  setupGestureRecognition() {\n    if (!this.settings.gestures.enableSwipe && \n        !this.settings.gestures.enablePinch && \n        !this.settings.gestures.enableRotate) {\n      return;\n    }\n\n    // This would integrate with a gesture recognition library\n    // For now, we'll implement basic gesture detection\n    this.setupBasicGestureDetection();\n  }\n\n  /**\n   * Set up basic gesture detection\n   */\n  setupBasicGestureDetection() {\n    let startTouches = [];\n    let startDistance = 0;\n    let startAngle = 0;\n\n    const handleTouchStart = (e) => {\n      startTouches = Array.from(e.touches);\n      if (startTouches.length === 2) {\n        startDistance = this.getDistance(startTouches[0], startTouches[1]);\n        startAngle = this.getAngle(startTouches[0], startTouches[1]);\n      }\n    };\n\n    const handleTouchMove = (e) => {\n      if (e.touches.length === 2 && this.settings.gestures.enablePinch) {\n        const currentDistance = this.getDistance(e.touches[0], e.touches[1]);\n        const scale = currentDistance / startDistance;\n        \n        if (Math.abs(scale - 1) > this.settings.gestures.pinchThreshold) {\n          this.handlePinchGesture(scale);\n        }\n      }\n\n      if (e.touches.length === 2 && this.settings.gestures.enableRotate) {\n        const currentAngle = this.getAngle(e.touches[0], e.touches[1]);\n        const rotation = currentAngle - startAngle;\n        \n        if (Math.abs(rotation) > this.settings.gestures.rotateThreshold) {\n          this.handleRotateGesture(rotation);\n        }\n      }\n    };\n\n    const handleTouchEnd = (e) => {\n      if (e.touches.length === 0 && startTouches.length === 1) {\n        // Single touch ended - check for swipe\n        this.checkForSwipe(startTouches[0], e.changedTouches[0]);\n      }\n    };\n\n    document.addEventListener('touchstart', handleTouchStart, { passive: true });\n    document.addEventListener('touchmove', handleTouchMove, { passive: true });\n    document.addEventListener('touchend', handleTouchEnd, { passive: true });\n  }\n\n  /**\n   * Handle keyboard down events\n   */\n  handleKeyDown(event) {\n    if (!this.isEnabled) return;\n\n    const key = event.code;\n    const keyName = this.getKeyName(key);\n\n    // Update key state\n    this.keys.set(key, {\n      pressed: true,\n      timestamp: Date.now(),\n      repeat: this.keys.has(key),\n    });\n\n    // Handle accessibility features\n    if (this.accessibility.keyboardNavigation) {\n      this.handleAccessibilityKeyDown(event);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:keyDown', {\n      key,\n      keyName,\n      code: event.code,\n      keyCode: event.keyCode,\n      repeat: this.keys.get(key).repeat,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('keyboard', key, 'down', event);\n  }\n\n  /**\n   * Handle keyboard up events\n   */\n  handleKeyUp(event) {\n    if (!this.isEnabled) return;\n\n    const key = event.code;\n    const keyName = this.getKeyName(key);\n\n    // Update key state\n    this.keys.set(key, {\n      pressed: false,\n      timestamp: Date.now(),\n      repeat: false,\n    });\n\n    // Emit input event\n    this.eventBus.emit('input:keyUp', {\n      key,\n      keyName,\n      code: event.code,\n      keyCode: event.keyCode,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('keyboard', key, 'up', event);\n  }\n\n  /**\n   * Handle keyboard press events\n   */\n  handleKeyPress(event) {\n    if (!this.isEnabled) return;\n\n    const key = event.key;\n    const charCode = event.charCode;\n\n    // Emit input event\n    this.eventBus.emit('input:keyPress', {\n      key,\n      charCode,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle mouse down events\n   */\n  handleMouseDown(event) {\n    if (!this.isEnabled) return;\n\n    const button = event.button;\n    const buttonName = this.getMouseButtonName(button);\n\n    // Update mouse state\n    this.mouse.buttons.set(button, {\n      pressed: true,\n      timestamp: Date.now(),\n    });\n\n    // Update mouse position\n    this.mouse.x = event.clientX;\n    this.mouse.y = event.clientY;\n\n    // Emit input event\n    this.eventBus.emit('input:mouseDown', {\n      button,\n      buttonName,\n      x: event.clientX,\n      y: event.clientY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('mouse', button, 'down', event);\n  }\n\n  /**\n   * Handle mouse up events\n   */\n  handleMouseUp(event) {\n    if (!this.isEnabled) return;\n\n    const button = event.button;\n    const buttonName = this.getMouseButtonName(button);\n\n    // Update mouse state\n    this.mouse.buttons.set(button, {\n      pressed: false,\n      timestamp: Date.now(),\n    });\n\n    // Update mouse position\n    this.mouse.x = event.clientX;\n    this.mouse.y = event.clientY;\n\n    // Emit input event\n    this.eventBus.emit('input:mouseUp', {\n      button,\n      buttonName,\n      x: event.clientX,\n      y: event.clientY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('mouse', button, 'up', event);\n  }\n\n  /**\n   * Handle mouse move events\n   */\n  handleMouseMove(event) {\n    if (!this.isEnabled) return;\n\n    // Update mouse position\n    const deltaX = event.clientX - this.mouse.x;\n    const deltaY = event.clientY - this.mouse.y;\n\n    this.mouse.x = event.clientX;\n    this.mouse.y = event.clientY;\n\n    // Apply sensitivity\n    const sensitivity = this.settings.mouseSensitivity;\n    const adjustedDeltaX = deltaX * sensitivity;\n    const adjustedDeltaY = this.settings.invertY\n      ? -deltaY * sensitivity\n      : deltaY * sensitivity;\n\n    // Emit input event\n    this.eventBus.emit('input:mouseMove', {\n      x: event.clientX,\n      y: event.clientY,\n      deltaX: adjustedDeltaX,\n      deltaY: adjustedDeltaY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle wheel events\n   */\n  handleWheel(event) {\n    if (!this.isEnabled) return;\n\n    const deltaY = event.deltaY;\n    const direction = deltaY > 0 ? 'down' : 'up';\n\n    this.mouse.wheel = deltaY;\n\n    // Emit input event\n    this.eventBus.emit('input:wheel', {\n      deltaY,\n      direction,\n      x: event.clientX,\n      y: event.clientY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('mouse', direction, 'wheel', event);\n  }\n\n  /**\n   * Handle context menu events\n   */\n  handleContextMenu(event) {\n    if (!this.isEnabled) return;\n\n    // Prevent context menu if needed\n    if (this.isCaptured) {\n      event.preventDefault();\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:contextMenu', {\n      x: event.clientX,\n      y: event.clientY,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch start events\n   */\n  handleTouchStart(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Prevent default to avoid mouse events\n    event.preventDefault();\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      this.touch.touches.set(touch.identifier, {\n        x: touch.clientX,\n        y: touch.clientY,\n        startX: touch.clientX,\n        startY: touch.clientY,\n        startTime: Date.now(),\n        pressure: touch.force || 1.0,\n      });\n\n      // Handle mobile-specific touch events\n      if (this.isMobile) {\n        this.handleMobileTouchStart(touch, event);\n      }\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchStart', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n        pressure: touch.force || 1.0,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch end events\n   */\n  handleTouchEnd(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Prevent default\n    event.preventDefault();\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      // Handle mobile-specific touch events\n      if (this.isMobile) {\n        this.handleMobileTouchEnd(touch, event);\n      }\n\n      this.touch.touches.delete(touch.identifier);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchEnd', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch move events\n   */\n  handleTouchMove(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Prevent default to avoid scrolling\n    event.preventDefault();\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      if (this.touch.touches.has(touch.identifier)) {\n        const touchData = this.touch.touches.get(touch.identifier);\n        touchData.x = touch.clientX;\n        touchData.y = touch.clientY;\n\n        // Handle mobile-specific touch events\n        if (this.isMobile) {\n          this.handleMobileTouchMove(touch, event);\n        }\n      }\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchMove', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n        pressure: touch.force || 1.0,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch cancel events\n   */\n  handleTouchCancel(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      this.touch.touches.delete(touch.identifier);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchCancel', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle gamepad connected events\n   */\n  handleGamepadConnected(event) {\n    if (!this.settings.enableGamepad) return;\n\n    const gamepad = event.gamepad;\n    this.gamepad.controllers.set(gamepad.index, {\n      id: gamepad.id,\n      index: gamepad.index,\n      connected: true,\n      buttons: new Map(),\n      axes: new Map(),\n    });\n\n    this.logger.info(`Gamepad connected: ${gamepad.id}`);\n\n    // Emit input event\n    this.eventBus.emit('input:gamepadConnected', {\n      id: gamepad.id,\n      index: gamepad.index,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle gamepad disconnected events\n   */\n  handleGamepadDisconnected(event) {\n    const gamepad = event.gamepad;\n    this.gamepad.controllers.delete(gamepad.index);\n\n    this.logger.info(`Gamepad disconnected: ${gamepad.id}`);\n\n    // Emit input event\n    this.eventBus.emit('input:gamepadDisconnected', {\n      id: gamepad.id,\n      index: gamepad.index,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle focus in events\n   */\n  handleFocusIn(event) {\n    if (!this.accessibility.focusManagement) return;\n\n    const element = event.target;\n    const index = this.accessibility.tabOrder.indexOf(element);\n\n    if (index !== -1) {\n      this.accessibility.currentFocusIndex = index;\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:focusIn', {\n      element,\n      index,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle focus out events\n   */\n  handleFocusOut(event) {\n    if (!this.accessibility.focusManagement) return;\n\n    const element = event.target;\n\n    // Emit input event\n    this.eventBus.emit('input:focusOut', {\n      element,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle accessibility key down events\n   */\n  handleAccessibilityKeyDown(event) {\n    const key = event.key;\n\n    switch (key) {\n      case 'Tab':\n        this.handleTabNavigation(event);\n        break;\n      case 'Enter':\n      case ' ':\n        this.handleActivation(event);\n        break;\n      case 'Escape':\n        this.handleEscape(event);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        this.handleArrowNavigation(event);\n        break;\n    }\n  }\n\n  /**\n   * Handle tab navigation\n   */\n  handleTabNavigation(event) {\n    if (this.accessibility.tabOrder.length === 0) return;\n\n    const direction = event.shiftKey ? -1 : 1;\n    const newIndex =\n      (this.accessibility.currentFocusIndex +\n        direction +\n        this.accessibility.tabOrder.length) %\n      this.accessibility.tabOrder.length;\n\n    const nextElement = this.accessibility.tabOrder[newIndex];\n    if (nextElement) {\n      nextElement.focus();\n      this.accessibility.currentFocusIndex = newIndex;\n    }\n  }\n\n  /**\n   * Handle activation\n   */\n  handleActivation(event) {\n    const element = document.activeElement;\n    if (element && element.click) {\n      element.click();\n    }\n  }\n\n  /**\n   * Handle escape key\n   */\n  handleEscape(event) {\n    // Emit escape event for game to handle\n    this.eventBus.emit('input:escape', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle arrow navigation\n   */\n  handleArrowNavigation(event) {\n    // Emit arrow navigation event\n    this.eventBus.emit('input:arrowNavigation', {\n      direction: event.key.replace('Arrow', '').toLowerCase(),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Update gamepad state\n   */\n  updateGamepadState() {\n    if (!this.settings.enableGamepad) return;\n\n    const gamepads = navigator.getGamepads();\n\n    for (let i = 0; i < gamepads.length; i++) {\n      const gamepad = gamepads[i];\n      if (!gamepad) continue;\n\n      const controller = this.gamepad.controllers.get(i);\n      if (!controller) continue;\n\n      // Update button states\n      for (let j = 0; j < gamepad.buttons.length; j++) {\n        const button = gamepad.buttons[j];\n        const wasPressed = controller.buttons.get(j)?.pressed || false;\n        const isPressed = button.pressed;\n\n        if (isPressed !== wasPressed) {\n          controller.buttons.set(j, {\n            pressed: isPressed,\n            value: button.value,\n            timestamp: Date.now(),\n          });\n\n          // Emit button event\n          this.eventBus.emit('input:gamepadButton', {\n            controller: i,\n            button: j,\n            pressed: isPressed,\n            value: button.value,\n            timestamp: Date.now(),\n          });\n        }\n      }\n\n      // Update axis states\n      for (let j = 0; j < gamepad.axes.length; j++) {\n        const axis = gamepad.axes[j];\n        const previousAxis = controller.axes.get(j) || 0;\n\n        // Apply deadzone\n        const deadzone = this.settings.deadzone;\n        const adjustedAxis = Math.abs(axis) < deadzone ? 0 : axis;\n\n        if (Math.abs(adjustedAxis - previousAxis) > 0.01) {\n          controller.axes.set(j, adjustedAxis);\n\n          // Emit axis event\n          this.eventBus.emit('input:gamepadAxis', {\n            controller: i,\n            axis: j,\n            value: adjustedAxis,\n            timestamp: Date.now(),\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Update accessibility features\n   */\n  updateAccessibilityFeatures() {\n    // Update focusable elements if DOM has changed\n    this.updateFocusableElements();\n    this.updateTabOrder();\n  }\n\n  /**\n   * Process input events\n   */\n  processInputEvents() {\n    // Process any queued input events\n    // This could include input buffering, input prediction, etc.\n  }\n\n  /**\n   * Handle mapped actions\n   */\n  handleMappedAction(inputType, input, action, event) {\n    let mapping;\n\n    switch (inputType) {\n      case 'keyboard':\n        mapping = this.keyMappings;\n        break;\n      case 'mouse':\n        mapping = this.mouseMappings;\n        break;\n      case 'gamepad':\n        mapping = this.gamepadMappings;\n        break;\n      case 'touch':\n        mapping = this.touchMappings;\n        break;\n      default:\n        return;\n    }\n\n    // Find mapped action\n    for (const [actionName, inputs] of mapping) {\n      if (inputs.includes(input)) {\n        this.eventBus.emit('input:action', {\n          action: actionName,\n          inputType,\n          input,\n          state: action,\n          event,\n          timestamp: Date.now(),\n        });\n      }\n    }\n  }\n\n  /**\n   * Get key name from key code\n   */\n  getKeyName(keyCode) {\n    const keyNames = {\n      KeyA: 'A',\n      KeyB: 'B',\n      KeyC: 'C',\n      KeyD: 'D',\n      KeyE: 'E',\n      KeyF: 'F',\n      KeyG: 'G',\n      KeyH: 'H',\n      KeyI: 'I',\n      KeyJ: 'J',\n      KeyK: 'K',\n      KeyL: 'L',\n      KeyM: 'M',\n      KeyN: 'N',\n      KeyO: 'O',\n      KeyP: 'P',\n      KeyQ: 'Q',\n      KeyR: 'R',\n      KeyS: 'S',\n      KeyT: 'T',\n      KeyU: 'U',\n      KeyV: 'V',\n      KeyW: 'W',\n      KeyX: 'X',\n      KeyY: 'Y',\n      KeyZ: 'Z',\n      Digit0: '0',\n      Digit1: '1',\n      Digit2: '2',\n      Digit3: '3',\n      Digit4: '4',\n      Digit5: '5',\n      Digit6: '6',\n      Digit7: '7',\n      Digit8: '8',\n      Digit9: '9',\n      Space: 'Space',\n      Enter: 'Enter',\n      Escape: 'Escape',\n      Backspace: 'Backspace',\n      Tab: 'Tab',\n      ShiftLeft: 'Left Shift',\n      ShiftRight: 'Right Shift',\n      ControlLeft: 'Left Ctrl',\n      ControlRight: 'Right Ctrl',\n      AltLeft: 'Left Alt',\n      AltRight: 'Right Alt',\n      ArrowUp: 'Up Arrow',\n      ArrowDown: 'Down Arrow',\n      ArrowLeft: 'Left Arrow',\n      ArrowRight: 'Right Arrow',\n    };\n\n    return keyNames[keyCode] || keyCode;\n  }\n\n  /**\n   * Get mouse button name\n   */\n  getMouseButtonName(button) {\n    const buttonNames = {\n      0: 'Left',\n      1: 'Middle',\n      2: 'Right',\n      3: 'Back',\n      4: 'Forward',\n    };\n\n    return buttonNames[button] || `Button ${button}`;\n  }\n\n  /**\n   * Load settings from config\n   */\n  loadSettingsFromConfig() {\n    if (!this.config) return;\n\n    this.settings = {\n      ...this.settings,\n      mouseSensitivity:\n        this.config.getConfigValue('input.mouseSensitivity') ||\n        this.settings.mouseSensitivity,\n      keyboardLayout:\n        this.config.getConfigValue('input.keyboardLayout') ||\n        this.settings.keyboardLayout,\n      enableMouseLook:\n        this.config.getConfigValue('input.enableMouseLook') ??\n        this.settings.enableMouseLook,\n      enableKeyboardNavigation:\n        this.config.getConfigValue('input.enableKeyboardNavigation') ??\n        this.settings.enableKeyboardNavigation,\n      enableGamepad:\n        this.config.getConfigValue('input.enableGamepad') ??\n        this.settings.enableGamepad,\n      enableTouch:\n        this.config.getConfigValue('input.enableTouch') ??\n        this.settings.enableTouch,\n      invertY:\n        this.config.getConfigValue('input.invertY') ?? this.settings.invertY,\n      deadzone:\n        this.config.getConfigValue('input.deadzone') || this.settings.deadzone,\n    };\n  }\n\n  /**\n   * Enable input\n   */\n  enable() {\n    this.isEnabled = true;\n    this.logger.info('Input enabled');\n  }\n\n  /**\n   * Disable input\n   */\n  disable() {\n    this.isEnabled = false;\n    this.logger.info('Input disabled');\n  }\n\n  /**\n   * Capture input\n   */\n  capture() {\n    this.isCaptured = true;\n    document.body.style.cursor = 'none';\n    this.logger.info('Input captured');\n  }\n\n  /**\n   * Release input\n   */\n  release() {\n    this.isCaptured = false;\n    document.body.style.cursor = 'default';\n    this.logger.info('Input released');\n  }\n\n  /**\n   * Get input state\n   */\n  getInputState() {\n    return {\n      keyboard: Object.fromEntries(this.keys),\n      mouse: this.mouse,\n      touch: Object.fromEntries(this.touch.touches),\n      gamepad: Object.fromEntries(this.gamepad.controllers),\n      accessibility: this.accessibility,\n    };\n  }\n\n  /**\n   * Set key mapping\n   */\n  setKeyMapping(action, keys) {\n    this.keyMappings.set(action, keys);\n  }\n\n  /**\n   * Get key mapping\n   */\n  getKeyMapping(action) {\n    return this.keyMappings.get(action) || [];\n  }\n\n  /**\n   * Check if key is pressed\n   */\n  isKeyPressed(key) {\n    const keyState = this.keys.get(key);\n    return keyState ? keyState.pressed : false;\n  }\n\n  /**\n   * Check if mouse button is pressed\n   */\n  isMouseButtonPressed(button) {\n    const buttonState = this.mouse.buttons.get(button);\n    return buttonState ? buttonState.pressed : false;\n  }\n\n  /**\n   * Get mouse position\n   */\n  getMousePosition() {\n    return { x: this.mouse.x, y: this.mouse.y };\n  }\n\n  /**\n   * Get gamepad state\n   */\n  getGamepadState(index) {\n    return this.gamepad.controllers.get(index);\n  }\n\n  /**\n   * Get all gamepads\n   */\n  getAllGamepads() {\n    return Array.from(this.gamepad.controllers.values());\n  }\n\n  /**\n   * Handle mobile touch start\n   */\n  handleMobileTouchStart(touch, event) {\n    // Check if touch is on virtual joystick\n    if (this.isTouchOnVirtualJoystick(touch)) {\n      this.activateVirtualJoystick(touch);\n      return;\n    }\n\n    // Check if touch is on action buttons\n    const button = this.getTouchedButton(touch);\n    if (button) {\n      this.handleMobileButtonPress(button.id, button.key, 'down');\n      return;\n    }\n\n    // Handle gesture recognition\n    this.handleGestureStart(touch, event);\n  }\n\n  /**\n   * Handle mobile touch move\n   */\n  handleMobileTouchMove(touch, event) {\n    // Update virtual joystick if active\n    if (this.mobileUI.virtualJoystick.active && \n        this.mobileUI.virtualJoystick.touchId === touch.identifier) {\n      this.updateVirtualJoystick(touch);\n    }\n\n    // Handle gesture recognition\n    this.handleGestureMove(touch, event);\n  }\n\n  /**\n   * Handle mobile touch end\n   */\n  handleMobileTouchEnd(touch, event) {\n    // Deactivate virtual joystick if it was active\n    if (this.mobileUI.virtualJoystick.active && \n        this.mobileUI.virtualJoystick.touchId === touch.identifier) {\n      this.deactivateVirtualJoystick();\n    }\n\n    // Handle gesture recognition\n    this.handleGestureEnd(touch, event);\n  }\n\n  /**\n   * Check if touch is on virtual joystick\n   */\n  isTouchOnVirtualJoystick(touch) {\n    if (!this.mobileUI.virtualJoystick.element) return false;\n\n    const rect = this.mobileUI.virtualJoystick.element.getBoundingClientRect();\n    return touch.clientX >= rect.left && \n           touch.clientX <= rect.right && \n           touch.clientY >= rect.top && \n           touch.clientY <= rect.bottom;\n  }\n\n  /**\n   * Activate virtual joystick\n   */\n  activateVirtualJoystick(touch) {\n    this.mobileUI.virtualJoystick.active = true;\n    this.mobileUI.virtualJoystick.touchId = touch.identifier;\n    \n    const rect = this.mobileUI.virtualJoystick.element.getBoundingClientRect();\n    this.mobileUI.virtualJoystick.center = {\n      x: rect.left + rect.width / 2,\n      y: rect.top + rect.height / 2,\n    };\n\n    this.logger.info('Virtual joystick activated');\n  }\n\n  /**\n   * Update virtual joystick\n   */\n  updateVirtualJoystick(touch) {\n    if (!this.mobileUI.virtualJoystick.active) return;\n\n    const center = this.mobileUI.virtualJoystick.center;\n    const deltaX = touch.clientX - center.x;\n    const deltaY = touch.clientY - center.y;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const maxDistance = this.settings.mobileUI.joystickSize / 2;\n\n    // Clamp to joystick radius\n    const clampedDistance = Math.min(distance, maxDistance);\n    const angle = Math.atan2(deltaY, deltaX);\n\n    const knobX = Math.cos(angle) * clampedDistance;\n    const knobY = Math.sin(angle) * clampedDistance;\n\n    // Update knob position\n    if (this.mobileUI.virtualJoystick.knob) {\n      this.mobileUI.virtualJoystick.knob.style.transform = \n        `translate(calc(-50% + ${knobX}px), calc(-50% + ${knobY}px))`;\n    }\n\n    // Calculate normalized values\n    const normalizedX = deltaX / maxDistance;\n    const normalizedY = deltaY / maxDistance;\n\n    // Apply deadzone\n    const deadzone = this.settings.mobileUI.joystickDeadzone;\n    const finalX = Math.abs(normalizedX) < deadzone ? 0 : normalizedX;\n    const finalY = Math.abs(normalizedY) < deadzone ? 0 : normalizedY;\n\n    // Emit joystick movement event\n    this.eventBus.emit('input:joystickMove', {\n      x: finalX,\n      y: finalY,\n      angle: angle * 180 / Math.PI,\n      distance: clampedDistance / maxDistance,\n      timestamp: Date.now(),\n    });\n\n    // Map to keyboard events for compatibility\n    this.mapJoystickToKeyboard(finalX, finalY);\n  }\n\n  /**\n   * Deactivate virtual joystick\n   */\n  deactivateVirtualJoystick() {\n    this.mobileUI.virtualJoystick.active = false;\n    this.mobileUI.virtualJoystick.touchId = null;\n\n    // Reset knob position\n    if (this.mobileUI.virtualJoystick.knob) {\n      this.mobileUI.virtualJoystick.knob.style.transform = 'translate(-50%, -50%)';\n    }\n\n    // Emit joystick release event\n    this.eventBus.emit('input:joystickRelease', {\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('Virtual joystick deactivated');\n  }\n\n  /**\n   * Map joystick movement to keyboard events\n   */\n  mapJoystickToKeyboard(x, y) {\n    const threshold = 0.3;\n\n    // Horizontal movement\n    if (x > threshold) {\n      this.handleMappedAction('keyboard', 'KeyD', 'down', { synthetic: true });\n    } else if (x < -threshold) {\n      this.handleMappedAction('keyboard', 'KeyA', 'down', { synthetic: true });\n    }\n\n    // Vertical movement\n    if (y > threshold) {\n      this.handleMappedAction('keyboard', 'KeyS', 'down', { synthetic: true });\n    } else if (y < -threshold) {\n      this.handleMappedAction('keyboard', 'KeyW', 'down', { synthetic: true });\n    }\n  }\n\n  /**\n   * Get touched button\n   */\n  getTouchedButton(touch) {\n    for (const [id, button] of this.mobileUI.actionButtons) {\n      const rect = button.getBoundingClientRect();\n      if (touch.clientX >= rect.left && \n          touch.clientX <= rect.right && \n          touch.clientY >= rect.top && \n          touch.clientY <= rect.bottom) {\n        return { id, key: this.getButtonKey(id) };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Get button key mapping\n   */\n  getButtonKey(buttonId) {\n    const keyMap = {\n      jump: 'Space',\n      interact: 'KeyE',\n      crouch: 'KeyC',\n      run: 'ShiftLeft',\n      menu: 'KeyM',\n      pause: 'Escape',\n    };\n    return keyMap[buttonId] || null;\n  }\n\n  /**\n   * Handle mobile button press\n   */\n  handleMobileButtonPress(buttonId, key, action) {\n    // Emit haptic feedback if enabled\n    if (this.settings.mobileControls.hapticFeedback && navigator.vibrate) {\n      navigator.vibrate(50);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:mobileButton', {\n      buttonId,\n      key,\n      action,\n      timestamp: Date.now(),\n    });\n\n    // Map to keyboard event for compatibility\n    if (key) {\n      this.handleMappedAction('keyboard', key, action, { synthetic: true });\n    }\n\n    this.logger.info(`Mobile button ${action}: ${buttonId}`);\n  }\n\n  /**\n   * Handle gesture start\n   */\n  handleGestureStart(touch, event) {\n    const currentTime = Date.now();\n    \n    // Check for double tap\n    if (this.settings.gestures.enableDoubleTap) {\n      const timeDiff = currentTime - this.touch.lastTapTime;\n      const distance = this.getDistance(touch, this.touch.lastTapPosition);\n      \n      if (timeDiff < this.settings.mobileControls.doubleTapDelay && distance < 50) {\n        this.handleDoubleTap(touch);\n        return;\n      }\n    }\n\n    // Set up long press timer\n    if (this.settings.gestures.enableLongPress) {\n      this.touch.longPressTimer = setTimeout(() => {\n        this.handleLongPress(touch);\n      }, this.settings.mobileControls.longPressDelay);\n    }\n\n    // Update last tap info\n    this.touch.lastTapTime = currentTime;\n    this.touch.lastTapPosition = { x: touch.clientX, y: touch.clientY };\n  }\n\n  /**\n   * Handle gesture move\n   */\n  handleGestureMove(touch, event) {\n    // Clear long press timer if moving\n    if (this.touch.longPressTimer) {\n      clearTimeout(this.touch.longPressTimer);\n      this.touch.longPressTimer = null;\n    }\n  }\n\n  /**\n   * Handle gesture end\n   */\n  handleGestureEnd(touch, event) {\n    // Clear long press timer\n    if (this.touch.longPressTimer) {\n      clearTimeout(this.touch.longPressTimer);\n      this.touch.longPressTimer = null;\n    }\n\n    // Check for swipe\n    if (this.settings.gestures.enableSwipe) {\n      this.checkForSwipe(touch, touch);\n    }\n  }\n\n  /**\n   * Check for swipe gesture\n   */\n  checkForSwipe(startTouch, endTouch) {\n    const deltaX = endTouch.clientX - startTouch.startX;\n    const deltaY = endTouch.clientY - startTouch.startY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    \n    if (distance < this.settings.mobileControls.swipeThreshold) {\n      return; // Not a swipe\n    }\n\n    const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\n    let direction = '';\n\n    if (angle > -45 && angle <= 45) {\n      direction = 'right';\n    } else if (angle > 45 && angle <= 135) {\n      direction = 'down';\n    } else if (angle > 135 || angle <= -135) {\n      direction = 'left';\n    } else if (angle > -135 && angle <= -45) {\n      direction = 'up';\n    }\n\n    if (this.settings.gestures.swipeDirections.includes(direction)) {\n      this.handleSwipeGesture(direction, distance);\n    }\n  }\n\n  /**\n   * Handle swipe gesture\n   */\n  handleSwipeGesture(direction, distance) {\n    this.eventBus.emit('input:swipe', {\n      direction,\n      distance,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info(`Swipe detected: ${direction}`);\n  }\n\n  /**\n   * Handle pinch gesture\n   */\n  handlePinchGesture(scale) {\n    this.eventBus.emit('input:pinch', {\n      scale,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info(`Pinch detected: ${scale.toFixed(2)}`);\n  }\n\n  /**\n   * Handle rotate gesture\n   */\n  handleRotateGesture(rotation) {\n    this.eventBus.emit('input:rotate', {\n      rotation,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info(`Rotate detected: ${rotation.toFixed(2)}`);\n  }\n\n  /**\n   * Handle double tap\n   */\n  handleDoubleTap(touch) {\n    this.eventBus.emit('input:doubleTap', {\n      x: touch.clientX,\n      y: touch.clientY,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('Double tap detected');\n  }\n\n  /**\n   * Handle long press\n   */\n  handleLongPress(touch) {\n    this.eventBus.emit('input:longPress', {\n      x: touch.clientX,\n      y: touch.clientY,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('Long press detected');\n  }\n\n  /**\n   * Get distance between two touch points\n   */\n  getDistance(touch1, touch2) {\n    const dx = touch1.clientX - touch2.clientX;\n    const dy = touch1.clientY - touch2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Get angle between two touch points\n   */\n  getAngle(touch1, touch2) {\n    return Math.atan2(touch2.clientY - touch1.clientY, touch2.clientX - touch1.clientX);\n  }\n\n  /**\n   * Update mobile controls visibility\n   */\n  updateMobileControlsVisibility(visible) {\n    this.mobileUI.isVisible = visible;\n    \n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.style.display = visible ? 'block' : 'none';\n    }\n  }\n\n  /**\n   * Update mobile controls settings\n   */\n  updateMobileSettings(newSettings) {\n    this.settings.mobileControls = { ...this.settings.mobileControls, ...newSettings };\n    this.settings.gestures = { ...this.settings.gestures, ...newSettings.gestures };\n    this.settings.mobileUI = { ...this.settings.mobileUI, ...newSettings.mobileUI };\n\n    // Recreate mobile UI if needed\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.remove();\n      this.createMobileUI();\n    }\n\n    this.logger.info('Mobile settings updated');\n  }\n\n  /**\n   * Get mobile controls state\n   */\n  getMobileControlsState() {\n    return {\n      isMobile: this.isMobile,\n      isVisible: this.mobileUI.isVisible,\n      orientation: this.mobileUI.orientation,\n      virtualJoystick: {\n        active: this.mobileUI.virtualJoystick.active,\n        position: this.mobileUI.virtualJoystick.position,\n      },\n      settings: {\n        mobileControls: this.settings.mobileControls,\n        gestures: this.settings.gestures,\n        mobileUI: this.settings.mobileUI,\n      },\n    };\n  }\n}\n\nexport default InputManager;\n","/**\n * MobileTesting.js - Mobile UX testing and validation utilities\n *\n * This utility provides:\n * - Mobile device detection and testing\n * - Touch gesture validation\n * - Mobile controls testing\n * - Performance testing on mobile devices\n * - Accessibility testing for mobile\n * - Mobile-specific UI validation\n */\n\nexport class MobileTesting {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.inputManager = dependencies.inputManager;\n    this.performanceMonitor = dependencies.performanceMonitor;\n\n    // Test configuration\n    this.config = {\n      enableAutoTesting: true,\n      testInterval: 5000,\n      gestureTestTimeout: 2000,\n      performanceTestDuration: 10000,\n      enableAccessibilityTesting: true,\n      enablePerformanceTesting: true,\n      enableGestureTesting: true,\n      enableControlTesting: true,\n      ...dependencies.config,\n    };\n\n    // Test state\n    this.isTesting = false;\n    this.testResults = {\n      device: null,\n      gestures: new Map(),\n      controls: new Map(),\n      performance: null,\n      accessibility: null,\n      overall: null,\n    };\n\n    // Test listeners\n    this.testListeners = new Map();\n\n    this.logger.info('MobileTesting initialized');\n  }\n\n  /**\n   * Initialize the testing utility\n   */\n  async initialize() {\n    this.logger.info('Initializing MobileTesting...');\n\n    // Detect mobile device\n    this.detectMobileDevice();\n\n    // Set up test listeners\n    this.setupTestListeners();\n\n    // Start auto-testing if enabled\n    if (this.config.enableAutoTesting) {\n      this.startAutoTesting();\n    }\n\n    this.logger.info('MobileTesting initialized successfully');\n  }\n\n  /**\n   * Cleanup the testing utility\n   */\n  cleanup() {\n    this.logger.info('Cleaning up MobileTesting...');\n\n    // Stop auto-testing\n    this.stopAutoTesting();\n\n    // Remove test listeners\n    this.removeTestListeners();\n\n    this.logger.info('MobileTesting cleaned up');\n  }\n\n  /**\n   * Detect mobile device and capabilities\n   */\n  detectMobileDevice() {\n    const userAgent = navigator.userAgent;\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);\n    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    const isTablet = /iPad|Android/i.test(userAgent) && 'ontouchstart' in window;\n\n    this.testResults.device = {\n      isMobile,\n      isTouch,\n      isTablet,\n      userAgent,\n      screenWidth: window.screen.width,\n      screenHeight: window.screen.height,\n      viewportWidth: window.innerWidth,\n      viewportHeight: window.innerHeight,\n      pixelRatio: window.devicePixelRatio || 1,\n      orientation: window.innerHeight > window.innerWidth ? 'portrait' : 'landscape',\n      maxTouchPoints: navigator.maxTouchPoints || 0,\n      hasVibration: 'vibrate' in navigator,\n      hasHaptics: 'vibrate' in navigator,\n      hasGeolocation: 'geolocation' in navigator,\n      hasCamera: 'mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices,\n      hasAccelerometer: 'DeviceMotionEvent' in window,\n      hasGyroscope: 'DeviceOrientationEvent' in window,\n    };\n\n    this.logger.info('Mobile device detected:', this.testResults.device);\n  }\n\n  /**\n   * Set up test listeners\n   */\n  setupTestListeners() {\n    // Gesture test listeners\n    if (this.config.enableGestureTesting) {\n      this.setupGestureTestListeners();\n    }\n\n    // Control test listeners\n    if (this.config.enableControlTesting) {\n      this.setupControlTestListeners();\n    }\n\n    // Performance test listeners\n    if (this.config.enablePerformanceTesting) {\n      this.setupPerformanceTestListeners();\n    }\n\n    // Accessibility test listeners\n    if (this.config.enableAccessibilityTesting) {\n      this.setupAccessibilityTestListeners();\n    }\n  }\n\n  /**\n   * Set up gesture test listeners\n   */\n  setupGestureTestListeners() {\n    const gestureTests = [\n      { name: 'tap', test: this.testTapGesture.bind(this) },\n      { name: 'doubleTap', test: this.testDoubleTapGesture.bind(this) },\n      { name: 'longPress', test: this.testLongPressGesture.bind(this) },\n      { name: 'swipe', test: this.testSwipeGesture.bind(this) },\n      { name: 'pinch', test: this.testPinchGesture.bind(this) },\n      { name: 'rotate', test: this.testRotateGesture.bind(this) },\n    ];\n\n    gestureTests.forEach(({ name, test }) => {\n      this.testListeners.set(`gesture:${name}`, test);\n    });\n  }\n\n  /**\n   * Set up control test listeners\n   */\n  setupControlTestListeners() {\n    const controlTests = [\n      { name: 'virtualJoystick', test: this.testVirtualJoystick.bind(this) },\n      { name: 'actionButtons', test: this.testActionButtons.bind(this) },\n      { name: 'menuButton', test: this.testMenuButton.bind(this) },\n      { name: 'pauseButton', test: this.testPauseButton.bind(this) },\n    ];\n\n    controlTests.forEach(({ name, test }) => {\n      this.testListeners.set(`control:${name}`, test);\n    });\n  }\n\n  /**\n   * Set up performance test listeners\n   */\n  setupPerformanceTestListeners() {\n    this.testListeners.set('performance:test', this.testPerformance.bind(this));\n  }\n\n  /**\n   * Set up accessibility test listeners\n   */\n  setupAccessibilityTestListeners() {\n    this.testListeners.set('accessibility:test', this.testAccessibility.bind(this));\n  }\n\n  /**\n   * Remove test listeners\n   */\n  removeTestListeners() {\n    this.testListeners.clear();\n  }\n\n  /**\n   * Start auto-testing\n   */\n  startAutoTesting() {\n    if (this.isTesting) return;\n\n    this.isTesting = true;\n    this.autoTestInterval = setInterval(() => {\n      this.runAllTests();\n    }, this.config.testInterval);\n\n    this.logger.info('Auto-testing started');\n  }\n\n  /**\n   * Stop auto-testing\n   */\n  stopAutoTesting() {\n    if (!this.isTesting) return;\n\n    this.isTesting = false;\n    if (this.autoTestInterval) {\n      clearInterval(this.autoTestInterval);\n      this.autoTestInterval = null;\n    }\n\n    this.logger.info('Auto-testing stopped');\n  }\n\n  /**\n   * Run all tests\n   */\n  async runAllTests() {\n    this.logger.info('Running mobile tests...');\n\n    try {\n      // Test gestures\n      if (this.config.enableGestureTesting) {\n        await this.testAllGestures();\n      }\n\n      // Test controls\n      if (this.config.enableControlTesting) {\n        await this.testAllControls();\n      }\n\n      // Test performance\n      if (this.config.enablePerformanceTesting) {\n        await this.testPerformance();\n      }\n\n      // Test accessibility\n      if (this.config.enableAccessibilityTesting) {\n        await this.testAccessibility();\n      }\n\n      // Calculate overall score\n      this.calculateOverallScore();\n\n      // Emit test results\n      this.eventBus.emit('mobileTesting:results', this.testResults);\n\n      this.logger.info('Mobile tests completed');\n    } catch (error) {\n      this.logger.error('Error running mobile tests:', error);\n    }\n  }\n\n  /**\n   * Test all gestures\n   */\n  async testAllGestures() {\n    const gestureNames = ['tap', 'doubleTap', 'longPress', 'swipe', 'pinch', 'rotate'];\n    \n    for (const gestureName of gestureNames) {\n      try {\n        const result = await this.testGesture(gestureName);\n        this.testResults.gestures.set(gestureName, result);\n      } catch (error) {\n        this.logger.error(`Error testing gesture ${gestureName}:`, error);\n        this.testResults.gestures.set(gestureName, { success: false, error: error.message });\n      }\n    }\n  }\n\n  /**\n   * Test a specific gesture\n   */\n  async testGesture(gestureName) {\n    const testFunction = this.testListeners.get(`gesture:${gestureName}`);\n    if (!testFunction) {\n      throw new Error(`No test function found for gesture: ${gestureName}`);\n    }\n\n    return await testFunction();\n  }\n\n  /**\n   * Test tap gesture\n   */\n  async testTapGesture() {\n    return new Promise((resolve) => {\n      let tapDetected = false;\n      let startTime = Date.now();\n\n      const handleTap = () => {\n        tapDetected = true;\n        const responseTime = Date.now() - startTime;\n        document.removeEventListener('touchstart', handleTap);\n        resolve({\n          success: true,\n          responseTime,\n          timestamp: Date.now(),\n        });\n      };\n\n      document.addEventListener('touchstart', handleTap, { once: true });\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        if (!tapDetected) {\n          document.removeEventListener('touchstart', handleTap);\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test double tap gesture\n   */\n  async testDoubleTapGesture() {\n    return new Promise((resolve) => {\n      let tapCount = 0;\n      let lastTapTime = 0;\n      let startTime = Date.now();\n\n      const handleTap = () => {\n        const currentTime = Date.now();\n        tapCount++;\n\n        if (tapCount === 1) {\n          lastTapTime = currentTime;\n        } else if (tapCount === 2) {\n          const timeDiff = currentTime - lastTapTime;\n          const success = timeDiff < 500; // Double tap within 500ms\n          \n          document.removeEventListener('touchstart', handleTap);\n          resolve({\n            success,\n            timeDiff,\n            timestamp: Date.now(),\n          });\n        }\n      };\n\n      document.addEventListener('touchstart', handleTap);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTap);\n        resolve({\n          success: false,\n          error: 'Timeout',\n          timestamp: Date.now(),\n        });\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test long press gesture\n   */\n  async testLongPressGesture() {\n    return new Promise((resolve) => {\n      let longPressDetected = false;\n      let startTime = Date.now();\n\n      const handleTouchStart = () => {\n        startTime = Date.now();\n      };\n\n      const handleTouchEnd = () => {\n        const duration = Date.now() - startTime;\n        const success = duration >= 500; // Long press >= 500ms\n        \n        if (success) {\n          longPressDetected = true;\n          resolve({\n            success: true,\n            duration,\n            timestamp: Date.now(),\n          });\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchend', handleTouchEnd);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchend', handleTouchEnd);\n        \n        if (!longPressDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test swipe gesture\n   */\n  async testSwipeGesture() {\n    return new Promise((resolve) => {\n      let swipeDetected = false;\n      let startTouch = null;\n\n      const handleTouchStart = (e) => {\n        startTouch = e.touches[0];\n      };\n\n      const handleTouchEnd = (e) => {\n        if (!startTouch) return;\n\n        const endTouch = e.changedTouches[0];\n        const deltaX = endTouch.clientX - startTouch.clientX;\n        const deltaY = endTouch.clientY - startTouch.clientY;\n        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n        \n        const success = distance >= 50; // Swipe distance >= 50px\n        \n        if (success) {\n          swipeDetected = true;\n          resolve({\n            success: true,\n            distance,\n            direction: Math.atan2(deltaY, deltaX) * 180 / Math.PI,\n            timestamp: Date.now(),\n          });\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchend', handleTouchEnd);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchend', handleTouchEnd);\n        \n        if (!swipeDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test pinch gesture\n   */\n  async testPinchGesture() {\n    return new Promise((resolve) => {\n      let pinchDetected = false;\n      let startTouches = [];\n\n      const handleTouchStart = (e) => {\n        if (e.touches.length === 2) {\n          startTouches = Array.from(e.touches);\n        }\n      };\n\n      const handleTouchMove = (e) => {\n        if (e.touches.length === 2 && startTouches.length === 2) {\n          const currentTouches = Array.from(e.touches);\n          const startDistance = this.getDistance(startTouches[0], startTouches[1]);\n          const currentDistance = this.getDistance(currentTouches[0], currentTouches[1]);\n          const scale = currentDistance / startDistance;\n          \n          if (Math.abs(scale - 1) > 0.1) { // Pinch threshold\n            pinchDetected = true;\n            resolve({\n              success: true,\n              scale,\n              timestamp: Date.now(),\n            });\n          }\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchmove', handleTouchMove);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchmove', handleTouchMove);\n        \n        if (!pinchDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test rotate gesture\n   */\n  async testRotateGesture() {\n    return new Promise((resolve) => {\n      let rotateDetected = false;\n      let startTouches = [];\n\n      const handleTouchStart = (e) => {\n        if (e.touches.length === 2) {\n          startTouches = Array.from(e.touches);\n        }\n      };\n\n      const handleTouchMove = (e) => {\n        if (e.touches.length === 2 && startTouches.length === 2) {\n          const currentTouches = Array.from(e.touches);\n          const startAngle = this.getAngle(startTouches[0], startTouches[1]);\n          const currentAngle = this.getAngle(currentTouches[0], currentTouches[1]);\n          const rotation = currentAngle - startAngle;\n          \n          if (Math.abs(rotation) > 0.1) { // Rotation threshold\n            rotateDetected = true;\n            resolve({\n              success: true,\n              rotation: rotation * 180 / Math.PI,\n              timestamp: Date.now(),\n            });\n          }\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchmove', handleTouchMove);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchmove', handleTouchMove);\n        \n        if (!rotateDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test all controls\n   */\n  async testAllControls() {\n    const controlNames = ['virtualJoystick', 'actionButtons', 'menuButton', 'pauseButton'];\n    \n    for (const controlName of controlNames) {\n      try {\n        const result = await this.testControl(controlName);\n        this.testResults.controls.set(controlName, result);\n      } catch (error) {\n        this.logger.error(`Error testing control ${controlName}:`, error);\n        this.testResults.controls.set(controlName, { success: false, error: error.message });\n      }\n    }\n  }\n\n  /**\n   * Test a specific control\n   */\n  async testControl(controlName) {\n    const testFunction = this.testListeners.get(`control:${controlName}`);\n    if (!testFunction) {\n      throw new Error(`No test function found for control: ${controlName}`);\n    }\n\n    return await testFunction();\n  }\n\n  /**\n   * Test virtual joystick\n   */\n  async testVirtualJoystick() {\n    if (!this.inputManager || !this.inputManager.mobileUI.virtualJoystick.element) {\n      return {\n        success: false,\n        error: 'Virtual joystick not available',\n        timestamp: Date.now(),\n      };\n    }\n\n    const joystick = this.inputManager.mobileUI.virtualJoystick;\n    const rect = joystick.element.getBoundingClientRect();\n    \n    return {\n      success: true,\n      position: {\n        x: rect.left,\n        y: rect.top,\n        width: rect.width,\n        height: rect.height,\n      },\n      active: joystick.active,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test action buttons\n   */\n  async testActionButtons() {\n    if (!this.inputManager || !this.inputManager.mobileUI.actionButtons) {\n      return {\n        success: false,\n        error: 'Action buttons not available',\n        timestamp: Date.now(),\n      };\n    }\n\n    const buttons = Array.from(this.inputManager.mobileUI.actionButtons.entries()).map(([id, button]) => {\n      const rect = button.getBoundingClientRect();\n      return {\n        id,\n        position: {\n          x: rect.left,\n          y: rect.top,\n          width: rect.width,\n          height: rect.height,\n        },\n        visible: button.offsetParent !== null,\n      };\n    });\n\n    return {\n      success: true,\n      buttons,\n      count: buttons.length,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test menu button\n   */\n  async testMenuButton() {\n    const menuButton = document.querySelector('.menu-button');\n    \n    if (!menuButton) {\n      return {\n        success: false,\n        error: 'Menu button not found',\n        timestamp: Date.now(),\n      };\n    }\n\n    const rect = menuButton.getBoundingClientRect();\n    \n    return {\n      success: true,\n      position: {\n        x: rect.left,\n        y: rect.top,\n        width: rect.width,\n        height: rect.height,\n      },\n      visible: menuButton.offsetParent !== null,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test pause button\n   */\n  async testPauseButton() {\n    const pauseButton = document.querySelector('.pause-button');\n    \n    if (!pauseButton) {\n      return {\n        success: false,\n        error: 'Pause button not found',\n        timestamp: Date.now(),\n      };\n    }\n\n    const rect = pauseButton.getBoundingClientRect();\n    \n    return {\n      success: true,\n      position: {\n        x: rect.left,\n        y: rect.top,\n        width: rect.width,\n        height: rect.height,\n      },\n      visible: pauseButton.offsetParent !== null,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test performance\n   */\n  async testPerformance() {\n    if (!this.performanceMonitor) {\n      return {\n        success: false,\n        error: 'Performance monitor not available',\n        timestamp: Date.now(),\n      };\n    }\n\n    const metrics = this.performanceMonitor.getMetrics();\n    const score = this.performanceMonitor.getPerformanceScore();\n    \n    this.testResults.performance = {\n      success: true,\n      score,\n      metrics: {\n        fps: metrics.fps.current,\n        frameTime: metrics.frameTime.current,\n        memory: metrics.memory.used,\n        audio: metrics.audio.contextState,\n      },\n      timestamp: Date.now(),\n    };\n\n    return this.testResults.performance;\n  }\n\n  /**\n   * Test accessibility\n   */\n  async testAccessibility() {\n    const accessibilityTests = [\n      this.testScreenReaderSupport(),\n      this.testKeyboardNavigation(),\n      this.testHighContrast(),\n      this.testTextScaling(),\n    ];\n\n    const results = await Promise.all(accessibilityTests);\n    \n    this.testResults.accessibility = {\n      success: true,\n      tests: results,\n      overallScore: results.reduce((sum, test) => sum + (test.success ? 1 : 0), 0) / results.length,\n      timestamp: Date.now(),\n    };\n\n    return this.testResults.accessibility;\n  }\n\n  /**\n   * Test screen reader support\n   */\n  async testScreenReaderSupport() {\n    const hasScreenReader = 'speechSynthesis' in window;\n    const hasAriaSupport = document.querySelector('[aria-label]') !== null;\n    \n    return {\n      name: 'screenReader',\n      success: hasScreenReader && hasAriaSupport,\n      details: {\n        hasScreenReader,\n        hasAriaSupport,\n      },\n    };\n  }\n\n  /**\n   * Test keyboard navigation\n   */\n  async testKeyboardNavigation() {\n    const focusableElements = document.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n    \n    return {\n      name: 'keyboardNavigation',\n      success: focusableElements.length > 0,\n      details: {\n        focusableElements: focusableElements.length,\n      },\n    };\n  }\n\n  /**\n   * Test high contrast\n   */\n  async testHighContrast() {\n    const hasHighContrast = document.documentElement.classList.contains('high-contrast');\n    \n    return {\n      name: 'highContrast',\n      success: true, // Always available\n      details: {\n        enabled: hasHighContrast,\n      },\n    };\n  }\n\n  /**\n   * Test text scaling\n   */\n  async testTextScaling() {\n    const textScale = getComputedStyle(document.documentElement).getPropertyValue('--text-scale') || '1';\n    \n    return {\n      name: 'textScaling',\n      success: true, // Always available\n      details: {\n        scale: parseFloat(textScale),\n      },\n    };\n  }\n\n  /**\n   * Calculate overall score\n   */\n  calculateOverallScore() {\n    let totalScore = 0;\n    let testCount = 0;\n\n    // Device score (always 1 if mobile detected)\n    if (this.testResults.device?.isMobile) {\n      totalScore += 1;\n      testCount += 1;\n    }\n\n    // Gesture scores\n    for (const [name, result] of this.testResults.gestures) {\n      totalScore += result.success ? 1 : 0;\n      testCount += 1;\n    }\n\n    // Control scores\n    for (const [name, result] of this.testResults.controls) {\n      totalScore += result.success ? 1 : 0;\n      testCount += 1;\n    }\n\n    // Performance score\n    if (this.testResults.performance) {\n      totalScore += this.testResults.performance.score / 100;\n      testCount += 1;\n    }\n\n    // Accessibility score\n    if (this.testResults.accessibility) {\n      totalScore += this.testResults.accessibility.overallScore;\n      testCount += 1;\n    }\n\n    this.testResults.overall = {\n      score: testCount > 0 ? totalScore / testCount : 0,\n      totalTests: testCount,\n      passedTests: Math.round(totalScore),\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Get distance between two touch points\n   */\n  getDistance(touch1, touch2) {\n    const dx = touch1.clientX - touch2.clientX;\n    const dy = touch1.clientY - touch2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Get angle between two touch points\n   */\n  getAngle(touch1, touch2) {\n    return Math.atan2(touch2.clientY - touch1.clientY, touch2.clientX - touch1.clientX);\n  }\n\n  /**\n   * Get test results\n   */\n  getTestResults() {\n    return this.testResults;\n  }\n\n  /**\n   * Get test report\n   */\n  getTestReport() {\n    return {\n      device: this.testResults.device,\n      gestures: Object.fromEntries(this.testResults.gestures),\n      controls: Object.fromEntries(this.testResults.controls),\n      performance: this.testResults.performance,\n      accessibility: this.testResults.accessibility,\n      overall: this.testResults.overall,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Export test results\n   */\n  exportTestResults() {\n    return JSON.stringify(this.getTestReport(), null, 2);\n  }\n\n  /**\n   * Update test configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n  }\n}\n\nexport default MobileTesting;","/**\n * GameRefactored.js - Main game controller with cross-cutting features integration\n *\n * This file serves as the central orchestrator for the game, integrating:\n * - Core gameplay mechanics\n * - Achievements system\n * - Daily challenges\n * - Accessibility features\n * - Modular component architecture with dependency injection\n */\n\nimport { GameManager } from './managers/GameManager.js';\nimport { AchievementManager } from './managers/AchievementManager.js';\nimport { DailyChallengeManager } from './managers/DailyChallengeManager.js';\nimport { AccessibilityManager } from './managers/AccessibilityManager.js';\nimport { EventBus } from './core/EventBus.js';\nimport { Logger } from './utils/Logger.js';\nimport { PerformanceMonitor } from './core/PerformanceMonitor.js';\nimport { InputManager } from './core/InputManager.js';\nimport { MobileTesting } from './utils/MobileTesting.js';\n\nexport class GameRefactored {\n  constructor(config = {}) {\n    // Validate and normalize config\n    this.config = this.validateConfig({\n      debug: false,\n      enableAchievements: true,\n      enableDailyChallenges: true,\n      enableAccessibility: true,\n      ...config,\n    });\n\n    // Assert config validation\n    if (typeof this.config.debug !== 'boolean') {\n      throw new Error('GameRefactored: config.debug must be a boolean');\n    }\n    if (typeof this.config.enableAchievements !== 'boolean') {\n      throw new Error(\n        'GameRefactored: config.enableAchievements must be a boolean'\n      );\n    }\n    if (typeof this.config.enableDailyChallenges !== 'boolean') {\n      throw new Error(\n        'GameRefactored: config.enableDailyChallenges must be a boolean'\n      );\n    }\n    if (typeof this.config.enableAccessibility !== 'boolean') {\n      throw new Error(\n        'GameRefactored: config.enableAccessibility must be a boolean'\n      );\n    }\n\n    // Core systems - with assertions\n    this.eventBus = new EventBus();\n    if (!this.eventBus || typeof this.eventBus.emit !== 'function') {\n      throw new Error('GameRefactored: EventBus initialization failed');\n    }\n\n    this.logger = new Logger(this.config.debug);\n    if (!this.logger || typeof this.logger.info !== 'function') {\n      throw new Error('GameRefactored: Logger initialization failed');\n    }\n\n    // Game state - with assertions\n    this.gameState = {\n      isRunning: false,\n      isPaused: false,\n      currentLevel: 1,\n      score: 0,\n      player: null,\n      gameObjects: [],\n      startTime: null,\n      lastUpdateTime: null,\n      activePowerUps: new Map(), // Track active power-ups\n    };\n\n    // Assert game state structure\n    if (typeof this.gameState.isRunning !== 'boolean') {\n      throw new Error('GameRefactored: gameState.isRunning must be a boolean');\n    }\n    if (\n      typeof this.gameState.currentLevel !== 'number' ||\n      this.gameState.currentLevel < 1\n    ) {\n      throw new Error(\n        'GameRefactored: gameState.currentLevel must be a positive number'\n      );\n    }\n    if (typeof this.gameState.score !== 'number' || this.gameState.score < 0) {\n      throw new Error(\n        'GameRefactored: gameState.score must be a non-negative number'\n      );\n    }\n    if (!Array.isArray(this.gameState.gameObjects)) {\n      throw new Error('GameRefactored: gameState.gameObjects must be an array');\n    }\n\n    // Manager instances (dependency injection) - with assertions\n    this.managers = {};\n    this.initializeManagers();\n\n    // Performance monitoring\n    this.performanceMonitor = new PerformanceMonitor({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    });\n\n    // Input management\n    this.inputManager = new InputManager({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    });\n\n    // Mobile testing\n    this.mobileTesting = new MobileTesting({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      inputManager: this.inputManager,\n      performanceMonitor: this.performanceMonitor,\n      config: this.config,\n    });\n\n    // Assert managers were initialized\n    if (!this.managers.game) {\n      throw new Error('GameRefactored: GameManager initialization failed');\n    }\n    if (this.config.enableAchievements && !this.managers.achievements) {\n      throw new Error(\n        'GameRefactored: AchievementManager initialization failed when enabled'\n      );\n    }\n    if (this.config.enableDailyChallenges && !this.managers.dailyChallenges) {\n      throw new Error(\n        'GameRefactored: DailyChallengeManager initialization failed when enabled'\n      );\n    }\n    if (this.config.enableAccessibility && !this.managers.accessibility) {\n      throw new Error(\n        'GameRefactored: AccessibilityManager initialization failed when enabled'\n      );\n    }\n\n    // Bind methods - with assertions\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n\n    // Assert methods are bound correctly\n    if (typeof this.update !== 'function') {\n      throw new Error('GameRefactored: update method binding failed');\n    }\n    if (typeof this.render !== 'function') {\n      throw new Error('GameRefactored: render method binding failed');\n    }\n    if (typeof this.handleInput !== 'function') {\n      throw new Error('GameRefactored: handleInput method binding failed');\n    }\n\n    this.logger.info('GameRefactored initialized');\n  }\n\n  /**\n   * Validate and normalize configuration\n   */\n  validateConfig(config) {\n    const validatedConfig = { ...config };\n\n    // Normalize boolean values\n    validatedConfig.debug = Boolean(validatedConfig.debug);\n    validatedConfig.enableAchievements = Boolean(\n      validatedConfig.enableAchievements\n    );\n    validatedConfig.enableDailyChallenges = Boolean(\n      validatedConfig.enableDailyChallenges\n    );\n    validatedConfig.enableAccessibility = Boolean(\n      validatedConfig.enableAccessibility\n    );\n\n    return validatedConfig;\n  }\n\n  /**\n   * Initialize all game managers with dependency injection\n   */\n  initializeManagers() {\n    // Core game manager\n    this.managers.game = new GameManager({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    });\n\n    // Cross-cutting feature managers\n    if (this.config.enableAchievements) {\n      this.managers.achievements = new AchievementManager({\n        eventBus: this.eventBus,\n        logger: this.logger,\n        gameState: () => this.gameState,\n      });\n    }\n\n    if (this.config.enableDailyChallenges) {\n      this.managers.dailyChallenges = new DailyChallengeManager({\n        eventBus: this.eventBus,\n        logger: this.logger,\n        gameState: () => this.gameState,\n      });\n    }\n\n    if (this.config.enableAccessibility) {\n      this.managers.accessibility = new AccessibilityManager({\n        eventBus: this.eventBus,\n        logger: this.logger,\n        gameState: () => this.gameState,\n      });\n    }\n\n    // Set up cross-manager communication\n    this.setupManagerCommunication();\n  }\n\n  /**\n   * Set up communication between managers\n   */\n  setupManagerCommunication() {\n    // Game events that affect achievements\n    this.eventBus.on('player:scoreChanged', (data) => {\n      if (this.managers.achievements) {\n        this.managers.achievements.checkScoreAchievements(data.score);\n      }\n    });\n\n    this.eventBus.on('player:levelCompleted', (data) => {\n      if (this.managers.achievements) {\n        this.managers.achievements.checkLevelAchievements(data.level);\n      }\n      if (this.managers.dailyChallenges) {\n        this.managers.dailyChallenges.checkLevelChallenge(data.level);\n      }\n    });\n\n    this.eventBus.on('player:itemCollected', (data) => {\n      if (this.managers.achievements) {\n        this.managers.achievements.checkCollectionAchievements(data.itemType);\n      }\n      if (this.managers.dailyChallenges) {\n        this.managers.dailyChallenges.checkCollectionChallenge(data.itemType);\n      }\n    });\n\n    // Accessibility events\n    this.eventBus.on('game:stateChanged', (data) => {\n      if (this.managers.accessibility) {\n        this.managers.accessibility.announceStateChange(data);\n      }\n    });\n\n    // Achievement events that affect gameplay\n    this.eventBus.on('achievement:unlocked', (data) => {\n      this.logger.info(`Achievement unlocked: ${data.name}`);\n      if (this.managers.game) {\n        this.managers.game.handleAchievementUnlock(data);\n      }\n    });\n\n    // Daily challenge events\n    this.eventBus.on('dailyChallenge:completed', (data) => {\n      this.logger.info(`Daily challenge completed: ${data.name}`);\n      if (this.managers.game) {\n        this.managers.game.handleDailyChallengeCompletion(data);\n      }\n    });\n  }\n\n  /**\n   * Start the game\n   */\n  async start() {\n    try {\n      this.logger.info('Starting game...');\n\n      // Initialize all managers\n      for (const [name, manager] of Object.entries(this.managers)) {\n        if (manager.initialize) {\n          await manager.initialize();\n        }\n      }\n\n      // Initialize performance monitoring\n      if (this.performanceMonitor.initialize) {\n        await this.performanceMonitor.initialize();\n      }\n\n      // Initialize input management\n      if (this.inputManager.initialize) {\n        await this.inputManager.initialize();\n      }\n\n      // Initialize mobile testing\n      if (this.mobileTesting.initialize) {\n        await this.mobileTesting.initialize();\n      }\n\n      // Set up game state\n      this.gameState.isRunning = true;\n      this.gameState.startTime = Date.now();\n      this.gameState.lastUpdateTime = performance.now();\n\n      // Start game loop\n      this.gameLoopId = requestAnimationFrame(this.update);\n\n      // Emit game start event\n      this.eventBus.emit('game:started', {\n        timestamp: this.gameState.startTime,\n        config: this.config,\n      });\n\n      this.logger.info('Game started successfully');\n    } catch (error) {\n      this.logger.error('Failed to start game:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Pause the game\n   */\n  pause() {\n    if (this.gameState.isRunning && !this.gameState.isPaused) {\n      this.gameState.isPaused = true;\n      cancelAnimationFrame(this.gameLoopId);\n\n      this.eventBus.emit('game:paused', {\n        timestamp: Date.now(),\n        pauseTime: this.gameState.startTime,\n      });\n\n      this.logger.info('Game paused');\n    }\n  }\n\n  /**\n   * Resume the game\n   */\n  resume() {\n    if (this.gameState.isRunning && this.gameState.isPaused) {\n      this.gameState.isPaused = false;\n      this.gameState.lastUpdateTime = performance.now();\n      this.gameLoopId = requestAnimationFrame(this.update);\n\n      this.eventBus.emit('game:resumed', {\n        timestamp: Date.now(),\n      });\n\n      this.logger.info('Game resumed');\n    }\n  }\n\n  /**\n   * Stop the game\n   */\n  stop() {\n    this.gameState.isRunning = false;\n    this.gameState.isPaused = false;\n\n    if (this.gameLoopId) {\n      cancelAnimationFrame(this.gameLoopId);\n    }\n\n    // Cleanup managers\n    for (const [name, manager] of Object.entries(this.managers)) {\n      if (manager.cleanup) {\n        manager.cleanup();\n      }\n    }\n\n    // Cleanup performance monitoring\n    if (this.performanceMonitor.cleanup) {\n      this.performanceMonitor.cleanup();\n    }\n\n    // Cleanup input management\n    if (this.inputManager.cleanup) {\n      this.inputManager.cleanup();\n    }\n\n    // Cleanup mobile testing\n    if (this.mobileTesting.cleanup) {\n      this.mobileTesting.cleanup();\n    }\n\n    this.eventBus.emit('game:stopped', {\n      timestamp: Date.now(),\n      finalScore: this.gameState.score,\n      finalLevel: this.gameState.currentLevel,\n    });\n\n    this.logger.info('Game stopped');\n  }\n\n  /**\n   * Main game update loop\n   */\n  update(currentTime) {\n    if (!this.gameState.isRunning || this.gameState.isPaused) {\n      return;\n    }\n\n    const deltaTime = currentTime - this.gameState.lastUpdateTime;\n    this.gameState.lastUpdateTime = currentTime;\n\n    try {\n      // Update all managers\n      for (const [name, manager] of Object.entries(this.managers)) {\n        if (manager.update) {\n          manager.update(deltaTime, this.gameState);\n        }\n      }\n\n      // Update performance monitoring\n      if (this.performanceMonitor.update) {\n        this.performanceMonitor.update(deltaTime);\n      }\n\n      // Update input management\n      if (this.inputManager.update) {\n        this.inputManager.update(deltaTime);\n      }\n\n      // Update game objects\n      this.updateGameObjects(deltaTime);\n\n      // Continue game loop\n      this.gameLoopId = requestAnimationFrame(this.update);\n    } catch (error) {\n      this.logger.error('Error in game update loop:', error);\n      this.stop();\n    }\n  }\n\n  /**\n   * Update all game objects\n   */\n  updateGameObjects(deltaTime) {\n    // Update player\n    if (this.gameState.player && this.gameState.player.update) {\n      this.gameState.player.update(deltaTime);\n    }\n\n    // Update other game objects\n    this.gameState.gameObjects.forEach((obj) => {\n      if (obj.update) {\n        obj.update(deltaTime);\n      }\n    });\n\n    // Remove destroyed objects\n    this.gameState.gameObjects = this.gameState.gameObjects.filter(\n      (obj) => !obj.destroyed\n    );\n  }\n\n  /**\n   * Render the game\n   */\n  render() {\n    // This would typically be handled by a rendering system\n    // For now, we'll emit render events for managers to handle\n    this.eventBus.emit('game:render', {\n      gameState: this.gameState,\n      timestamp: performance.now(),\n    });\n  }\n\n  /**\n   * Handle input events\n   */\n  handleInput(inputType, data) {\n    if (!this.gameState.isRunning) {\n      return;\n    }\n\n    // Emit input event for managers to handle\n    this.eventBus.emit('game:input', {\n      type: inputType,\n      data: data,\n      timestamp: Date.now(),\n    });\n\n    // Handle player input\n    if (this.gameState.player && this.gameState.player.handleInput) {\n      this.gameState.player.handleInput(inputType, data);\n    }\n  }\n\n  /**\n   * Add a game object to the game\n   */\n  addGameObject(gameObject) {\n    this.gameState.gameObjects.push(gameObject);\n\n    this.eventBus.emit('game:objectAdded', {\n      object: gameObject,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Remove a game object from the game\n   */\n  removeGameObject(gameObjectId) {\n    const index = this.gameState.gameObjects.findIndex(\n      (obj) => obj.id === gameObjectId\n    );\n    if (index !== -1) {\n      const removedObject = this.gameState.gameObjects.splice(index, 1)[0];\n\n      this.eventBus.emit('game:objectRemoved', {\n        object: removedObject,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Get current game state (for external access)\n   */\n  getGameState() {\n    return { ...this.gameState };\n  }\n\n  /**\n   * Get manager by name\n   */\n  getManager(name) {\n    return this.managers[name];\n  }\n\n  /**\n   * Get performance monitor\n   */\n  getPerformanceMonitor() {\n    return this.performanceMonitor;\n  }\n\n  /**\n   * Get input manager\n   */\n  getInputManager() {\n    return this.inputManager;\n  }\n\n  /**\n   * Get mobile testing utility\n   */\n  getMobileTesting() {\n    return this.mobileTesting;\n  }\n\n  /**\n   * Get performance report\n   */\n  getPerformanceReport() {\n    return this.performanceMonitor ? this.performanceMonitor.getPerformanceReport() : null;\n  }\n\n  /**\n   * Get mobile controls state\n   */\n  getMobileControlsState() {\n    return this.inputManager ? this.inputManager.getMobileControlsState() : null;\n  }\n\n  /**\n   * Get mobile test results\n   */\n  getMobileTestResults() {\n    return this.mobileTesting ? this.mobileTesting.getTestResults() : null;\n  }\n\n  /**\n   * Update game configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n\n    // Notify managers of config changes\n    this.eventBus.emit('game:configChanged', {\n      config: this.config,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Cleanup and destroy the game instance\n   */\n  destroy() {\n    this.stop();\n\n    // Clear all event listeners\n    this.eventBus.removeAllListeners();\n\n    // Clear game state\n    this.gameState = null;\n    this.managers = null;\n\n    this.logger.info('GameRefactored destroyed');\n  }\n}\n\n// Export for use in other modules\nexport default GameRefactored;\n"],"names":["GameManager","constructor","dependencies","eventBus","logger","config","Error","state","currentLevel","maxLevel","score","highScore","lives","levelStartTime","levelCompleted","gameOver","levelConfigs","initializeLevelConfigs","setupEventHandlers","info","initialize","loadGameData","setupLevel","cleanup","saveGameData","removeEventHandlers","update","deltaTime","gameState","levelTime","Date","now","levelConfig","timeLimit","handleLevelTimeout","updateLevelSpecificLogic","on","handleScoreChange","bind","handlePlayerDamaged","handleItemCollected","handleLevelCompleted","handleGameInput","handleConfigChange","handleAchievementUnlock","handleDailyChallengeCompletion","removeListener","targetScore","difficulty","levelNumber","error","emit","level","timestamp","data","scoreChange","completeLevel","damage","scoreValue","itemType","time","completeGame","setTimeout","finalScore","finalLevel","type","restartGame","bonusScore","effects","applyAchievementEffects","applyChallengeEffects","extraLives","scoreMultiplier","temporaryScoreMultiplier","duration","temporaryPowerUp","savedData","localStorage","getItem","JSON","parse","lastPlayed","setItem","stringify","getState","getLevelConfig","setLevelConfig","length","AchievementManager","achievements","Map","unlockedAchievements","Set","progress","initializeAchievements","loadAchievementData","saveAchievementData","checkTimeBasedAchievements","checkComboAchievements","defineAchievement","name","description","target","reward","title","icon","id","definition","set","unlocked","unlockedAt","handleGameStarted","handleComboChanged","currentScore","checkScoreAchievements","checkLevelAchievements","checkSpeedAchievements","checkPerfectLevelAchievements","checkCollectionAchievements","gameStartTime","combo","currentLevelPerfect","checkAchievementsByType","currentCount","get","playTime","levelData","perfect","value","achievement","unlockAchievement","add","applyAchievementReward","source","achievementId","livesChange","getAchievement","getAllAchievements","Array","from","values","getUnlockedAchievements","filter","a","getAchievementProgress","percentage","Math","min","getAllAchievementProgress","push","forEach","has","Object","entries","fromEntries","resetAchievements","clear","DailyChallengeManager","challenges","activeChallenges","completedChallenges","challengeProgress","lastChallengeDate","challengeTemplates","initializeChallengeTemplates","loadChallengeData","generateDailyChallenges","saveChallengeData","checkDailyChallengeRotation","updateChallengeProgress","coins","collection","survival","today","toDateString","challengeTypes","keys","selectedTypes","getRandomElements","index","template","getRandomElement","challenge","createChallenge","date","replace","completed","completedAt","createdAt","checkScoreChallenges","checkLevelChallenges","checkTimeChallenges","checkSurvivalChallenges","checkCollectionChallenges","checkComboChallenges","currentGameScore","currentGameLevel","currentGameItems","currentGameCombo","survivalCount","checkChallengesByType","timeInSeconds","floor","completeChallenge","challengeId","applyChallengeReward","coinsChange","getActiveChallenges","c","getCompletedChallenges","getAllChallenges","getChallengeProgress","getAllChallengeProgress","array","count","shuffled","sort","random","slice","resetChallenges","AccessibilityManager","settings","screenReader","highContrast","colorblindMode","keyboardNavigation","audioCues","audioDescriptions","textScaling","motionReduction","reducedAnimations","largeText","focusIndicators","audioContext","audioEnabled","announcements","announcementQueue","loadAccessibilitySettings","initializeAudio","setupDOMAccessibility","saveAccessibilitySettings","close","processAnnouncementQueue","updateAccessibilityFeatures","handleGamePaused","handleGameResumed","handleGameStopped","handleScoreChanged","handleLevelStarted","handleAchievementUnlocked","handleDailyChallengeCompleted","handleInput","window","AudioContext","webkitAudioContext","warn","createAnnouncementRegion","setupKeyboardNavigation","applyAccessibilitySettings","announcementRegion","document","createElement","setAttribute","style","cssText","body","appendChild","addEventListener","event","handleKeyboardNavigation","key","handleTabNavigation","handleActivation","handleEscape","handleArrowNavigation","querySelectorAll","activeElement","click","direction","toLowerCase","root","documentElement","classList","remove","setProperty","updateSettings","newSettings","getSettings","announce","text","priority","announcement","shift","getElementById","textContent","playAudioCue","cueType","frequency","oscillator","createOscillator","gainNode","createGain","connect","destination","setValueAtTime","currentTime","gain","linearRampToValueAtTime","start","stop","isPaused","manageFocusOnPause","isRunning","manageFocusDuringGameplay","pauseMenu","querySelector","focus","gameArea","savedSettings","resetSettings","EventBus","listeners","eventHistory","maxHistorySize","debug","performanceMetrics","totalEvents","averageProcessingTime","slowestEvent","eventCounts","callback","options","listener","once","context","b","log","off","eventListeners","findIndex","splice","removeAllListeners","delete","startTime","performance","eventData","generateEventId","addToHistory","updatePerformanceMetrics","listenersToRemove","i","call","console","emitAsync","Promise","resolve","reject","waitFor","timeout","timeoutId","handler","clearTimeout","processingTime","totalTime","toString","substr","getHistory","history","item","since","until","limit","getPerformanceMetrics","clearHistory","resetMetrics","enableDebug","disableDebug","message","getListenerCount","getRegisteredEvents","hasListeners","createFilter","condition","createTransformer","transform","transformedData","destroy","Logger","logLevel","logHistory","totalLogs","logsByLevel","averageLogTime","levels","trace","setLevel","prototype","hasOwnProperty","shouldLog","logEntry","generateLogId","outputLog","timeString","toISOString","contextString","prefix","toUpperCase","operation","endTime","toFixed","memory","used","round","usedJSHeapSize","total","totalJSHeapSize","jsHeapSizeLimit","function","fn","result","functionAsync","eventName","stateChange","to","userAction","action","apiCall","method","url","apiResponse","status","errorWithStack","stack","group","groupAsync","entry","uptime","exportLogs","importLogs","jsonString","logs","isArray","child","childLogger","PerformanceMonitor","enableFPSMonitoring","enableMemoryMonitoring","enableAudioMonitoring","enableRenderingMonitoring","enableInputMonitoring","enableNetworkMonitoring","enableAutoOptimization","fpsTarget","fpsWarningThreshold","fpsCriticalThreshold","memoryWarningThreshold","memoryCriticalThreshold","frameTimeWarningThreshold","frameTimeCriticalThreshold","reportInterval","metrics","fps","current","average","Infinity","max","droppedFrames","frameTime","available","leakDetected","leakCount","audio","contextState","contextRecreations","bufferUnderruns","latency","performanceScore","rendering","drawCalls","triangles","textures","shaders","batchCount","cullingTime","lightingTime","postProcessingTime","input","lag","eventCount","droppedEvents","averageResponseTime","network","bandwidth","packetLoss","connectionQuality","isMonitoring","lastFrameTime","frameCount","lastReportTime","optimizationSuggestions","performanceAlerts","observers","setupPerformanceMonitoring","startMonitoring","stopMonitoring","disconnectObservers","setupFPSMonitoring","setupMemoryMonitoring","setupAudioMonitoring","setupRenderingMonitoring","setupInputMonitoring","setupNetworkMonitoring","handleFrame","handleMemoryUpdate","handleAudioUpdate","handleRenderingUpdate","handleInputUpdate","handleNetworkUpdate","measureFPS","updateFPSMetrics","requestAnimationFrame","measureMemory","updateMemoryMetrics","detectMemoryLeaks","measureAudio","checkAudioContextHealth","measureRendering","updateRenderingMetrics","lastInputTime","measureInput","responseTime","updateInputMetrics","measureNetwork","updateNetworkMetrics","removeEventListener","reduce","checkFPSPerformance","checkMemoryPerformance","updateAudioMetrics","audioData","checkAudioPerformance","checkInputPerformance","addPerformanceAlert","threshold","suggestOptimization","recreations","underruns","recent","isIncreasing","every","alert","category","suggestion","optimization","getPerformanceReport","alerts","suggestions","getPerformanceScore","memoryUsage","updateConfig","newConfig","getMetrics","getAlerts","getOptimizationSuggestions","clearAlerts","clearOptimizationSuggestions","InputManager","mouse","x","y","buttons","wheel","touch","touches","gestures","activeGestures","lastTapTime","lastTapPosition","longPressTimer","doubleTapTimer","mobileUI","virtualJoystick","active","center","position","radius","touchId","actionButtons","isVisible","orientation","gamepad","controllers","lastUpdate","keyMappings","mouseMappings","gamepadMappings","touchMappings","accessibility","focusManagement","tabOrder","currentFocusIndex","focusableElements","skipLinks","mouseSensitivity","keyboardLayout","enableMouseLook","enableKeyboardNavigation","enableGamepad","enableTouch","invertY","deadzone","repeatDelay","repeatRate","mobileControls","enabled","layout","size","opacity","showLabels","hapticFeedback","gestureSensitivity","touchDeadzone","multiTouch","pinchToZoom","swipeThreshold","longPressDelay","doubleTapDelay","enableSwipe","enablePinch","enableRotate","enableLongPress","enableDoubleTap","swipeDirections","pinchThreshold","rotateThreshold","showVirtualJoystick","showActionButtons","showMenuButton","showPauseButton","buttonSpacing","buttonSize","joystickSize","joystickDeadzone","buttonOpacity","buttonPressScale","enableButtonHaptics","boundHandlers","isEnabled","isCaptured","initializeInputMappings","setupAccessibility","setupMobileControls","loadSettingsFromConfig","setupFocusManagement","updateGamepadState","processInputEvents","handleKeyDown","handleKeyUp","handleKeyPress","handleMouseDown","handleMouseUp","handleMouseMove","handleWheel","handleContextMenu","handleTouchStart","handleTouchEnd","handleTouchMove","handleTouchCancel","handleGamepadConnected","handleGamepadDisconnected","handleFocusIn","handleFocusOut","addEventListeners","passive","updateFocusableElements","updateTabOrder","setupSkipLinks","focusableSelectors","elements","join","element","aTabIndex","parseInt","getAttribute","bTabIndex","link","navigator","userAgent","includes","detectMobileDevice","createMobileUI","setupOrientationHandling","setupGestureRecognition","isMobile","test","isTouch","maxTouchPoints","mobileControlsContainer","className","nodeType","createVirtualJoystick","createActionButtons","createMenuButton","createPauseButton","joystickContainer","joystickBase","joystickKnob","base","knob","buttonContainer","label","button","buttonElement","e","preventDefault","handleMobileButtonPress","menuButton","innerHTML","pauseButton","updateOrientation","isPortrait","innerHeight","innerWidth","adjustMobileControlsForOrientation","height","setupBasicGestureDetection","startTouches","startDistance","startAngle","getDistance","getAngle","currentDistance","scale","abs","handlePinchGesture","currentAngle","rotation","handleRotateGesture","checkForSwipe","changedTouches","code","keyName","getKeyName","pressed","repeat","handleAccessibilityKeyDown","keyCode","ctrlKey","shiftKey","altKey","metaKey","handleMappedAction","charCode","buttonName","getMouseButtonName","clientX","clientY","deltaX","deltaY","sensitivity","adjustedDeltaX","adjustedDeltaY","identifier","startX","startY","pressure","force","handleMobileTouchStart","map","handleMobileTouchEnd","touchData","handleMobileTouchMove","connected","axes","indexOf","newIndex","nextElement","gamepads","getGamepads","controller","j","wasPressed","isPressed","axis","previousAxis","adjustedAxis","inputType","mapping","actionName","inputs","keyNames","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Space","Enter","Escape","Backspace","Tab","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","buttonNames","getConfigValue","enable","disable","capture","cursor","release","getInputState","keyboard","setKeyMapping","getKeyMapping","isKeyPressed","keyState","isMouseButtonPressed","buttonState","getMousePosition","getGamepadState","getAllGamepads","isTouchOnVirtualJoystick","activateVirtualJoystick","getTouchedButton","handleGestureStart","updateVirtualJoystick","handleGestureMove","deactivateVirtualJoystick","handleGestureEnd","rect","getBoundingClientRect","left","right","top","bottom","width","distance","sqrt","maxDistance","clampedDistance","angle","atan2","knobX","cos","knobY","sin","normalizedX","normalizedY","finalX","finalY","PI","mapJoystickToKeyboard","synthetic","getButtonKey","buttonId","keyMap","jump","interact","crouch","run","menu","pause","vibrate","timeDiff","handleDoubleTap","handleLongPress","startTouch","endTouch","handleSwipeGesture","touch1","touch2","dx","dy","updateMobileControlsVisibility","visible","display","updateMobileSettings","getMobileControlsState","MobileTesting","inputManager","performanceMonitor","enableAutoTesting","testInterval","gestureTestTimeout","performanceTestDuration","enableAccessibilityTesting","enablePerformanceTesting","enableGestureTesting","enableControlTesting","isTesting","testResults","device","controls","overall","testListeners","setupTestListeners","startAutoTesting","stopAutoTesting","removeTestListeners","isTablet","screenWidth","screen","screenHeight","viewportWidth","viewportHeight","pixelRatio","devicePixelRatio","hasVibration","hasHaptics","hasGeolocation","hasCamera","mediaDevices","hasAccelerometer","hasGyroscope","setupGestureTestListeners","setupControlTestListeners","setupPerformanceTestListeners","setupAccessibilityTestListeners","gestureTests","testTapGesture","testDoubleTapGesture","testLongPressGesture","testSwipeGesture","testPinchGesture","testRotateGesture","controlTests","testVirtualJoystick","testActionButtons","testMenuButton","testPauseButton","testPerformance","testAccessibility","autoTestInterval","setInterval","runAllTests","clearInterval","testAllGestures","testAllControls","calculateOverallScore","gestureNames","gestureName","testGesture","success","testFunction","tapDetected","handleTap","tapCount","longPressDetected","swipeDetected","pinchDetected","currentTouches","rotateDetected","controlNames","controlName","testControl","joystick","offsetParent","accessibilityTests","testScreenReaderSupport","testKeyboardNavigation","testHighContrast","testTextScaling","results","all","tests","overallScore","sum","hasScreenReader","hasAriaSupport","details","hasHighContrast","contains","textScale","getComputedStyle","getPropertyValue","parseFloat","totalScore","testCount","totalTests","passedTests","getTestResults","getTestReport","exportTestResults","GameRefactored","validateConfig","enableAchievements","enableDailyChallenges","enableAccessibility","player","gameObjects","lastUpdateTime","activePowerUps","managers","initializeManagers","mobileTesting","game","dailyChallenges","render","validatedConfig","Boolean","setupManagerCommunication","checkLevelChallenge","checkCollectionChallenge","announceStateChange","manager","gameLoopId","cancelAnimationFrame","pauseTime","resume","updateGameObjects","obj","destroyed","addGameObject","gameObject","object","removeGameObject","gameObjectId","removedObject","getGameState","getManager","getPerformanceMonitor","getInputManager","getMobileTesting","getMobileTestResults"],"mappings":"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"}