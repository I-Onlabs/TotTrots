{
  "version": 3,
  "sources": ["../../../src/systems/ARPGUISystem.js", "../../../src/systems/CombatSystem.js", "../../../src/systems/ProceduralAreaSystem.js", "../../../src/systems/ItemizationSystem.js", "../../../src/systems/EndgameSystem.js", "../../../src/systems/TradingSystem.js", "../../../src/systems/ErrorHandlingSystem.js", "../../../src/systems/MobileOptimizationSystem.js", "../../../src/systems/PerformanceOptimizationSystem.js", "../../../src/ARPGIntegration.js"],
  "sourcesContent": ["/**\n * ARPGUISystem.js - Comprehensive ARPG UI Management System\n *\n * This system handles all ARPG-specific UI components including:\n * - Passive skill tree (100+ nodes)\n * - Skill gem system with socketing\n * - Character customization and stats\n * - Inventory management\n * - Trading system\n * - Item socketing interface\n * - Combat UI enhancements\n */\n\nexport class ARPGUISystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('ARPGUISystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('ARPGUISystem requires logger dependency');\n    }\n\n    // UI State\n    this.uiState = {\n      isOpen: false,\n      currentTab: 'character',\n      skillTreeOpen: false,\n      inventoryOpen: false,\n      tradingOpen: false,\n      gemSocketingOpen: false,\n      selectedItem: null,\n      selectedGem: null,\n    };\n\n    // Character stats and progression\n    this.character = {\n      level: 1,\n      experience: 0,\n      experienceToNext: 100,\n      skillPoints: 0,\n      attributePoints: 0,\n      attributes: {\n        strength: 10,\n        dexterity: 10,\n        intelligence: 10,\n        vitality: 10,\n        wisdom: 10,\n        charisma: 10,\n      },\n      stats: {\n        health: 100,\n        maxHealth: 100,\n        mana: 50,\n        maxMana: 50,\n        damage: 10,\n        armor: 0,\n        criticalChance: 0.05,\n        criticalMultiplier: 1.5,\n        attackSpeed: 1.0,\n        movementSpeed: 1.0,\n        manaRegen: 1.0,\n        healthRegen: 0.5,\n      },\n      skills: new Map(),\n      equippedItems: new Map(),\n      inventory: [],\n      gems: [],\n    };\n\n    // Passive skill tree data (100+ nodes)\n    this.skillTree = this.initializeSkillTree();\n    \n    // Skill gem system\n    this.skillGems = this.initializeSkillGems();\n    \n    // Item socketing system\n    this.socketingSystem = this.initializeSocketingSystem();\n    \n    // Trading system\n    this.tradingSystem = this.initializeTradingSystem();\n\n    // UI elements cache\n    this.uiElements = new Map();\n    \n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('ARPGUISystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing ARPGUISystem...');\n    \n    // Create UI elements\n    this.createUIElements();\n    \n    // Set up event listeners\n    this.setupUIEventListeners();\n    \n    // Load character data\n    await this.loadCharacterData();\n    \n    this.logger.info('ARPGUISystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up ARPGUISystem...');\n    \n    // Save character data\n    this.saveCharacterData();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    // Clear UI elements\n    this.clearUIElements();\n    \n    this.logger.info('ARPGUISystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update character stats based on attributes\n    this.updateCharacterStats();\n    \n    // Update UI animations\n    this.updateUIAnimations(deltaTime);\n    \n    // Update skill cooldowns\n    this.updateSkillCooldowns(deltaTime);\n  }\n\n  /**\n   * Initialize the passive skill tree with 100+ nodes\n   */\n  initializeSkillTree() {\n    return {\n      // Combat tree (30 nodes)\n      combat: {\n        name: 'Combat Mastery',\n        description: 'Enhance your combat abilities',\n        nodes: [\n          // Basic combat nodes\n          { id: 'basic_attack', name: 'Basic Attack', description: 'Increases basic attack damage by 10%', cost: 1, maxLevel: 5, level: 0, prerequisites: [] },\n          { id: 'weapon_mastery', name: 'Weapon Mastery', description: 'Increases weapon damage by 15%', cost: 2, maxLevel: 3, level: 0, prerequisites: ['basic_attack'] },\n          { id: 'critical_strike', name: 'Critical Strike', description: 'Increases critical hit chance by 5%', cost: 2, maxLevel: 5, level: 0, prerequisites: ['basic_attack'] },\n          { id: 'critical_damage', name: 'Critical Damage', description: 'Increases critical hit damage by 25%', cost: 3, maxLevel: 3, level: 0, prerequisites: ['critical_strike'] },\n          { id: 'attack_speed', name: 'Attack Speed', description: 'Increases attack speed by 10%', cost: 2, maxLevel: 5, level: 0, prerequisites: ['weapon_mastery'] },\n          { id: 'dual_wield', name: 'Dual Wield', description: 'Allows dual wielding weapons', cost: 5, maxLevel: 1, level: 0, prerequisites: ['weapon_mastery', 'attack_speed'] },\n          { id: 'berserker', name: 'Berserker', description: 'Damage increases as health decreases', cost: 4, maxLevel: 3, level: 0, prerequisites: ['critical_damage'] },\n          { id: 'executioner', name: 'Executioner', description: 'Deal 50% more damage to enemies below 25% health', cost: 5, maxLevel: 1, level: 0, prerequisites: ['berserker'] },\n          { id: 'combo_master', name: 'Combo Master', description: 'Each consecutive hit increases damage by 10%', cost: 3, maxLevel: 5, level: 0, prerequisites: ['attack_speed'] },\n          { id: 'finisher', name: 'Finisher', description: 'Final hit in combo deals 200% damage', cost: 4, maxLevel: 1, level: 0, prerequisites: ['combo_master'] },\n          \n          // Advanced combat nodes\n          { id: 'weapon_specialization', name: 'Weapon Specialization', description: 'Choose a weapon type for 25% damage bonus', cost: 6, maxLevel: 1, level: 0, prerequisites: ['dual_wield'] },\n          { id: 'battle_fury', name: 'Battle Fury', description: 'Kills grant 20% attack speed for 5 seconds', cost: 4, maxLevel: 3, level: 0, prerequisites: ['executioner'] },\n          { id: 'bloodthirst', name: 'Bloodthirst', description: 'Heal for 10% of damage dealt', cost: 5, maxLevel: 3, level: 0, prerequisites: ['battle_fury'] },\n          { id: 'devastating_blow', name: 'Devastating Blow', description: '10% chance to deal 300% damage', cost: 6, maxLevel: 2, level: 0, prerequisites: ['finisher'] },\n          { id: 'whirlwind', name: 'Whirlwind', description: 'Attack all enemies in radius', cost: 8, maxLevel: 1, level: 0, prerequisites: ['devastating_blow'] },\n          { id: 'lethal_precision', name: 'Lethal Precision', description: 'Critical hits have 25% chance to instantly kill', cost: 10, maxLevel: 1, level: 0, prerequisites: ['whirlwind'] },\n          \n          // Mastery nodes\n          { id: 'combat_mastery', name: 'Combat Mastery', description: 'All combat skills gain +1 level', cost: 15, maxLevel: 1, level: 0, prerequisites: ['lethal_precision'] },\n          { id: 'weapon_legend', name: 'Weapon Legend', description: 'Weapon damage increased by 50%', cost: 12, maxLevel: 1, level: 0, prerequisites: ['weapon_specialization', 'combat_mastery'] },\n          { id: 'death_dealer', name: 'Death Dealer', description: 'Killing an enemy grants 50% damage for 10 seconds', cost: 15, maxLevel: 1, level: 0, prerequisites: ['bloodthirst', 'combat_mastery'] },\n          { id: 'unstoppable_force', name: 'Unstoppable Force', description: 'Cannot be stunned, immune to crowd control', cost: 20, maxLevel: 1, level: 0, prerequisites: ['weapon_legend', 'death_dealer'] },\n          \n          // Additional combat nodes to reach 30\n          { id: 'quick_strike', name: 'Quick Strike', description: 'First attack in combat deals 150% damage', cost: 2, maxLevel: 3, level: 0, prerequisites: ['basic_attack'] },\n          { id: 'power_attack', name: 'Power Attack', description: 'Slower but more powerful attacks', cost: 3, maxLevel: 3, level: 0, prerequisites: ['weapon_mastery'] },\n          { id: 'counter_attack', name: 'Counter Attack', description: 'Blocking an attack allows instant counter', cost: 4, maxLevel: 2, level: 0, prerequisites: ['power_attack'] },\n          { id: 'riposte', name: 'Riposte', description: 'Counter attacks deal 200% damage', cost: 5, maxLevel: 1, level: 0, prerequisites: ['counter_attack'] },\n          { id: 'flurry', name: 'Flurry', description: 'Rapid attacks with reduced damage', cost: 3, maxLevel: 4, level: 0, prerequisites: ['attack_speed'] },\n          { id: 'momentum', name: 'Momentum', description: 'Each hit increases next attack speed', cost: 4, maxLevel: 3, level: 0, prerequisites: ['flurry'] },\n          { id: 'crescendo', name: 'Crescendo', name: 'Final attack in momentum chain deals 500% damage', cost: 6, maxLevel: 1, level: 0, prerequisites: ['momentum'] },\n          { id: 'savage_roar', name: 'Savage Roar', description: 'Intimidate enemies, reducing their damage', cost: 5, maxLevel: 2, level: 0, prerequisites: ['berserker'] },\n          { id: 'battle_cry', name: 'Battle Cry', description: 'Allies gain 25% damage for 10 seconds', cost: 6, maxLevel: 1, level: 0, prerequisites: ['savage_roar'] },\n          { id: 'war_cry', name: 'War Cry', description: 'Enemies take 50% more damage for 15 seconds', cost: 8, maxLevel: 1, level: 0, prerequisites: ['battle_cry'] }\n        ]\n      },\n      \n      // Defense tree (25 nodes)\n      defense: {\n        name: 'Defense Mastery',\n        description: 'Enhance your defensive capabilities',\n        nodes: [\n          // Basic defense nodes\n          { id: 'armor_mastery', name: 'Armor Mastery', description: 'Increases armor by 20%', cost: 1, maxLevel: 5, level: 0, prerequisites: [] },\n          { id: 'shield_block', name: 'Shield Block', description: '25% chance to block incoming attacks', cost: 2, maxLevel: 3, level: 0, prerequisites: ['armor_mastery'] },\n          { id: 'damage_reduction', name: 'Damage Reduction', description: 'Reduces all damage by 5%', cost: 2, maxLevel: 5, level: 0, prerequisites: ['armor_mastery'] },\n          { id: 'health_boost', name: 'Health Boost', description: 'Increases maximum health by 15%', cost: 2, maxLevel: 5, level: 0, prerequisites: [] },\n          { id: 'regeneration', name: 'Regeneration', description: 'Regenerate 2% health per second', cost: 3, maxLevel: 3, level: 0, prerequisites: ['health_boost'] },\n          { id: 'tough_skin', name: 'Tough Skin', description: 'Reduces physical damage by 10%', cost: 3, maxLevel: 3, level: 0, prerequisites: ['damage_reduction'] },\n          { id: 'magic_resistance', name: 'Magic Resistance', description: 'Reduces magical damage by 15%', cost: 3, maxLevel: 3, level: 0, prerequisites: ['damage_reduction'] },\n          { id: 'evasion', name: 'Evasion', description: '10% chance to completely avoid attacks', cost: 4, maxLevel: 3, level: 0, prerequisites: ['shield_block'] },\n          { id: 'dodge_master', name: 'Dodge Master', description: 'Evasion chance increased by 15%', cost: 5, maxLevel: 2, level: 0, prerequisites: ['evasion'] },\n          { id: 'perfect_dodge', name: 'Perfect Dodge', description: 'Dodging grants 50% damage for 3 seconds', cost: 6, maxLevel: 1, level: 0, prerequisites: ['dodge_master'] },\n          \n          // Advanced defense nodes\n          { id: 'fortress', name: 'Fortress', description: 'Standing still increases armor by 100%', cost: 5, maxLevel: 2, level: 0, prerequisites: ['tough_skin'] },\n          { id: 'immovable', name: 'Immovable', description: 'Cannot be knocked back or stunned', cost: 6, maxLevel: 1, level: 0, prerequisites: ['fortress'] },\n          { id: 'damage_reflection', name: 'Damage Reflection', description: 'Reflect 25% of damage taken back to attacker', cost: 7, maxLevel: 2, level: 0, prerequisites: ['magic_resistance'] },\n          { id: 'thorns', name: 'Thorns', description: 'Melee attackers take 50 damage', cost: 4, maxLevel: 3, level: 0, prerequisites: ['damage_reflection'] },\n          { id: 'retaliation', name: 'Retaliation', description: 'Taking damage increases next attack by 100%', cost: 5, maxLevel: 2, level: 0, prerequisites: ['thorns'] },\n          { id: 'last_stand', name: 'Last Stand', description: 'At 25% health, gain 200% damage and 100% armor', cost: 8, maxLevel: 1, level: 0, prerequisites: ['retaliation'] },\n          { id: 'guardian', name: 'Guardian', description: 'Nearby allies take 25% less damage', cost: 6, maxLevel: 2, level: 0, prerequisites: ['immovable'] },\n          { id: 'protector', name: 'Protector', description: 'Allies gain 50% of your armor', cost: 7, maxLevel: 1, level: 0, prerequisites: ['guardian'] },\n          { id: 'defensive_mastery', name: 'Defensive Mastery', description: 'All defense skills gain +1 level', cost: 15, maxLevel: 1, level: 0, prerequisites: ['last_stand', 'protector'] },\n          \n          // Additional defense nodes to reach 25\n          { id: 'endurance', name: 'Endurance', description: 'Reduces stamina cost of abilities by 20%', cost: 2, maxLevel: 3, level: 0, prerequisites: ['health_boost'] },\n          { id: 'iron_will', name: 'Iron Will', description: 'Immune to fear and charm effects', cost: 4, maxLevel: 1, level: 0, prerequisites: ['endurance'] },\n          { id: 'unbreakable', name: 'Unbreakable', description: 'Cannot be killed by a single attack', cost: 8, maxLevel: 1, level: 0, prerequisites: ['iron_will'] },\n          { id: 'resilience', name: 'Resilience', description: 'Status effects last 50% less time', cost: 3, maxLevel: 3, level: 0, prerequisites: ['magic_resistance'] },\n          { id: 'adaptation', name: 'Adaptation', description: 'Gain resistance to damage types you take', cost: 5, maxLevel: 2, level: 0, prerequisites: ['resilience'] },\n          { id: 'immunity', name: 'Immunity', description: 'Become immune to the most common damage type', cost: 10, maxLevel: 1, level: 0, prerequisites: ['adaptation'] }\n        ]\n      },\n      \n      // Utility tree (25 nodes)\n      utility: {\n        name: 'Utility Mastery',\n        description: 'Enhance your utility and support abilities',\n        nodes: [\n          // Basic utility nodes\n          { id: 'movement_speed', name: 'Movement Speed', description: 'Increases movement speed by 10%', cost: 1, maxLevel: 5, level: 0, prerequisites: [] },\n          { id: 'jump_height', name: 'Jump Height', description: 'Increases jump height by 20%', cost: 1, maxLevel: 3, level: 0, prerequisites: ['movement_speed'] },\n          { id: 'climbing', name: 'Climbing', description: 'Can climb walls and obstacles', cost: 3, maxLevel: 1, level: 0, prerequisites: ['jump_height'] },\n          { id: 'swimming', name: 'Swimming', description: 'Move faster in water', cost: 2, maxLevel: 3, level: 0, prerequisites: ['movement_speed'] },\n          { id: 'stealth', name: 'Stealth', description: 'Become invisible for 5 seconds', cost: 4, maxLevel: 3, level: 0, prerequisites: [] },\n          { id: 'detection', name: 'Detection', description: 'See hidden enemies and traps', cost: 3, maxLevel: 2, level: 0, prerequisites: ['stealth'] },\n          { id: 'lockpicking', name: 'Lockpicking', description: 'Open locked chests and doors', cost: 2, maxLevel: 3, level: 0, prerequisites: [] },\n          { id: 'treasure_hunter', name: 'Treasure Hunter', description: 'Find more valuable loot', cost: 3, maxLevel: 3, level: 0, prerequisites: ['lockpicking'] },\n          { id: 'bargaining', name: 'Bargaining', description: 'Buy items for 20% less, sell for 20% more', cost: 2, maxLevel: 3, level: 0, prerequisites: [] },\n          { id: 'charisma', name: 'Charisma', description: 'NPCs are more friendly and helpful', cost: 3, maxLevel: 2, level: 0, prerequisites: ['bargaining'] },\n          \n          // Advanced utility nodes\n          { id: 'teleport', name: 'Teleport', description: 'Instantly move to any visited location', cost: 8, maxLevel: 1, level: 0, prerequisites: ['climbing', 'swimming'] },\n          { id: 'time_dilation', name: 'Time Dilation', description: 'Slow down time for 10 seconds', cost: 10, maxLevel: 1, level: 0, prerequisites: ['detection'] },\n          { id: 'phase_shift', name: 'Phase Shift', description: 'Become intangible for 3 seconds', cost: 6, maxLevel: 2, level: 0, prerequisites: ['stealth'] },\n          { id: 'shadow_step', name: 'Shadow Step', description: 'Teleport behind the nearest enemy', cost: 7, maxLevel: 1, level: 0, prerequisites: ['phase_shift'] },\n          { id: 'utility_mastery', name: 'Utility Mastery', description: 'All utility skills gain +1 level', cost: 15, maxLevel: 1, level: 0, prerequisites: ['teleport', 'time_dilation', 'shadow_step'] },\n          \n          // Additional utility nodes to reach 25\n          { id: 'night_vision', name: 'Night Vision', description: 'See clearly in darkness', cost: 2, maxLevel: 2, level: 0, prerequisites: ['detection'] },\n          { id: 'eagle_eye', name: 'Eagle Eye', description: 'See enemies from much farther away', cost: 4, maxLevel: 1, level: 0, prerequisites: ['night_vision'] },\n          { id: 'quick_hands', name: 'Quick Hands', description: 'Use items and abilities 50% faster', cost: 3, maxLevel: 3, level: 0, prerequisites: ['movement_speed'] },\n          { id: 'nimble_fingers', name: 'Nimble Fingers', description: 'Pickpocket and disarm traps', cost: 4, maxLevel: 2, level: 0, prerequisites: ['quick_hands'] },\n          { id: 'master_thief', name: 'Master Thief', description: 'Steal from enemies without being detected', cost: 6, maxLevel: 1, level: 0, prerequisites: ['nimble_fingers'] },\n          { id: 'diplomat', name: 'Diplomat', description: 'Resolve conflicts without fighting', cost: 5, maxLevel: 2, level: 0, prerequisites: ['charisma'] },\n          { id: 'peacemaker', name: 'Peacemaker', description: 'Stop combat between NPCs', cost: 7, maxLevel: 1, level: 0, prerequisites: ['diplomat'] },\n          { id: 'survivalist', name: 'Survivalist', description: 'Find food and water in wilderness', cost: 3, maxLevel: 2, level: 0, prerequisites: ['treasure_hunter'] },\n          { id: 'tracker', name: 'Tracker', description: 'Follow enemy tracks and trails', cost: 4, maxLevel: 2, level: 0, prerequisites: ['survivalist'] },\n          { id: 'beast_master', name: 'Beast Master', description: 'Tame and command animals', cost: 8, maxLevel: 1, level: 0, prerequisites: ['tracker'] }\n        ]\n      },\n      \n      // Specialization trees (20 nodes each)\n      warrior: {\n        name: 'Warrior Specialization',\n        description: 'Master the art of melee combat',\n        nodes: [\n          { id: 'berserker_rage', name: 'Berserker Rage', description: 'Enter rage mode, increasing damage and speed', cost: 5, maxLevel: 3, level: 0, prerequisites: [] },\n          { id: 'battle_cry', name: 'Battle Cry', description: 'Intimidate enemies and boost allies', cost: 4, maxLevel: 2, level: 0, prerequisites: ['berserker_rage'] },\n          { id: 'weapon_expertise', name: 'Weapon Expertise', description: 'Master specific weapon types', cost: 6, maxLevel: 1, level: 0, prerequisites: ['battle_cry'] },\n          { id: 'tactical_mind', name: 'Tactical Mind', description: 'Plan attacks for maximum effectiveness', cost: 5, maxLevel: 2, level: 0, prerequisites: ['weapon_expertise'] },\n          { id: 'war_master', name: 'War Master', description: 'Ultimate warrior abilities', cost: 10, maxLevel: 1, level: 0, prerequisites: ['tactical_mind'] },\n          // Additional warrior nodes...\n        ]\n      },\n      \n      mage: {\n        name: 'Mage Specialization',\n        description: 'Master the arcane arts',\n        nodes: [\n          { id: 'spell_casting', name: 'Spell Casting', description: 'Cast powerful magical spells', cost: 5, maxLevel: 3, level: 0, prerequisites: [] },\n          { id: 'mana_mastery', name: 'Mana Mastery', description: 'Efficient mana usage and regeneration', cost: 4, maxLevel: 2, level: 0, prerequisites: ['spell_casting'] },\n          { id: 'elemental_mastery', name: 'Elemental Mastery', description: 'Control fire, ice, and lightning', cost: 6, maxLevel: 1, level: 0, prerequisites: ['mana_mastery'] },\n          { id: 'arcane_knowledge', name: 'Arcane Knowledge', description: 'Learn ancient magical secrets', cost: 5, maxLevel: 2, level: 0, prerequisites: ['elemental_mastery'] },\n          { id: 'archmage', name: 'Archmage', description: 'Ultimate magical abilities', cost: 10, maxLevel: 1, level: 0, prerequisites: ['arcane_knowledge'] },\n          // Additional mage nodes...\n        ]\n      },\n      \n      rogue: {\n        name: 'Rogue Specialization',\n        description: 'Master stealth and precision',\n        nodes: [\n          { id: 'stealth_mastery', name: 'Stealth Mastery', description: 'Advanced stealth techniques', cost: 5, maxLevel: 3, level: 0, prerequisites: [] },\n          { id: 'assassination', name: 'Assassination', description: 'Deadly precision strikes', cost: 4, maxLevel: 2, level: 0, prerequisites: ['stealth_mastery'] },\n          { id: 'poison_mastery', name: 'Poison Mastery', description: 'Craft and apply deadly poisons', cost: 6, maxLevel: 1, level: 0, prerequisites: ['assassination'] },\n          { id: 'shadow_arts', name: 'Shadow Arts', description: 'Manipulate shadows and darkness', cost: 5, maxLevel: 2, level: 0, prerequisites: ['poison_mastery'] },\n          { id: 'shadow_master', name: 'Shadow Master', description: 'Ultimate rogue abilities', cost: 10, maxLevel: 1, level: 0, prerequisites: ['shadow_arts'] },\n          // Additional rogue nodes...\n        ]\n      }\n    };\n  }\n\n  /**\n   * Initialize skill gem system\n   */\n  initializeSkillGems() {\n    return {\n      // Basic gems\n      basic: [\n        { id: 'fire_ball', name: 'Fire Ball', description: 'Launch a fireball at enemies', type: 'offensive', level: 1, rarity: 'common', effects: { damage: 50, element: 'fire' } },\n        { id: 'heal', name: 'Heal', description: 'Restore health over time', type: 'support', level: 1, rarity: 'common', effects: { healing: 25, duration: 5 } },\n        { id: 'shield', name: 'Shield', description: 'Create a protective barrier', type: 'defensive', level: 1, rarity: 'common', effects: { absorption: 100, duration: 10 } },\n        { id: 'speed_boost', name: 'Speed Boost', description: 'Increase movement speed', type: 'utility', level: 1, rarity: 'common', effects: { speed: 1.5, duration: 8 } },\n      ],\n      \n      // Advanced gems\n      advanced: [\n        { id: 'meteor', name: 'Meteor', description: 'Summon a meteor from the sky', type: 'offensive', level: 3, rarity: 'rare', effects: { damage: 200, area: 100, element: 'fire' } },\n        { id: 'regeneration', name: 'Regeneration', description: 'Continuous health regeneration', type: 'support', level: 3, rarity: 'rare', effects: { healing: 10, duration: 30 } },\n        { id: 'barrier', name: 'Barrier', description: 'Absorb all damage for a short time', type: 'defensive', level: 3, rarity: 'rare', effects: { absorption: 500, duration: 5 } },\n        { id: 'teleport', name: 'Teleport', description: 'Instantly move to target location', type: 'utility', level: 3, rarity: 'rare', effects: { range: 200 } },\n      ],\n      \n      // Legendary gems\n      legendary: [\n        { id: 'apocalypse', name: 'Apocalypse', description: 'Devastating area damage spell', type: 'offensive', level: 5, rarity: 'legendary', effects: { damage: 1000, area: 300, element: 'all' } },\n        { id: 'immortality', name: 'Immortality', description: 'Become invulnerable for a short time', type: 'defensive', level: 5, rarity: 'legendary', effects: { invulnerability: true, duration: 10 } },\n        { id: 'time_stop', name: 'Time Stop', description: 'Stop time for all enemies', type: 'utility', level: 5, rarity: 'legendary', effects: { duration: 15 } },\n      ]\n    };\n  }\n\n  /**\n   * Initialize socketing system\n   */\n  initializeSocketingSystem() {\n    return {\n      socketTypes: ['weapon', 'armor', 'accessory', 'gem'],\n      maxSockets: {\n        weapon: 6,\n        armor: 4,\n        accessory: 2,\n        gem: 1\n      },\n      socketRules: {\n        weapon: ['offensive', 'utility'],\n        armor: ['defensive', 'support'],\n        accessory: ['utility', 'support'],\n        gem: ['all']\n      }\n    };\n  }\n\n  /**\n   * Initialize trading system\n   */\n  initializeTradingSystem() {\n    return {\n      isEnabled: true,\n      tradeChannels: ['global', 'guild', 'whisper'],\n      maxTradeValue: 1000000,\n      tradeTax: 0.05, // 5% tax on trades\n      reputation: {\n        level: 0,\n        points: 0,\n        benefits: []\n      }\n    };\n  }\n\n  /**\n   * Create UI elements\n   */\n  createUIElements() {\n    // Main ARPG UI container\n    const mainContainer = document.createElement('div');\n    mainContainer.id = 'arpg-ui-container';\n    mainContainer.className = 'arpg-ui-container';\n    mainContainer.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      display: none;\n      z-index: 1000;\n    `;\n\n    // Character panel\n    const characterPanel = this.createCharacterPanel();\n    mainContainer.appendChild(characterPanel);\n\n    // Skill tree panel\n    const skillTreePanel = this.createSkillTreePanel();\n    mainContainer.appendChild(skillTreePanel);\n\n    // Inventory panel\n    const inventoryPanel = this.createInventoryPanel();\n    mainContainer.appendChild(inventoryPanel);\n\n    // Trading panel\n    const tradingPanel = this.createTradingPanel();\n    mainContainer.appendChild(tradingPanel);\n\n    // Gem socketing panel\n    const socketingPanel = this.createSocketingPanel();\n    mainContainer.appendChild(socketingPanel);\n\n    document.body.appendChild(mainContainer);\n    this.uiElements.set('mainContainer', mainContainer);\n  }\n\n  /**\n   * Create character panel\n   */\n  createCharacterPanel() {\n    const panel = document.createElement('div');\n    panel.id = 'character-panel';\n    panel.className = 'character-panel';\n    panel.style.cssText = `\n      position: absolute;\n      top: 50px;\n      left: 50px;\n      width: 400px;\n      height: 600px;\n      background: linear-gradient(135deg, #2c3e50, #34495e);\n      border: 2px solid #3498db;\n      border-radius: 10px;\n      padding: 20px;\n      color: white;\n      font-family: 'Arial', sans-serif;\n    `;\n\n    // Character stats display\n    const statsHTML = `\n      <div class=\"character-header\">\n        <h2>Character</h2>\n        <div class=\"level-display\">\n          <span>Level: <span id=\"character-level\">${this.character.level}</span></span>\n          <div class=\"exp-bar\">\n            <div class=\"exp-fill\" style=\"width: ${(this.character.experience / this.character.experienceToNext) * 100}%\"></div>\n          </div>\n          <span>XP: <span id=\"character-exp\">${this.character.experience}</span>/<span id=\"character-exp-max\">${this.character.experienceToNext}</span></span>\n        </div>\n      </div>\n      \n      <div class=\"attributes-section\">\n        <h3>Attributes</h3>\n        <div class=\"attribute-list\">\n          ${Object.entries(this.character.attributes).map(([attr, value]) => `\n            <div class=\"attribute-item\">\n              <span class=\"attr-name\">${attr.charAt(0).toUpperCase() + attr.slice(1)}:</span>\n              <span class=\"attr-value\">${value}</span>\n              <button class=\"attr-increase\" data-attr=\"${attr}\">+</button>\n            </div>\n          `).join('')}\n        </div>\n        <div class=\"attribute-points\">\n          Available Points: <span id=\"attr-points\">${this.character.attributePoints}</span>\n        </div>\n      </div>\n      \n      <div class=\"stats-section\">\n        <h3>Stats</h3>\n        <div class=\"stat-list\">\n          ${Object.entries(this.character.stats).map(([stat, value]) => `\n            <div class=\"stat-item\">\n              <span class=\"stat-name\">${stat.charAt(0).toUpperCase() + stat.slice(1)}:</span>\n              <span class=\"stat-value\">${value}</span>\n            </div>\n          `).join('')}\n        </div>\n      </div>\n      \n      <div class=\"equipment-section\">\n        <h3>Equipment</h3>\n        <div class=\"equipment-grid\">\n          <div class=\"equipment-slot\" data-slot=\"helmet\">Helmet</div>\n          <div class=\"equipment-slot\" data-slot=\"weapon\">Weapon</div>\n          <div class=\"equipment-slot\" data-slot=\"armor\">Armor</div>\n          <div class=\"equipment-slot\" data-slot=\"gloves\">Gloves</div>\n          <div class=\"equipment-slot\" data-slot=\"boots\">Boots</div>\n          <div class=\"equipment-slot\" data-slot=\"ring1\">Ring 1</div>\n          <div class=\"equipment-slot\" data-slot=\"ring2\">Ring 2</div>\n          <div class=\"equipment-slot\" data-slot=\"amulet\">Amulet</div>\n        </div>\n      </div>\n    `;\n\n    panel.innerHTML = statsHTML;\n    return panel;\n  }\n\n  /**\n   * Create skill tree panel\n   */\n  createSkillTreePanel() {\n    const panel = document.createElement('div');\n    panel.id = 'skill-tree-panel';\n    panel.className = 'skill-tree-panel';\n    panel.style.cssText = `\n      position: absolute;\n      top: 50px;\n      left: 500px;\n      width: 800px;\n      height: 600px;\n      background: linear-gradient(135deg, #2c3e50, #34495e);\n      border: 2px solid #e74c3c;\n      border-radius: 10px;\n      padding: 20px;\n      color: white;\n      font-family: 'Arial', sans-serif;\n      display: none;\n    `;\n\n    // Skill tree tabs\n    const tabsHTML = `\n      <div class=\"skill-tree-tabs\">\n        ${Object.keys(this.skillTree).map(treeName => `\n          <button class=\"skill-tree-tab ${treeName === 'combat' ? 'active' : ''}\" data-tree=\"${treeName}\">\n            ${this.skillTree[treeName].name}\n          </button>\n        `).join('')}\n      </div>\n      \n      <div class=\"skill-tree-content\">\n        <div class=\"skill-tree-header\">\n          <h3 id=\"current-tree-name\">Combat Mastery</h3>\n          <p id=\"current-tree-desc\">Enhance your combat abilities</p>\n          <div class=\"skill-points\">\n            Available Points: <span id=\"skill-points\">${this.character.skillPoints}</span>\n          </div>\n        </div>\n        \n        <div class=\"skill-tree-nodes\" id=\"skill-tree-nodes\">\n          <!-- Nodes will be dynamically generated -->\n        </div>\n      </div>\n    `;\n\n    panel.innerHTML = tabsHTML;\n    return panel;\n  }\n\n  /**\n   * Create inventory panel\n   */\n  createInventoryPanel() {\n    const panel = document.createElement('div');\n    panel.id = 'inventory-panel';\n    panel.className = 'inventory-panel';\n    panel.style.cssText = `\n      position: absolute;\n      top: 50px;\n      right: 50px;\n      width: 400px;\n      height: 600px;\n      background: linear-gradient(135deg, #2c3e50, #34495e);\n      border: 2px solid #f39c12;\n      border-radius: 10px;\n      padding: 20px;\n      color: white;\n      font-family: 'Arial', sans-serif;\n      display: none;\n    `;\n\n    const inventoryHTML = `\n      <div class=\"inventory-header\">\n        <h3>Inventory</h3>\n        <div class=\"inventory-tabs\">\n          <button class=\"inv-tab active\" data-tab=\"items\">Items</button>\n          <button class=\"inv-tab\" data-tab=\"gems\">Gems</button>\n          <button class=\"inv-tab\" data-tab=\"materials\">Materials</button>\n        </div>\n      </div>\n      \n      <div class=\"inventory-grid\" id=\"inventory-grid\">\n        <!-- Inventory slots will be dynamically generated -->\n      </div>\n      \n      <div class=\"inventory-info\">\n        <div class=\"item-details\" id=\"item-details\">\n          <!-- Item details will be shown here -->\n        </div>\n      </div>\n    `;\n\n    panel.innerHTML = inventoryHTML;\n    return panel;\n  }\n\n  /**\n   * Create trading panel\n   */\n  createTradingPanel() {\n    const panel = document.createElement('div');\n    panel.id = 'trading-panel';\n    panel.className = 'trading-panel';\n    panel.style.cssText = `\n      position: absolute;\n      top: 50px;\n      left: 50%;\n      transform: translateX(-50%);\n      width: 600px;\n      height: 500px;\n      background: linear-gradient(135deg, #2c3e50, #34495e);\n      border: 2px solid #9b59b6;\n      border-radius: 10px;\n      padding: 20px;\n      color: white;\n      font-family: 'Arial', sans-serif;\n      display: none;\n    `;\n\n    const tradingHTML = `\n      <div class=\"trading-header\">\n        <h3>Player Trading</h3>\n        <button class=\"close-trading\">×</button>\n      </div>\n      \n      <div class=\"trading-content\">\n        <div class=\"trade-channels\">\n          <button class=\"channel-btn active\" data-channel=\"global\">Global</button>\n          <button class=\"channel-btn\" data-channel=\"guild\">Guild</button>\n          <button class=\"channel-btn\" data-channel=\"whisper\">Whisper</button>\n        </div>\n        \n        <div class=\"trade-offers\" id=\"trade-offers\">\n          <!-- Trade offers will be listed here -->\n        </div>\n        \n        <div class=\"create-trade\">\n          <h4>Create Trade Offer</h4>\n          <div class=\"trade-form\">\n            <input type=\"text\" placeholder=\"Item to trade\" id=\"trade-item\">\n            <input type=\"text\" placeholder=\"Item wanted\" id=\"trade-wanted\">\n            <button id=\"create-trade-btn\">Create Offer</button>\n          </div>\n        </div>\n      </div>\n    `;\n\n    panel.innerHTML = tradingHTML;\n    return panel;\n  }\n\n  /**\n   * Create socketing panel\n   */\n  createSocketingPanel() {\n    const panel = document.createElement('div');\n    panel.id = 'socketing-panel';\n    panel.className = 'socketing-panel';\n    panel.style.cssText = `\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 500px;\n      height: 400px;\n      background: linear-gradient(135deg, #2c3e50, #34495e);\n      border: 2px solid #1abc9c;\n      border-radius: 10px;\n      padding: 20px;\n      color: white;\n      font-family: 'Arial', sans-serif;\n      display: none;\n    `;\n\n    const socketingHTML = `\n      <div class=\"socketing-header\">\n        <h3>Gem Socketing</h3>\n        <button class=\"close-socketing\">×</button>\n      </div>\n      \n      <div class=\"socketing-content\">\n        <div class=\"item-sockets\">\n          <h4>Item Sockets</h4>\n          <div class=\"socket-grid\" id=\"socket-grid\">\n            <!-- Sockets will be dynamically generated -->\n          </div>\n        </div>\n        \n        <div class=\"available-gems\">\n          <h4>Available Gems</h4>\n          <div class=\"gem-list\" id=\"gem-list\">\n            <!-- Gems will be dynamically generated -->\n          </div>\n        </div>\n        \n        <div class=\"socketing-actions\">\n          <button id=\"socket-gem\" disabled>Socket Gem</button>\n          <button id=\"remove-gem\">Remove Gem</button>\n        </div>\n      </div>\n    `;\n\n    panel.innerHTML = socketingHTML;\n    return panel;\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Character events\n    this.eventBus.on('character:levelUp', this.handleLevelUp.bind(this));\n    this.eventBus.on('character:attributeChanged', this.handleAttributeChange.bind(this));\n    this.eventBus.on('character:skillLearned', this.handleSkillLearned.bind(this));\n    \n    // Item events\n    this.eventBus.on('item:equipped', this.handleItemEquipped.bind(this));\n    this.eventBus.on('item:unequipped', this.handleItemUnequipped.bind(this));\n    this.eventBus.on('item:gemSocketed', this.handleGemSocketed.bind(this));\n    \n    // Trading events\n    this.eventBus.on('trade:offerCreated', this.handleTradeOfferCreated.bind(this));\n    this.eventBus.on('trade:offerAccepted', this.handleTradeOfferAccepted.bind(this));\n    \n    // UI events\n    this.eventBus.on('ui:openARPG', this.openARPGUI.bind(this));\n    this.eventBus.on('ui:closeARPG', this.closeARPGUI.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('character:levelUp', this.handleLevelUp.bind(this));\n    this.eventBus.removeListener('character:attributeChanged', this.handleAttributeChange.bind(this));\n    this.eventBus.removeListener('character:skillLearned', this.handleSkillLearned.bind(this));\n    this.eventBus.removeListener('item:equipped', this.handleItemEquipped.bind(this));\n    this.eventBus.removeListener('item:unequipped', this.handleItemUnequipped.bind(this));\n    this.eventBus.removeListener('item:gemSocketed', this.handleGemSocketed.bind(this));\n    this.eventBus.removeListener('trade:offerCreated', this.handleTradeOfferCreated.bind(this));\n    this.eventBus.removeListener('trade:offerAccepted', this.handleTradeOfferAccepted.bind(this));\n    this.eventBus.removeListener('ui:openARPG', this.openARPGUI.bind(this));\n    this.eventBus.removeListener('ui:closeARPG', this.closeARPGUI.bind(this));\n  }\n\n  /**\n   * Set up UI event listeners\n   */\n  setupUIEventListeners() {\n    // Main container events\n    const mainContainer = this.uiElements.get('mainContainer');\n    if (mainContainer) {\n      mainContainer.addEventListener('click', (e) => {\n        if (e.target === mainContainer) {\n          this.closeARPGUI();\n        }\n      });\n    }\n\n    // Tab switching\n    this.setupTabSwitching();\n    \n    // Skill tree interactions\n    this.setupSkillTreeInteractions();\n    \n    // Inventory interactions\n    this.setupInventoryInteractions();\n    \n    // Trading interactions\n    this.setupTradingInteractions();\n    \n    // Socketing interactions\n    this.setupSocketingInteractions();\n  }\n\n  /**\n   * Set up tab switching\n   */\n  setupTabSwitching() {\n    // Character panel tabs\n    const characterPanel = document.getElementById('character-panel');\n    if (characterPanel) {\n      // Add tab buttons if they don't exist\n      const tabHTML = `\n        <div class=\"character-tabs\">\n          <button class=\"char-tab active\" data-tab=\"stats\">Stats</button>\n          <button class=\"char-tab\" data-tab=\"skills\">Skills</button>\n          <button class=\"char-tab\" data-tab=\"equipment\">Equipment</button>\n        </div>\n      `;\n      characterPanel.insertAdjacentHTML('afterbegin', tabHTML);\n    }\n  }\n\n  /**\n   * Set up skill tree interactions\n   */\n  setupSkillTreeInteractions() {\n    // Skill tree tab switching\n    const skillTreeTabs = document.querySelectorAll('.skill-tree-tab');\n    skillTreeTabs.forEach(tab => {\n      tab.addEventListener('click', (e) => {\n        const treeName = e.target.dataset.tree;\n        this.switchSkillTree(treeName);\n      });\n    });\n\n    // Skill node interactions\n    this.generateSkillTreeNodes();\n  }\n\n  /**\n   * Set up inventory interactions\n   */\n  setupInventoryInteractions() {\n    // Inventory tab switching\n    const inventoryTabs = document.querySelectorAll('.inv-tab');\n    inventoryTabs.forEach(tab => {\n      tab.addEventListener('click', (e) => {\n        const tabName = e.target.dataset.tab;\n        this.switchInventoryTab(tabName);\n      });\n    });\n\n    // Generate inventory grid\n    this.generateInventoryGrid();\n  }\n\n  /**\n   * Set up trading interactions\n   */\n  setupTradingInteractions() {\n    // Channel switching\n    const channelBtns = document.querySelectorAll('.channel-btn');\n    channelBtns.forEach(btn => {\n      btn.addEventListener('click', (e) => {\n        const channel = e.target.dataset.channel;\n        this.switchTradeChannel(channel);\n      });\n    });\n\n    // Create trade offer\n    const createTradeBtn = document.getElementById('create-trade-btn');\n    if (createTradeBtn) {\n      createTradeBtn.addEventListener('click', this.createTradeOffer.bind(this));\n    }\n\n    // Close trading\n    const closeTrading = document.querySelector('.close-trading');\n    if (closeTrading) {\n      closeTrading.addEventListener('click', this.closeTradingPanel.bind(this));\n    }\n  }\n\n  /**\n   * Set up socketing interactions\n   */\n  setupSocketingInteractions() {\n    // Socket gem\n    const socketGemBtn = document.getElementById('socket-gem');\n    if (socketGemBtn) {\n      socketGemBtn.addEventListener('click', this.socketGem.bind(this));\n    }\n\n    // Remove gem\n    const removeGemBtn = document.getElementById('remove-gem');\n    if (removeGemBtn) {\n      removeGemBtn.addEventListener('click', this.removeGem.bind(this));\n    }\n\n    // Close socketing\n    const closeSocketing = document.querySelector('.close-socketing');\n    if (closeSocketing) {\n      closeSocketing.addEventListener('click', this.closeSocketingPanel.bind(this));\n    }\n  }\n\n  /**\n   * Generate skill tree nodes\n   */\n  generateSkillTreeNodes() {\n    const nodesContainer = document.getElementById('skill-tree-nodes');\n    if (!nodesContainer) return;\n\n    const currentTree = this.getCurrentSkillTree();\n    if (!currentTree) return;\n\n    nodesContainer.innerHTML = '';\n    \n    currentTree.nodes.forEach(node => {\n      const nodeElement = document.createElement('div');\n      nodeElement.className = `skill-node ${node.level > 0 ? 'learned' : ''} ${this.canLearnSkill(node) ? 'available' : 'locked'}`;\n      nodeElement.dataset.nodeId = node.id;\n      \n      nodeElement.innerHTML = `\n        <div class=\"node-icon\">${node.name.charAt(0)}</div>\n        <div class=\"node-info\">\n          <div class=\"node-name\">${node.name}</div>\n          <div class=\"node-level\">${node.level}/${node.maxLevel}</div>\n        </div>\n        <div class=\"node-cost\">${node.cost}</div>\n      `;\n      \n      nodeElement.addEventListener('click', () => this.learnSkill(node.id));\n      nodesContainer.appendChild(nodeElement);\n    });\n  }\n\n  /**\n   * Generate inventory grid\n   */\n  generateInventoryGrid() {\n    const grid = document.getElementById('inventory-grid');\n    if (!grid) return;\n\n    grid.innerHTML = '';\n    \n    // Create 40 inventory slots (5x8 grid)\n    for (let i = 0; i < 40; i++) {\n      const slot = document.createElement('div');\n      slot.className = 'inventory-slot';\n      slot.dataset.slot = i;\n      \n      // Check if slot has an item\n      const item = this.character.inventory[i];\n      if (item) {\n        slot.innerHTML = `\n          <div class=\"item-icon\" style=\"background-color: ${this.getItemRarityColor(item.rarity)}\">\n            ${item.name.charAt(0)}\n          </div>\n          <div class=\"item-count\">${item.count || 1}</div>\n        `;\n        slot.addEventListener('click', () => this.selectItem(item, i));\n      }\n      \n      grid.appendChild(slot);\n    }\n  }\n\n  /**\n   * Open ARPG UI\n   */\n  openARPGUI() {\n    const container = this.uiElements.get('mainContainer');\n    if (container) {\n      container.style.display = 'block';\n      this.uiState.isOpen = true;\n      this.updateCharacterDisplay();\n    }\n  }\n\n  /**\n   * Close ARPG UI\n   */\n  closeARPGUI() {\n    const container = this.uiElements.get('mainContainer');\n    if (container) {\n      container.style.display = 'none';\n      this.uiState.isOpen = false;\n    }\n  }\n\n  /**\n   * Switch skill tree\n   */\n  switchSkillTree(treeName) {\n    // Update active tab\n    document.querySelectorAll('.skill-tree-tab').forEach(tab => {\n      tab.classList.remove('active');\n    });\n    document.querySelector(`[data-tree=\"${treeName}\"]`).classList.add('active');\n    \n    // Update tree info\n    const tree = this.skillTree[treeName];\n    document.getElementById('current-tree-name').textContent = tree.name;\n    document.getElementById('current-tree-desc').textContent = tree.description;\n    \n    // Regenerate nodes\n    this.generateSkillTreeNodes();\n  }\n\n  /**\n   * Switch inventory tab\n   */\n  switchInventoryTab(tabName) {\n    // Update active tab\n    document.querySelectorAll('.inv-tab').forEach(tab => {\n      tab.classList.remove('active');\n    });\n    document.querySelector(`[data-tab=\"${tabName}\"]`).classList.add('active');\n    \n    // Update inventory content based on tab\n    this.updateInventoryContent(tabName);\n  }\n\n  /**\n   * Switch trade channel\n   */\n  switchTradeChannel(channel) {\n    // Update active channel\n    document.querySelectorAll('.channel-btn').forEach(btn => {\n      btn.classList.remove('active');\n    });\n    document.querySelector(`[data-channel=\"${channel}\"]`).classList.add('active');\n    \n    // Load trade offers for channel\n    this.loadTradeOffers(channel);\n  }\n\n  /**\n   * Learn a skill\n   */\n  learnSkill(skillId) {\n    const currentTree = this.getCurrentSkillTree();\n    const skill = currentTree.nodes.find(n => n.id === skillId);\n    \n    if (!skill || !this.canLearnSkill(skill)) {\n      this.logger.warn(`Cannot learn skill: ${skillId}`);\n      return;\n    }\n    \n    if (this.character.skillPoints < skill.cost) {\n      this.logger.warn('Not enough skill points');\n      return;\n    }\n    \n    // Learn the skill\n    skill.level++;\n    this.character.skillPoints -= skill.cost;\n    \n    // Apply skill effects\n    this.applySkillEffects(skill);\n    \n    // Update UI\n    this.updateCharacterDisplay();\n    this.generateSkillTreeNodes();\n    \n    // Emit event\n    this.eventBus.emit('character:skillLearned', {\n      skillId: skillId,\n      skill: skill,\n      character: this.character\n    });\n    \n    this.logger.info(`Learned skill: ${skill.name}`);\n  }\n\n  /**\n   * Check if skill can be learned\n   */\n  canLearnSkill(skill) {\n    if (skill.level >= skill.maxLevel) return false;\n    if (this.character.skillPoints < skill.cost) return false;\n    \n    // Check prerequisites\n    for (const prereq of skill.prerequisites) {\n      const prereqSkill = this.findSkillById(prereq);\n      if (!prereqSkill || prereqSkill.level === 0) return false;\n    }\n    \n    return true;\n  }\n\n  /**\n   * Find skill by ID across all trees\n   */\n  findSkillById(skillId) {\n    for (const tree of Object.values(this.skillTree)) {\n      const skill = tree.nodes.find(n => n.id === skillId);\n      if (skill) return skill;\n    }\n    return null;\n  }\n\n  /**\n   * Apply skill effects\n   */\n  applySkillEffects(skill) {\n    // This would apply the actual skill effects to character stats\n    // Implementation depends on specific skill effects\n    this.logger.info(`Applied effects for skill: ${skill.name}`);\n  }\n\n  /**\n   * Get current skill tree\n   */\n  getCurrentSkillTree() {\n    const activeTab = document.querySelector('.skill-tree-tab.active');\n    if (!activeTab) return this.skillTree.combat;\n    \n    const treeName = activeTab.dataset.tree;\n    return this.skillTree[treeName];\n  }\n\n  /**\n   * Update character display\n   */\n  updateCharacterDisplay() {\n    // Update level and experience\n    document.getElementById('character-level').textContent = this.character.level;\n    document.getElementById('character-exp').textContent = this.character.experience;\n    document.getElementById('character-exp-max').textContent = this.character.experienceToNext;\n    \n    // Update experience bar\n    const expBar = document.querySelector('.exp-fill');\n    if (expBar) {\n      expBar.style.width = `${(this.character.experience / this.character.experienceToNext) * 100}%`;\n    }\n    \n    // Update skill points\n    document.getElementById('skill-points').textContent = this.character.skillPoints;\n    \n    // Update attribute points\n    document.getElementById('attr-points').textContent = this.character.attributePoints;\n    \n    // Update attributes\n    Object.entries(this.character.attributes).forEach(([attr, value]) => {\n      const attrElement = document.querySelector(`[data-attr=\"${attr}\"]`);\n      if (attrElement) {\n        attrElement.previousElementSibling.textContent = value;\n      }\n    });\n    \n    // Update stats\n    Object.entries(this.character.stats).forEach(([stat, value]) => {\n      const statElement = document.querySelector(`[data-stat=\"${stat}\"]`);\n      if (statElement) {\n        statElement.textContent = value;\n      }\n    });\n  }\n\n  /**\n   * Update character stats based on attributes\n   */\n  updateCharacterStats() {\n    // Recalculate stats based on attributes\n    this.character.stats.maxHealth = 100 + (this.character.attributes.vitality * 10);\n    this.character.stats.maxMana = 50 + (this.character.attributes.intelligence * 5);\n    this.character.stats.damage = 10 + (this.character.attributes.strength * 2);\n    this.character.stats.armor = this.character.attributes.vitality * 0.5;\n    this.character.stats.criticalChance = 0.05 + (this.character.attributes.dexterity * 0.01);\n    this.character.stats.attackSpeed = 1.0 + (this.character.attributes.dexterity * 0.02);\n    this.character.stats.movementSpeed = 1.0 + (this.character.attributes.strength * 0.01);\n  }\n\n  /**\n   * Update UI animations\n   */\n  updateUIAnimations(deltaTime) {\n    // Update any UI animations here\n  }\n\n  /**\n   * Update skill cooldowns\n   */\n  updateSkillCooldowns(deltaTime) {\n    // Update skill cooldowns here\n  }\n\n  /**\n   * Handle level up\n   */\n  handleLevelUp(data) {\n    this.character.level++;\n    this.character.skillPoints += 2;\n    this.character.attributePoints += 5;\n    this.character.experienceToNext = Math.floor(this.character.experienceToNext * 1.2);\n    \n    this.updateCharacterDisplay();\n    this.logger.info(`Character leveled up to level ${this.character.level}`);\n  }\n\n  /**\n   * Handle attribute change\n   */\n  handleAttributeChange(data) {\n    this.character.attributes[data.attribute] += data.change;\n        this.character.attributePoints -= data.cost;\n        \n        this.updateCharacterStats();\n        this.updateCharacterDisplay();\n        \n        this.logger.info(`Attribute ${data.attribute} changed by ${data.change}`);\n  }\n\n  /**\n   * Handle skill learned\n   */\n  handleSkillLearned(data) {\n    this.logger.info(`Skill learned: ${data.skill.name}`);\n  }\n\n  /**\n   * Handle item equipped\n   */\n  handleItemEquipped(data) {\n    this.character.equippedItems.set(data.slot, data.item);\n    this.updateCharacterDisplay();\n    this.logger.info(`Item equipped: ${data.item.name}`);\n  }\n\n  /**\n   * Handle item unequipped\n   */\n  handleItemUnequipped(data) {\n    this.character.equippedItems.delete(data.slot);\n    this.updateCharacterDisplay();\n    this.logger.info(`Item unequipped: ${data.item.name}`);\n  }\n\n  /**\n   * Handle gem socketed\n   */\n  handleGemSocketed(data) {\n    this.logger.info(`Gem socketed: ${data.gem.name}`);\n  }\n\n  /**\n   * Handle trade offer created\n   */\n  handleTradeOfferCreated(data) {\n    this.logger.info(`Trade offer created: ${data.offer.item} for ${data.offer.wanted}`);\n  }\n\n  /**\n   * Handle trade offer accepted\n   */\n  handleTradeOfferAccepted(data) {\n    this.logger.info(`Trade offer accepted: ${data.offer.id}`);\n  }\n\n  /**\n   * Create trade offer\n   */\n  createTradeOffer() {\n    const itemInput = document.getElementById('trade-item');\n    const wantedInput = document.getElementById('trade-wanted');\n    \n    if (!itemInput.value || !wantedInput.value) {\n      this.logger.warn('Please fill in both item fields');\n      return;\n    }\n    \n    const offer = {\n      id: Date.now(),\n      item: itemInput.value,\n      wanted: wantedInput.value,\n      timestamp: Date.now()\n    };\n    \n    this.eventBus.emit('trade:offerCreated', { offer });\n    \n    // Clear inputs\n    itemInput.value = '';\n    wantedInput.value = '';\n  }\n\n  /**\n   * Load trade offers\n   */\n  loadTradeOffers(channel) {\n    // This would load trade offers from the server\n    this.logger.info(`Loading trade offers for channel: ${channel}`);\n  }\n\n  /**\n   * Socket gem\n   */\n  socketGem() {\n    if (!this.uiState.selectedItem || !this.uiState.selectedGem) {\n      this.logger.warn('Please select an item and gem to socket');\n      return;\n    }\n    \n    // Implement gem socketing logic\n    this.eventBus.emit('item:gemSocketed', {\n      item: this.uiState.selectedItem,\n      gem: this.uiState.selectedGem\n    });\n    \n    this.closeSocketingPanel();\n  }\n\n  /**\n   * Remove gem\n   */\n  removeGem() {\n    if (!this.uiState.selectedItem) {\n      this.logger.warn('Please select an item to remove gem from');\n      return;\n    }\n    \n    // Implement gem removal logic\n    this.logger.info('Gem removed from item');\n  }\n\n  /**\n   * Close trading panel\n   */\n  closeTradingPanel() {\n    document.getElementById('trading-panel').style.display = 'none';\n  }\n\n  /**\n   * Close socketing panel\n   */\n  closeSocketingPanel() {\n    document.getElementById('socketing-panel').style.display = 'none';\n  }\n\n  /**\n   * Select item\n   */\n  selectItem(item, slotIndex) {\n    this.uiState.selectedItem = { ...item, slotIndex };\n    this.updateItemDetails(item);\n  }\n\n  /**\n   * Update item details\n   */\n  updateItemDetails(item) {\n    const detailsContainer = document.getElementById('item-details');\n    if (!detailsContainer) return;\n    \n    detailsContainer.innerHTML = `\n      <h4>${item.name}</h4>\n      <p>Type: ${item.type}</p>\n      <p>Rarity: ${item.rarity}</p>\n      <p>Level: ${item.level}</p>\n      <p>Description: ${item.description}</p>\n      ${item.effects ? `<p>Effects: ${JSON.stringify(item.effects)}</p>` : ''}\n    `;\n  }\n\n  /**\n   * Update inventory content\n   */\n  updateInventoryContent(tabName) {\n    // Update inventory content based on selected tab\n    this.logger.info(`Switched to inventory tab: ${tabName}`);\n  }\n\n  /**\n   * Get item rarity color\n   */\n  getItemRarityColor(rarity) {\n    const colors = {\n      common: '#ffffff',\n      uncommon: '#1eff00',\n      rare: '#0070dd',\n      epic: '#a335ee',\n      legendary: '#ff8000'\n    };\n    return colors[rarity] || colors.common;\n  }\n\n  /**\n   * Load character data\n   */\n  async loadCharacterData() {\n    try {\n      const savedData = localStorage.getItem('arpgCharacter');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.character = { ...this.character, ...data };\n        this.logger.info('Character data loaded');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load character data:', error);\n    }\n  }\n\n  /**\n   * Save character data\n   */\n  saveCharacterData() {\n    try {\n      localStorage.setItem('arpgCharacter', JSON.stringify(this.character));\n      this.logger.info('Character data saved');\n    } catch (error) {\n      this.logger.error('Failed to save character data:', error);\n    }\n  }\n\n  /**\n   * Clear UI elements\n   */\n  clearUIElements() {\n    const mainContainer = this.uiElements.get('mainContainer');\n    if (mainContainer && mainContainer.parentNode) {\n      mainContainer.parentNode.removeChild(mainContainer);\n    }\n    this.uiElements.clear();\n  }\n\n  /**\n   * Get character data\n   */\n  getCharacter() {\n    return { ...this.character };\n  }\n\n  /**\n   * Get skill tree data\n   */\n  getSkillTree() {\n    return { ...this.skillTree };\n  }\n\n  /**\n   * Get skill gems\n   */\n  getSkillGems() {\n    return { ...this.skillGems };\n  }\n}\n\nexport default ARPGUISystem;", "/**\n * CombatSystem.js - Enhanced Hack-and-Slash Combat System\n *\n * This system handles:\n * - Fluid combat mechanics\n * - Enemy horde management\n * - Action-oriented combat\n * - Combo systems\n * - Damage calculation\n * - Combat effects and animations\n */\n\nexport class CombatSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('CombatSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('CombatSystem requires logger dependency');\n    }\n\n    // Combat state\n    this.combatState = {\n      isInCombat: false,\n      combatStartTime: null,\n      enemies: new Map(),\n      projectiles: new Map(),\n      effects: new Map(),\n      combos: new Map(),\n      lastAttackTime: 0,\n      attackCooldown: 100, // ms\n    };\n\n    // Combat configuration\n    this.combatConfig = {\n      maxEnemies: 50,\n      enemySpawnRate: 2000, // ms\n      projectileSpeed: 300, // pixels per second\n      effectDuration: 1000, // ms\n      comboWindow: 2000, // ms\n      criticalHitChance: 0.05,\n      criticalHitMultiplier: 1.5,\n      damageTypes: ['physical', 'magical', 'fire', 'ice', 'lightning', 'poison'],\n      statusEffects: ['burning', 'frozen', 'shocked', 'poisoned', 'stunned', 'slowed'],\n    };\n\n    // Enemy types and behaviors\n    this.enemyTypes = this.initializeEnemyTypes();\n    \n    // Combat abilities\n    this.abilities = this.initializeAbilities();\n    \n    // Damage calculation system\n    this.damageCalculator = this.initializeDamageCalculator();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('CombatSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing CombatSystem...');\n    \n    // Set up combat areas\n    this.setupCombatAreas();\n    \n    // Initialize enemy spawner\n    this.initializeEnemySpawner();\n    \n    this.logger.info('CombatSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up CombatSystem...');\n    \n    // Clear all combat entities\n    this.clearAllCombatEntities();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('CombatSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    if (!this.combatState.isInCombat) return;\n\n    // Update enemies\n    this.updateEnemies(deltaTime);\n    \n    // Update projectiles\n    this.updateProjectiles(deltaTime);\n    \n    // Update effects\n    this.updateEffects(deltaTime);\n    \n    // Update combos\n    this.updateCombos(deltaTime);\n    \n    // Check for combat end\n    this.checkCombatEnd();\n    \n    // Spawn new enemies if needed\n    this.spawnEnemies(deltaTime);\n  }\n\n  /**\n   * Initialize enemy types\n   */\n  initializeEnemyTypes() {\n    return {\n      // Basic enemies\n      goblin: {\n        name: 'Goblin',\n        health: 50,\n        maxHealth: 50,\n        damage: 10,\n        speed: 80,\n        size: { width: 24, height: 24 },\n        ai: 'aggressive',\n        loot: { gold: [1, 5], items: ['goblin_ear'] },\n        abilities: ['basic_attack'],\n        resistances: { physical: 0.1 },\n        weaknesses: { fire: 0.2 }\n      },\n      \n      orc: {\n        name: 'Orc',\n        health: 120,\n        maxHealth: 120,\n        damage: 25,\n        speed: 60,\n        size: { width: 32, height: 32 },\n        ai: 'aggressive',\n        loot: { gold: [5, 15], items: ['orc_tusk'] },\n        abilities: ['heavy_attack', 'charge'],\n        resistances: { physical: 0.2 },\n        weaknesses: { magical: 0.15 }\n      },\n      \n      skeleton: {\n        name: 'Skeleton',\n        health: 80,\n        maxHealth: 80,\n        damage: 15,\n        speed: 70,\n        size: { width: 28, height: 28 },\n        ai: 'defensive',\n        loot: { gold: [3, 10], items: ['bone_fragment'] },\n        abilities: ['bone_throw', 'skeleton_rise'],\n        resistances: { physical: 0.3, magical: 0.1 },\n        weaknesses: { fire: 0.5 }\n      },\n      \n      // Elite enemies\n      troll: {\n        name: 'Troll',\n        health: 300,\n        maxHealth: 300,\n        damage: 40,\n        speed: 40,\n        size: { width: 48, height: 48 },\n        ai: 'aggressive',\n        loot: { gold: [20, 50], items: ['troll_blood', 'troll_claw'] },\n        abilities: ['regeneration', 'ground_slam', 'berserker_rage'],\n        resistances: { physical: 0.4, magical: 0.2 },\n        weaknesses: { fire: 0.3 }\n      },\n      \n      dragon: {\n        name: 'Dragon',\n        health: 1000,\n        maxHealth: 1000,\n        damage: 80,\n        speed: 100,\n        size: { width: 64, height: 64 },\n        ai: 'boss',\n        loot: { gold: [100, 200], items: ['dragon_scale', 'dragon_heart'] },\n        abilities: ['fire_breath', 'wing_beat', 'dragon_roar', 'flight'],\n        resistances: { physical: 0.6, magical: 0.4, fire: 0.8 },\n        weaknesses: { ice: 0.4 }\n      },\n      \n      // Special enemies\n      shadow_assassin: {\n        name: 'Shadow Assassin',\n        health: 60,\n        maxHealth: 60,\n        damage: 35,\n        speed: 120,\n        size: { width: 20, height: 20 },\n        ai: 'stealth',\n        loot: { gold: [10, 25], items: ['shadow_cloak', 'assassin_blade'] },\n        abilities: ['stealth', 'backstab', 'shadow_step', 'poison_dart'],\n        resistances: { physical: 0.1, magical: 0.3 },\n        weaknesses: { light: 0.5 }\n      }\n    };\n  }\n\n  /**\n   * Initialize combat abilities\n   */\n  initializeAbilities() {\n    return {\n      // Basic attacks\n      basic_attack: {\n        name: 'Basic Attack',\n        type: 'melee',\n        damage: 1.0,\n        cooldown: 1000,\n        range: 50,\n        effects: [],\n        animation: 'slash'\n      },\n      \n      heavy_attack: {\n        name: 'Heavy Attack',\n        type: 'melee',\n        damage: 2.0,\n        cooldown: 2000,\n        range: 60,\n        effects: ['knockback'],\n        animation: 'heavy_slash'\n      },\n      \n      // Ranged attacks\n      fireball: {\n        name: 'Fireball',\n        type: 'projectile',\n        damage: 1.5,\n        cooldown: 1500,\n        range: 200,\n        speed: 300,\n        effects: ['burning'],\n        element: 'fire',\n        animation: 'fireball_cast'\n      },\n      \n      lightning_bolt: {\n        name: 'Lightning Bolt',\n        type: 'instant',\n        damage: 2.5,\n        cooldown: 3000,\n        range: 150,\n        effects: ['shocked'],\n        element: 'lightning',\n        animation: 'lightning_cast'\n      },\n      \n      // Area attacks\n      whirlwind: {\n        name: 'Whirlwind',\n        type: 'area',\n        damage: 0.8,\n        cooldown: 4000,\n        range: 80,\n        effects: ['knockback'],\n        animation: 'whirlwind'\n      },\n      \n      meteor: {\n        name: 'Meteor',\n        type: 'area',\n        damage: 3.0,\n        cooldown: 8000,\n        range: 100,\n        effects: ['burning', 'knockback'],\n        element: 'fire',\n        animation: 'meteor_cast'\n      },\n      \n      // Support abilities\n      heal: {\n        name: 'Heal',\n        type: 'support',\n        healing: 50,\n        cooldown: 5000,\n        range: 0,\n        effects: [],\n        animation: 'heal_cast'\n      },\n      \n      shield: {\n        name: 'Shield',\n        type: 'buff',\n        absorption: 100,\n        duration: 10000,\n        cooldown: 15000,\n        effects: ['damage_absorption'],\n        animation: 'shield_cast'\n      },\n      \n      // Special abilities\n      berserker_rage: {\n        name: 'Berserker Rage',\n        type: 'buff',\n        damageMultiplier: 2.0,\n        speedMultiplier: 1.5,\n        duration: 15000,\n        cooldown: 60000,\n        effects: ['damage_boost', 'speed_boost'],\n        animation: 'rage_activation'\n      },\n      \n      time_slow: {\n        name: 'Time Slow',\n        type: 'debuff',\n        speedMultiplier: 0.3,\n        duration: 5000,\n        cooldown: 30000,\n        range: 120,\n        effects: ['slow'],\n        animation: 'time_slow_cast'\n      }\n    };\n  }\n\n  /**\n   * Initialize damage calculator\n   */\n  initializeDamageCalculator() {\n    return {\n      calculateDamage: (attacker, target, ability) => {\n        let baseDamage = attacker.stats.damage || 10;\n        \n        // Apply ability damage multiplier\n        if (ability.damage) {\n          baseDamage *= ability.damage;\n        }\n        \n        // Apply critical hit\n        const critChance = attacker.stats.criticalChance || 0.05;\n        const critMultiplier = attacker.stats.criticalMultiplier || 1.5;\n        \n        if (Math.random() < critChance) {\n          baseDamage *= critMultiplier;\n          this.eventBus.emit('combat:criticalHit', { attacker, target, damage: baseDamage });\n        }\n        \n        // Apply resistances and weaknesses\n        if (ability.element) {\n          const resistance = target.resistances?.[ability.element] || 0;\n          const weakness = target.weaknesses?.[ability.element] || 0;\n          baseDamage *= (1 - resistance + weakness);\n        }\n        \n        // Apply armor\n        const armor = target.stats.armor || 0;\n        const damageReduction = armor / (armor + 100);\n        baseDamage *= (1 - damageReduction);\n        \n        return Math.max(1, Math.floor(baseDamage));\n      },\n      \n      calculateHealing: (healer, target, ability) => {\n        let baseHealing = ability.healing || 0;\n        \n        // Apply healing bonuses\n        const healingBonus = healer.stats.healingBonus || 0;\n        baseHealing *= (1 + healingBonus);\n        \n        return Math.floor(baseHealing);\n      }\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Combat events\n    this.eventBus.on('combat:start', this.startCombat.bind(this));\n    this.eventBus.on('combat:end', this.endCombat.bind(this));\n    this.eventBus.on('combat:attack', this.handleAttack.bind(this));\n    this.eventBus.on('combat:ability', this.handleAbility.bind(this));\n    this.eventBus.on('combat:damage', this.handleDamage.bind(this));\n    this.eventBus.on('combat:death', this.handleDeath.bind(this));\n    \n    // Player events\n    this.eventBus.on('player:move', this.handlePlayerMove.bind(this));\n    this.eventBus.on('player:ability', this.handlePlayerAbility.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('combat:start', this.startCombat.bind(this));\n    this.eventBus.removeListener('combat:end', this.endCombat.bind(this));\n    this.eventBus.removeListener('combat:attack', this.handleAttack.bind(this));\n    this.eventBus.removeListener('combat:ability', this.handleAbility.bind(this));\n    this.eventBus.removeListener('combat:damage', this.handleDamage.bind(this));\n    this.eventBus.removeListener('combat:death', this.handleDeath.bind(this));\n    this.eventBus.removeListener('player:move', this.handlePlayerMove.bind(this));\n    this.eventBus.removeListener('player:ability', this.handlePlayerAbility.bind(this));\n  }\n\n  /**\n   * Set up combat areas\n   */\n  setupCombatAreas() {\n    this.combatAreas = [\n      {\n        id: 'forest_clearing',\n        name: 'Forest Clearing',\n        bounds: { x: 0, y: 0, width: 800, height: 600 },\n        enemyTypes: ['goblin', 'orc', 'skeleton'],\n        spawnPoints: [\n          { x: 100, y: 100 },\n          { x: 700, y: 100 },\n          { x: 100, y: 500 },\n          { x: 700, y: 500 }\n        ]\n      },\n      {\n        id: 'cave_entrance',\n        name: 'Cave Entrance',\n        bounds: { x: 0, y: 0, width: 600, height: 400 },\n        enemyTypes: ['skeleton', 'shadow_assassin'],\n        spawnPoints: [\n          { x: 50, y: 200 },\n          { x: 550, y: 200 }\n        ]\n      },\n      {\n        id: 'dragon_lair',\n        name: 'Dragon Lair',\n        bounds: { x: 0, y: 0, width: 1000, height: 800 },\n        enemyTypes: ['troll', 'dragon'],\n        spawnPoints: [\n          { x: 500, y: 400 }\n        ]\n      }\n    ];\n  }\n\n  /**\n   * Initialize enemy spawner\n   */\n  initializeEnemySpawner() {\n    this.enemySpawner = {\n      lastSpawnTime: 0,\n      spawnInterval: this.combatConfig.enemySpawnRate,\n      maxEnemies: this.combatConfig.maxEnemies,\n      currentArea: null\n    };\n  }\n\n  /**\n   * Start combat\n   */\n  startCombat(areaId) {\n    if (this.combatState.isInCombat) return;\n    \n    this.combatState.isInCombat = true;\n    this.combatState.combatStartTime = Date.now();\n    this.enemySpawner.currentArea = this.combatAreas.find(area => area.id === areaId);\n    \n    this.logger.info(`Combat started in area: ${areaId}`);\n    \n    this.eventBus.emit('combat:started', {\n      areaId,\n      timestamp: this.combatState.combatStartTime\n    });\n  }\n\n  /**\n   * End combat\n   */\n  endCombat() {\n    if (!this.combatState.isInCombat) return;\n    \n    this.combatState.isInCombat = false;\n    this.clearAllCombatEntities();\n    \n    const combatDuration = Date.now() - this.combatState.combatStartTime;\n    \n    this.logger.info(`Combat ended after ${combatDuration}ms`);\n    \n    this.eventBus.emit('combat:ended', {\n      duration: combatDuration,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Update enemies\n   */\n  updateEnemies(deltaTime) {\n    for (const [id, enemy] of this.combatState.enemies) {\n      // Update enemy AI\n      this.updateEnemyAI(enemy, deltaTime);\n      \n      // Update enemy position\n      this.updateEnemyPosition(enemy, deltaTime);\n      \n      // Update enemy abilities\n      this.updateEnemyAbilities(enemy, deltaTime);\n      \n      // Check if enemy is dead\n      if (enemy.health <= 0) {\n        this.handleEnemyDeath(enemy);\n        this.combatState.enemies.delete(id);\n      }\n    }\n  }\n\n  /**\n   * Update enemy AI\n   */\n  updateEnemyAI(enemy, deltaTime) {\n    const enemyType = this.enemyTypes[enemy.type];\n    if (!enemyType) return;\n    \n    switch (enemyType.ai) {\n      case 'aggressive':\n        this.updateAggressiveAI(enemy, deltaTime);\n        break;\n      case 'defensive':\n        this.updateDefensiveAI(enemy, deltaTime);\n        break;\n      case 'stealth':\n        this.updateStealthAI(enemy, deltaTime);\n        break;\n      case 'boss':\n        this.updateBossAI(enemy, deltaTime);\n        break;\n    }\n  }\n\n  /**\n   * Update aggressive AI\n   */\n  updateAggressiveAI(enemy, deltaTime) {\n    // Find nearest player\n    const nearestPlayer = this.findNearestPlayer(enemy);\n    if (!nearestPlayer) return;\n    \n    const distance = this.getDistance(enemy, nearestPlayer);\n    \n    // Move towards player\n    if (distance > 30) {\n      const angle = Math.atan2(nearestPlayer.y - enemy.y, nearestPlayer.x - enemy.x);\n      enemy.velocityX = Math.cos(angle) * enemy.speed;\n      enemy.velocityY = Math.sin(angle) * enemy.speed;\n    } else {\n      enemy.velocityX = 0;\n      enemy.velocityY = 0;\n      \n      // Attack if in range\n      if (Date.now() - enemy.lastAttackTime > enemy.attackCooldown) {\n        this.enemyAttack(enemy, nearestPlayer);\n      }\n    }\n  }\n\n  /**\n   * Update defensive AI\n   */\n  updateDefensiveAI(enemy, deltaTime) {\n    // Find nearest player\n    const nearestPlayer = this.findNearestPlayer(enemy);\n    if (!nearestPlayer) return;\n    \n    const distance = this.getDistance(enemy, nearestPlayer);\n    \n    // Keep distance from player\n    if (distance < 50) {\n      const angle = Math.atan2(enemy.y - nearestPlayer.y, enemy.x - nearestPlayer.x);\n      enemy.velocityX = Math.cos(angle) * enemy.speed * 0.5;\n      enemy.velocityY = Math.sin(angle) * enemy.speed * 0.5;\n    } else if (distance > 100) {\n      const angle = Math.atan2(nearestPlayer.y - enemy.y, nearestPlayer.x - enemy.x);\n      enemy.velocityX = Math.cos(angle) * enemy.speed * 0.3;\n      enemy.velocityY = Math.sin(angle) * enemy.speed * 0.3;\n    } else {\n      enemy.velocityX = 0;\n      enemy.velocityY = 0;\n    }\n    \n    // Use ranged attacks\n    if (distance > 30 && distance < 150 && Date.now() - enemy.lastAttackTime > enemy.attackCooldown) {\n      this.enemyRangedAttack(enemy, nearestPlayer);\n    }\n  }\n\n  /**\n   * Update stealth AI\n   */\n  updateStealthAI(enemy, deltaTime) {\n    // Stealth behavior - move unpredictably and attack from behind\n    if (enemy.stealthCooldown > 0) {\n      enemy.stealthCooldown -= deltaTime;\n    } else if (Math.random() < 0.1) {\n      // Enter stealth\n      enemy.isStealthed = true;\n      enemy.stealthDuration = 3000;\n    }\n    \n    if (enemy.isStealthed) {\n      enemy.stealthDuration -= deltaTime;\n      if (enemy.stealthDuration <= 0) {\n        enemy.isStealthed = false;\n        enemy.stealthCooldown = 5000;\n      }\n    }\n    \n    // Move towards player when stealthed\n    if (enemy.isStealthed) {\n      const nearestPlayer = this.findNearestPlayer(enemy);\n      if (nearestPlayer) {\n        const angle = Math.atan2(nearestPlayer.y - enemy.y, nearestPlayer.x - enemy.x);\n        enemy.velocityX = Math.cos(angle) * enemy.speed * 1.2;\n        enemy.velocityY = Math.sin(angle) * enemy.speed * 1.2;\n        \n        // Backstab if close enough\n        const distance = this.getDistance(enemy, nearestPlayer);\n        if (distance < 20) {\n          this.enemyBackstab(enemy, nearestPlayer);\n        }\n      }\n    }\n  }\n\n  /**\n   * Update boss AI\n   */\n  updateBossAI(enemy, deltaTime) {\n    // Boss has multiple phases and special abilities\n    const healthPercentage = enemy.health / enemy.maxHealth;\n    \n    if (healthPercentage > 0.7) {\n      // Phase 1: Basic attacks\n      this.updateAggressiveAI(enemy, deltaTime);\n    } else if (healthPercentage > 0.3) {\n      // Phase 2: Special abilities\n      this.updateBossPhase2(enemy, deltaTime);\n    } else {\n      // Phase 3: Enraged\n      this.updateBossPhase3(enemy, deltaTime);\n    }\n  }\n\n  /**\n   * Update boss phase 2\n   */\n  updateBossPhase2(enemy, deltaTime) {\n    // Use special abilities more frequently\n    if (Date.now() - enemy.lastSpecialAbility > 5000) {\n      const abilities = ['fire_breath', 'wing_beat'];\n      const ability = abilities[Math.floor(Math.random() * abilities.length)];\n      this.useEnemyAbility(enemy, ability);\n      enemy.lastSpecialAbility = Date.now();\n    }\n    \n    this.updateAggressiveAI(enemy, deltaTime);\n  }\n\n  /**\n   * Update boss phase 3\n   */\n  updateBossPhase3(enemy, deltaTime) {\n    // Enraged - faster, stronger, more abilities\n    enemy.speed *= 1.5;\n    enemy.damage *= 1.3;\n    \n    if (Date.now() - enemy.lastSpecialAbility > 2000) {\n      const abilities = ['fire_breath', 'wing_beat', 'dragon_roar'];\n      const ability = abilities[Math.floor(Math.random() * abilities.length)];\n      this.useEnemyAbility(enemy, ability);\n      enemy.lastSpecialAbility = Date.now();\n    }\n    \n    this.updateAggressiveAI(enemy, deltaTime);\n  }\n\n  /**\n   * Update enemy position\n   */\n  updateEnemyPosition(enemy, deltaTime) {\n    enemy.x += enemy.velocityX * deltaTime / 1000;\n    enemy.y += enemy.velocityY * deltaTime / 1000;\n    \n    // Keep enemy within bounds\n    const area = this.enemySpawner.currentArea;\n    if (area) {\n      enemy.x = Math.max(area.bounds.x, Math.min(area.bounds.x + area.bounds.width, enemy.x));\n      enemy.y = Math.max(area.bounds.y, Math.min(area.bounds.y + area.bounds.height, enemy.y));\n    }\n  }\n\n  /**\n   * Update enemy abilities\n   */\n  updateEnemyAbilities(enemy, deltaTime) {\n    // Update ability cooldowns\n    if (enemy.abilityCooldowns) {\n      for (const [ability, cooldown] of enemy.abilityCooldowns) {\n        if (cooldown > 0) {\n          enemy.abilityCooldowns.set(ability, cooldown - deltaTime);\n        }\n      }\n    }\n  }\n\n  /**\n   * Update projectiles\n   */\n  updateProjectiles(deltaTime) {\n    for (const [id, projectile] of this.combatState.projectiles) {\n      // Update position\n      projectile.x += projectile.velocityX * deltaTime / 1000;\n      projectile.y += projectile.velocityY * deltaTime / 1000;\n      \n      // Check for collisions\n      this.checkProjectileCollisions(projectile);\n      \n      // Remove if out of bounds or expired\n      if (this.isProjectileExpired(projectile)) {\n        this.combatState.projectiles.delete(id);\n      }\n    }\n  }\n\n  /**\n   * Update effects\n   */\n  updateEffects(deltaTime) {\n    for (const [id, effect] of this.combatState.effects) {\n      effect.duration -= deltaTime;\n      \n      // Apply effect\n      this.applyEffect(effect);\n      \n      // Remove if expired\n      if (effect.duration <= 0) {\n        this.removeEffect(effect);\n        this.combatState.effects.delete(id);\n      }\n    }\n  }\n\n  /**\n   * Update combos\n   */\n  updateCombos(deltaTime) {\n    for (const [id, combo] of this.combatState.combos) {\n      combo.timeSinceLastHit += deltaTime;\n      \n      // End combo if too much time has passed\n      if (combo.timeSinceLastHit > this.combatConfig.comboWindow) {\n        this.endCombo(combo);\n        this.combatState.combos.delete(id);\n      }\n    }\n  }\n\n  /**\n   * Spawn enemies\n   */\n  spawnEnemies(deltaTime) {\n    if (!this.combatState.isInCombat || !this.enemySpawner.currentArea) return;\n    \n    this.enemySpawner.lastSpawnTime += deltaTime;\n    \n    if (this.enemySpawner.lastSpawnTime >= this.enemySpawner.spawnInterval &&\n        this.combatState.enemies.size < this.enemySpawner.maxEnemies) {\n      \n      this.spawnEnemy();\n      this.enemySpawner.lastSpawnTime = 0;\n    }\n  }\n\n  /**\n   * Spawn a single enemy\n   */\n  spawnEnemy() {\n    const area = this.enemySpawner.currentArea;\n    const enemyType = area.enemyTypes[Math.floor(Math.random() * area.enemyTypes.length)];\n    const spawnPoint = area.spawnPoints[Math.floor(Math.random() * area.spawnPoints.length)];\n    \n    const enemy = this.createEnemy(enemyType, spawnPoint.x, spawnPoint.y);\n    this.combatState.enemies.set(enemy.id, enemy);\n    \n    this.logger.info(`Spawned ${enemyType} at (${spawnPoint.x}, ${spawnPoint.y})`);\n  }\n\n  /**\n   * Create enemy\n   */\n  createEnemy(type, x, y) {\n    const enemyType = this.enemyTypes[type];\n    if (!enemyType) {\n      throw new Error(`Unknown enemy type: ${type}`);\n    }\n    \n    return {\n      id: `enemy_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      type: type,\n      name: enemyType.name,\n      x: x,\n      y: y,\n      health: enemyType.health,\n      maxHealth: enemyType.maxHealth,\n      damage: enemyType.damage,\n      speed: enemyType.speed,\n      velocityX: 0,\n      velocityY: 0,\n      size: enemyType.size,\n      ai: enemyType.ai,\n      abilities: [...enemyType.abilities],\n      resistances: { ...enemyType.resistances },\n      weaknesses: { ...enemyType.weaknesses },\n      lastAttackTime: 0,\n      attackCooldown: 2000,\n      lastSpecialAbility: 0,\n      abilityCooldowns: new Map(),\n      isStealthed: false,\n      stealthCooldown: 0,\n      stealthDuration: 0,\n      loot: enemyType.loot\n    };\n  }\n\n  /**\n   * Handle attack\n   */\n  handleAttack(data) {\n    const { attacker, target, ability } = data;\n    \n    if (!this.canAttack(attacker, target)) return;\n    \n    const damage = this.damageCalculator.calculateDamage(attacker, target, ability);\n    this.dealDamage(target, damage, attacker);\n    \n    // Update attack cooldown\n    attacker.lastAttackTime = Date.now();\n    \n    // Create attack effect\n    this.createAttackEffect(attacker, target, ability);\n    \n    // Update combo\n    this.updateCombo(attacker, target);\n    \n    this.eventBus.emit('combat:attackExecuted', {\n      attacker,\n      target,\n      damage,\n      ability\n    });\n  }\n\n  /**\n   * Handle ability\n   */\n  handleAbility(data) {\n    const { caster, ability, target } = data;\n    \n    if (!this.canUseAbility(caster, ability)) return;\n    \n    this.useAbility(caster, ability, target);\n    \n    // Update ability cooldown\n    if (caster.abilityCooldowns) {\n      caster.abilityCooldowns.set(ability.id, ability.cooldown);\n    }\n    \n    this.eventBus.emit('combat:abilityUsed', {\n      caster,\n      ability,\n      target\n    });\n  }\n\n  /**\n   * Handle damage\n   */\n  handleDamage(data) {\n    const { target, damage, source, type } = data;\n    \n    target.health = Math.max(0, target.health - damage);\n    \n    // Create damage effect\n    this.createDamageEffect(target, damage);\n    \n    // Apply status effects\n    if (type && this.combatConfig.statusEffects.includes(type)) {\n      this.applyStatusEffect(target, type);\n    }\n    \n    this.eventBus.emit('combat:damageDealt', {\n      target,\n      damage,\n      source,\n      type\n    });\n  }\n\n  /**\n   * Handle death\n   */\n  handleDeath(data) {\n    const { entity } = data;\n    \n    // Drop loot\n    this.dropLoot(entity);\n    \n    // Create death effect\n    this.createDeathEffect(entity);\n    \n    // Award experience\n    this.awardExperience(entity);\n    \n    this.eventBus.emit('combat:entityDied', {\n      entity,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle player move\n   */\n  handlePlayerMove(data) {\n    // Update player position for enemy AI\n    this.playerPosition = { x: data.x, y: data.y };\n  }\n\n  /**\n   * Handle player ability\n   */\n  handlePlayerAbility(data) {\n    const { ability, target } = data;\n    \n    // Use player ability\n    this.usePlayerAbility(ability, target);\n  }\n\n  /**\n   * Check if combat should end\n   */\n  checkCombatEnd() {\n    if (this.combatState.enemies.size === 0) {\n      this.endCombat();\n    }\n  }\n\n  /**\n   * Clear all combat entities\n   */\n  clearAllCombatEntities() {\n    this.combatState.enemies.clear();\n    this.combatState.projectiles.clear();\n    this.combatState.effects.clear();\n    this.combatState.combos.clear();\n  }\n\n  /**\n   * Find nearest player\n   */\n  findNearestPlayer(enemy) {\n    // This would find the nearest player in the game\n    // For now, return a mock player position\n    return this.playerPosition || { x: 400, y: 300 };\n  }\n\n  /**\n   * Get distance between two entities\n   */\n  getDistance(entity1, entity2) {\n    const dx = entity2.x - entity1.x;\n    const dy = entity2.y - entity1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Check if entity can attack\n   */\n  canAttack(attacker, target) {\n    const distance = this.getDistance(attacker, target);\n    const range = attacker.attackRange || 50;\n    \n    return distance <= range && \n           Date.now() - attacker.lastAttackTime > attacker.attackCooldown;\n  }\n\n  /**\n   * Check if entity can use ability\n   */\n  canUseAbility(caster, ability) {\n    if (caster.abilityCooldowns) {\n      const cooldown = caster.abilityCooldowns.get(ability.id);\n      if (cooldown && cooldown > 0) return false;\n    }\n    \n    return caster.mana >= (ability.manaCost || 0);\n  }\n\n  /**\n   * Deal damage to target\n   */\n  dealDamage(target, damage, source) {\n    target.health = Math.max(0, target.health - damage);\n    \n    this.eventBus.emit('combat:damage', {\n      target,\n      damage,\n      source,\n      timestamp: Date.now()\n    });\n    \n    if (target.health <= 0) {\n      this.eventBus.emit('combat:death', {\n        entity: target,\n        source,\n        timestamp: Date.now()\n      });\n    }\n  }\n\n  /**\n   * Use ability\n   */\n  useAbility(caster, ability, target) {\n    const abilityData = this.abilities[ability.id];\n    if (!abilityData) return;\n    \n    switch (abilityData.type) {\n      case 'melee':\n        this.useMeleeAbility(caster, abilityData, target);\n        break;\n      case 'projectile':\n        this.useProjectileAbility(caster, abilityData, target);\n        break;\n      case 'instant':\n        this.useInstantAbility(caster, abilityData, target);\n        break;\n      case 'area':\n        this.useAreaAbility(caster, abilityData, target);\n        break;\n      case 'support':\n        this.useSupportAbility(caster, abilityData, target);\n        break;\n      case 'buff':\n        this.useBuffAbility(caster, abilityData, target);\n        break;\n      case 'debuff':\n        this.useDebuffAbility(caster, abilityData, target);\n        break;\n    }\n  }\n\n  /**\n   * Use melee ability\n   */\n  useMeleeAbility(caster, ability, target) {\n    if (!target) return;\n    \n    const damage = this.damageCalculator.calculateDamage(caster, target, ability);\n    this.dealDamage(target, damage, caster);\n    \n    // Apply effects\n    this.applyAbilityEffects(ability, target);\n  }\n\n  /**\n   * Use projectile ability\n   */\n  useProjectileAbility(caster, ability, target) {\n    const projectile = this.createProjectile(caster, ability, target);\n    this.combatState.projectiles.set(projectile.id, projectile);\n  }\n\n  /**\n   * Use instant ability\n   */\n  useInstantAbility(caster, ability, target) {\n    if (!target) return;\n    \n    const damage = this.damageCalculator.calculateDamage(caster, target, ability);\n    this.dealDamage(target, damage, caster);\n    \n    // Apply effects\n    this.applyAbilityEffects(ability, target);\n  }\n\n  /**\n   * Use area ability\n   */\n  useAreaAbility(caster, ability, target) {\n    const centerX = target ? target.x : caster.x;\n    const centerY = target ? target.y : caster.y;\n    \n    // Find all entities in range\n    const entitiesInRange = this.getEntitiesInRange(centerX, centerY, ability.range);\n    \n    entitiesInRange.forEach(entity => {\n      const damage = this.damageCalculator.calculateDamage(caster, entity, ability);\n      this.dealDamage(entity, damage, caster);\n      this.applyAbilityEffects(ability, entity);\n    });\n  }\n\n  /**\n   * Use support ability\n   */\n  useSupportAbility(caster, ability, target) {\n    if (!target) return;\n    \n    const healing = this.damageCalculator.calculateHealing(caster, target, ability);\n    target.health = Math.min(target.maxHealth, target.health + healing);\n    \n    this.eventBus.emit('combat:healing', {\n      target,\n      healing,\n      source: caster,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Use buff ability\n   */\n  useBuffAbility(caster, ability, target) {\n    if (!target) return;\n    \n    const effect = this.createEffect(ability, target, caster);\n    this.combatState.effects.set(effect.id, effect);\n  }\n\n  /**\n   * Use debuff ability\n   */\n  useDebuffAbility(caster, ability, target) {\n    if (!target) return;\n    \n    const effect = this.createEffect(ability, target, caster);\n    this.combatState.effects.set(effect.id, effect);\n  }\n\n  /**\n   * Create projectile\n   */\n  createProjectile(caster, ability, target) {\n    const angle = target ? \n      Math.atan2(target.y - caster.y, target.x - caster.x) : \n      caster.facing || 0;\n    \n    return {\n      id: `projectile_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      x: caster.x,\n      y: caster.y,\n      velocityX: Math.cos(angle) * ability.speed,\n      velocityY: Math.sin(angle) * ability.speed,\n      damage: ability.damage,\n      caster: caster,\n      ability: ability,\n      lifetime: 5000,\n      createdAt: Date.now()\n    };\n  }\n\n  /**\n   * Create effect\n   */\n  createEffect(ability, target, caster) {\n    return {\n      id: `effect_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      type: ability.id,\n      target: target,\n      caster: caster,\n      duration: ability.duration || 5000,\n      effects: ability.effects || [],\n      createdAt: Date.now()\n    };\n  }\n\n  /**\n   * Apply effect\n   */\n  applyEffect(effect) {\n    // Apply effect to target based on effect type\n    effect.effects.forEach(effectType => {\n      switch (effectType) {\n        case 'damage_boost':\n          effect.target.damageMultiplier = (effect.target.damageMultiplier || 1) * 1.2;\n          break;\n        case 'speed_boost':\n          effect.target.speedMultiplier = (effect.target.speedMultiplier || 1) * 1.2;\n          break;\n        case 'slow':\n          effect.target.speedMultiplier = (effect.target.speedMultiplier || 1) * 0.5;\n          break;\n        case 'burning':\n          this.applyBurningEffect(effect.target);\n          break;\n        case 'frozen':\n          this.applyFrozenEffect(effect.target);\n          break;\n        case 'shocked':\n          this.applyShockedEffect(effect.target);\n          break;\n        case 'poisoned':\n          this.applyPoisonedEffect(effect.target);\n          break;\n      }\n    });\n  }\n\n  /**\n   * Remove effect\n   */\n  removeEffect(effect) {\n    // Remove effect from target\n    effect.effects.forEach(effectType => {\n      switch (effectType) {\n        case 'damage_boost':\n          effect.target.damageMultiplier = (effect.target.damageMultiplier || 1) / 1.2;\n          break;\n        case 'speed_boost':\n          effect.target.speedMultiplier = (effect.target.speedMultiplier || 1) / 1.2;\n          break;\n        case 'slow':\n          effect.target.speedMultiplier = (effect.target.speedMultiplier || 1) / 0.5;\n          break;\n      }\n    });\n  }\n\n  /**\n   * Apply ability effects\n   */\n  applyAbilityEffects(ability, target) {\n    if (!ability.effects) return;\n    \n    ability.effects.forEach(effect => {\n      switch (effect) {\n        case 'knockback':\n          this.applyKnockback(target, ability.knockbackForce || 100);\n          break;\n        case 'burning':\n          this.applyBurningEffect(target);\n          break;\n        case 'frozen':\n          this.applyFrozenEffect(target);\n          break;\n        case 'shocked':\n          this.applyShockedEffect(target);\n          break;\n        case 'poisoned':\n          this.applyPoisonedEffect(target);\n          break;\n        case 'stunned':\n          this.applyStunnedEffect(target);\n          break;\n        case 'slowed':\n          this.applySlowedEffect(target);\n          break;\n      }\n    });\n  }\n\n  /**\n   * Apply knockback\n   */\n  applyKnockback(target, force) {\n    // Calculate knockback direction and apply velocity\n    const angle = Math.atan2(target.y - this.playerPosition.y, target.x - this.playerPosition.x);\n    target.velocityX = Math.cos(angle) * force;\n    target.velocityY = Math.sin(angle) * force;\n  }\n\n  /**\n   * Apply burning effect\n   */\n  applyBurningEffect(target) {\n    target.statusEffects = target.statusEffects || new Set();\n    target.statusEffects.add('burning');\n    \n    // Apply damage over time\n    const burnDamage = 5;\n    this.dealDamage(target, burnDamage, null);\n  }\n\n  /**\n   * Apply frozen effect\n   */\n  applyFrozenEffect(target) {\n    target.statusEffects = target.statusEffects || new Set();\n    target.statusEffects.add('frozen');\n    target.speedMultiplier = 0.1;\n  }\n\n  /**\n   * Apply shocked effect\n   */\n  applyShockedEffect(target) {\n    target.statusEffects = target.statusEffects || new Set();\n    target.statusEffects.add('shocked');\n    \n    // Chance to stun\n    if (Math.random() < 0.3) {\n      this.applyStunnedEffect(target);\n    }\n  }\n\n  /**\n   * Apply poisoned effect\n   */\n  applyPoisonedEffect(target) {\n    target.statusEffects = target.statusEffects || new Set();\n    target.statusEffects.add('poisoned');\n    \n    // Apply damage over time\n    const poisonDamage = 3;\n    this.dealDamage(target, poisonDamage, null);\n  }\n\n  /**\n   * Apply stunned effect\n   */\n  applyStunnedEffect(target) {\n    target.statusEffects = target.statusEffects || new Set();\n    target.statusEffects.add('stunned');\n    target.velocityX = 0;\n    target.velocityY = 0;\n  }\n\n  /**\n   * Apply slowed effect\n   */\n  applySlowedEffect(target) {\n    target.statusEffects = target.statusEffects || new Set();\n    target.statusEffects.add('slowed');\n    target.speedMultiplier = 0.5;\n  }\n\n  /**\n   * Update combo\n   */\n  updateCombo(attacker, target) {\n    const comboId = `${attacker.id}_${target.id}`;\n    let combo = this.combatState.combos.get(comboId);\n    \n    if (!combo) {\n      combo = {\n        id: comboId,\n        attacker: attacker,\n        target: target,\n        hits: 0,\n        damage: 0,\n        timeSinceLastHit: 0,\n        startTime: Date.now()\n      };\n      this.combatState.combos.set(comboId, combo);\n    }\n    \n    combo.hits++;\n    combo.timeSinceLastHit = 0;\n    \n    // Apply combo bonuses\n    const comboMultiplier = 1 + (combo.hits * 0.1);\n    this.eventBus.emit('combat:comboHit', {\n      combo,\n      multiplier: comboMultiplier\n    });\n  }\n\n  /**\n   * End combo\n   */\n  endCombo(combo) {\n    this.eventBus.emit('combat:comboEnded', {\n      combo,\n      finalHits: combo.hits,\n      totalDamage: combo.damage\n    });\n  }\n\n  /**\n   * Get entities in range\n   */\n  getEntitiesInRange(x, y, range) {\n    const entities = [];\n    \n    // Check enemies\n    for (const enemy of this.combatState.enemies.values()) {\n      const distance = this.getDistance({ x, y }, enemy);\n      if (distance <= range) {\n        entities.push(enemy);\n      }\n    }\n    \n    return entities;\n  }\n\n  /**\n   * Check projectile collisions\n   */\n  checkProjectileCollisions(projectile) {\n    // Check collision with enemies\n    for (const enemy of this.combatState.enemies.values()) {\n      const distance = this.getDistance(projectile, enemy);\n      if (distance < 20) {\n        this.dealDamage(enemy, projectile.damage, projectile.caster);\n        this.combatState.projectiles.delete(projectile.id);\n        return;\n      }\n    }\n  }\n\n  /**\n   * Check if projectile is expired\n   */\n  isProjectileExpired(projectile) {\n    return Date.now() - projectile.createdAt > projectile.lifetime;\n  }\n\n  /**\n   * Create attack effect\n   */\n  createAttackEffect(attacker, target, ability) {\n    // Create visual effect for attack\n    this.eventBus.emit('combat:attackEffect', {\n      attacker,\n      target,\n      ability,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Create damage effect\n   */\n  createDamageEffect(target, damage) {\n    // Create visual effect for damage\n    this.eventBus.emit('combat:damageEffect', {\n      target,\n      damage,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Create death effect\n   */\n  createDeathEffect(entity) {\n    // Create visual effect for death\n    this.eventBus.emit('combat:deathEffect', {\n      entity,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Drop loot\n   */\n  dropLoot(entity) {\n    if (!entity.loot) return;\n    \n    const loot = {\n      gold: this.calculateLootAmount(entity.loot.gold),\n      items: this.calculateLootItems(entity.loot.items)\n    };\n    \n    this.eventBus.emit('combat:lootDropped', {\n      entity,\n      loot,\n      position: { x: entity.x, y: entity.y }\n    });\n  }\n\n  /**\n   * Calculate loot amount\n   */\n  calculateLootAmount(lootRange) {\n    if (!lootRange || lootRange.length !== 2) return 0;\n    return Math.floor(Math.random() * (lootRange[1] - lootRange[0] + 1)) + lootRange[0];\n  }\n\n  /**\n   * Calculate loot items\n   */\n  calculateLootItems(itemList) {\n    if (!itemList || itemList.length === 0) return [];\n    \n    const items = [];\n    const dropChance = 0.3; // 30% chance to drop an item\n    \n    itemList.forEach(item => {\n      if (Math.random() < dropChance) {\n        items.push(item);\n      }\n    });\n    \n    return items;\n  }\n\n  /**\n   * Award experience\n   */\n  awardExperience(entity) {\n    const experience = this.calculateExperience(entity);\n    \n    this.eventBus.emit('combat:experienceGained', {\n      amount: experience,\n      source: entity,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Calculate experience\n   */\n  calculateExperience(entity) {\n    const baseExp = entity.maxHealth * 0.1;\n    const levelBonus = entity.level || 1;\n    return Math.floor(baseExp * levelBonus);\n  }\n\n  /**\n   * Enemy attack\n   */\n  enemyAttack(enemy, target) {\n    const ability = this.abilities.basic_attack;\n    this.handleAttack({\n      attacker: enemy,\n      target: target,\n      ability: ability\n    });\n    \n    enemy.lastAttackTime = Date.now();\n  }\n\n  /**\n   * Enemy ranged attack\n   */\n  enemyRangedAttack(enemy, target) {\n    const ability = this.abilities.fireball;\n    this.useProjectileAbility(enemy, ability, target);\n    \n    enemy.lastAttackTime = Date.now();\n  }\n\n  /**\n   * Enemy backstab\n   */\n  enemyBackstab(enemy, target) {\n    const ability = { ...this.abilities.basic_attack, damage: 3.0 };\n    this.handleAttack({\n      attacker: enemy,\n      target: target,\n      ability: ability\n    });\n    \n    enemy.lastAttackTime = Date.now();\n  }\n\n  /**\n   * Use enemy ability\n   */\n  useEnemyAbility(enemy, abilityId) {\n    const ability = this.abilities[abilityId];\n    if (!ability) return;\n    \n    this.useAbility(enemy, ability, null);\n  }\n\n  /**\n   * Use player ability\n   */\n  usePlayerAbility(ability, target) {\n    this.useAbility(this.player, ability, target);\n  }\n\n  /**\n   * Handle enemy death\n   */\n  handleEnemyDeath(enemy) {\n    this.handleDeath({ entity: enemy });\n  }\n\n  /**\n   * Get combat state\n   */\n  getCombatState() {\n    return { ...this.combatState };\n  }\n\n  /**\n   * Get enemy count\n   */\n  getEnemyCount() {\n    return this.combatState.enemies.size;\n  }\n\n  /**\n   * Is in combat\n   */\n  isInCombat() {\n    return this.combatState.isInCombat;\n  }\n}\n\nexport default CombatSystem;", "/**\n * ProceduralAreaSystem.js - Procedural Area and Dungeon Generation System\n *\n * This system handles:\n * - Procedural area generation\n * - Dungeon creation and layout\n * - Biome generation\n * - Loot placement\n * - Enemy spawning\n * - Exploration mechanics\n */\n\nexport class ProceduralAreaSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('ProceduralAreaSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('ProceduralAreaSystem requires logger dependency');\n    }\n\n    // Area generation state\n    this.generationState = {\n      currentArea: null,\n      generatedAreas: new Map(),\n      activeDungeons: new Map(),\n      explorationData: new Map(),\n      seed: Date.now(),\n    };\n\n    // Generation configuration\n    this.generationConfig = {\n      maxAreaSize: 2000,\n      minAreaSize: 500,\n      chunkSize: 100,\n      maxDungeonDepth: 10,\n      biomeTransitionSmoothness: 0.3,\n      lootDensity: 0.1,\n      enemyDensity: 0.05,\n    };\n\n    // Biome definitions\n    this.biomes = this.initializeBiomes();\n    \n    // Dungeon templates\n    this.dungeonTemplates = this.initializeDungeonTemplates();\n    \n    // Loot tables\n    this.lootTables = this.initializeLootTables();\n    \n    // Enemy spawn tables\n    this.enemySpawnTables = this.initializeEnemySpawnTables();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('ProceduralAreaSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing ProceduralAreaSystem...');\n    \n    // Set up random number generator with seed\n    this.rng = this.createSeededRNG(this.generationState.seed);\n    \n    // Generate initial area\n    await this.generateArea('starting_forest', 0, 0);\n    \n    this.logger.info('ProceduralAreaSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up ProceduralAreaSystem...');\n    \n    // Clear generated areas\n    this.generationState.generatedAreas.clear();\n    this.generationState.activeDungeons.clear();\n    this.generationState.explorationData.clear();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('ProceduralAreaSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update active dungeons\n    this.updateActiveDungeons(deltaTime);\n    \n    // Update exploration data\n    this.updateExplorationData(deltaTime);\n    \n    // Check for area transitions\n    this.checkAreaTransitions(gameState);\n  }\n\n  /**\n   * Initialize biomes\n   */\n  initializeBiomes() {\n    return {\n      forest: {\n        name: 'Forest',\n        description: 'A dense woodland with ancient trees',\n        color: '#228B22',\n        terrain: {\n          ground: 'grass',\n          obstacles: ['tree', 'rock', 'bush'],\n          decorations: ['flower', 'mushroom', 'fallen_log']\n        },\n        weather: {\n          type: 'sunny',\n          intensity: 0.5,\n          effects: ['dappled_light', 'bird_sounds']\n        },\n        loot: {\n          common: ['herbs', 'berries', 'wood'],\n          uncommon: ['rare_herbs', 'animal_pelt'],\n          rare: ['magical_herbs', 'ancient_wood']\n        },\n        enemies: ['goblin', 'wolf', 'spider'],\n        ambientSounds: ['wind_through_trees', 'bird_chirping'],\n        music: 'forest_ambient'\n      },\n      \n      desert: {\n        name: 'Desert',\n        description: 'A vast expanse of sand and dunes',\n        color: '#F4A460',\n        terrain: {\n          ground: 'sand',\n          obstacles: ['cactus', 'rock_formation', 'sand_dune'],\n          decorations: ['desert_flower', 'bone', 'ancient_ruins']\n        },\n        weather: {\n          type: 'hot',\n          intensity: 0.8,\n          effects: ['heat_haze', 'sand_storm']\n        },\n        loot: {\n          common: ['sand_crystal', 'desert_flower'],\n          uncommon: ['ancient_coin', 'desert_artifact'],\n          rare: ['pharaoh_treasure', 'sand_magic_crystal']\n        },\n        enemies: ['scorpion', 'desert_nomad', 'sand_elemental'],\n        ambientSounds: ['wind_across_sand', 'desert_silence'],\n        music: 'desert_ambient'\n      },\n      \n      mountain: {\n        name: 'Mountain',\n        description: 'Rugged peaks and rocky terrain',\n        color: '#696969',\n        terrain: {\n          ground: 'stone',\n          obstacles: ['boulder', 'cliff', 'snow_patch'],\n          decorations: ['mountain_flower', 'crystal_formation', 'eagle_nest']\n        },\n        weather: {\n          type: 'cold',\n          intensity: 0.7,\n          effects: ['snow', 'fog', 'strong_winds']\n        },\n        loot: {\n          common: ['mountain_herbs', 'iron_ore'],\n          uncommon: ['precious_gem', 'mountain_crystal'],\n          rare: ['dragon_scale', 'mountain_pearl']\n        },\n        enemies: ['mountain_troll', 'eagle', 'ice_elemental'],\n        ambientSounds: ['wind_through_rocks', 'eagle_cry'],\n        music: 'mountain_ambient'\n      },\n      \n      swamp: {\n        name: 'Swamp',\n        description: 'A murky wetland with twisted trees',\n        color: '#556B2F',\n        terrain: {\n          ground: 'mud',\n          obstacles: ['swamp_tree', 'mud_pit', 'quicksand'],\n          decorations: ['moss', 'lily_pad', 'ancient_statue']\n        },\n        weather: {\n          type: 'humid',\n          intensity: 0.6,\n          effects: ['fog', 'miasma', 'rain']\n        },\n        loot: {\n          common: ['swamp_moss', 'mud_crystal'],\n          uncommon: ['swamp_herb', 'ancient_relic'],\n          rare: ['swamp_magic_essence', 'cursed_artifact']\n        },\n        enemies: ['swamp_monster', 'poison_frog', 'will_o_wisp'],\n        ambientSounds: ['water_dripping', 'frog_croaking'],\n        music: 'swamp_ambient'\n      },\n      \n      arctic: {\n        name: 'Arctic',\n        description: 'Frozen wasteland with ice and snow',\n        color: '#B0E0E6',\n        terrain: {\n          ground: 'ice',\n          obstacles: ['ice_formation', 'snow_drift', 'frozen_lake'],\n          decorations: ['ice_crystal', 'aurora', 'polar_bear_track']\n        },\n        weather: {\n          type: 'freezing',\n          intensity: 0.9,\n          effects: ['blizzard', 'ice_storm', 'northern_lights']\n        },\n        loot: {\n          common: ['ice_crystal', 'snow_essence'],\n          uncommon: ['arctic_fur', 'ice_gem'],\n          rare: ['aurora_crystal', 'ice_dragon_scale']\n        },\n        enemies: ['polar_bear', 'ice_wolf', 'frost_giant'],\n        ambientSounds: ['wind_across_ice', 'ice_cracking'],\n        music: 'arctic_ambient'\n      },\n      \n      volcanic: {\n        name: 'Volcanic',\n        description: 'A land of fire and molten rock',\n        color: '#8B0000',\n        terrain: {\n          ground: 'lava_rock',\n          obstacles: ['lava_pool', 'volcanic_rock', 'ash_pile'],\n          decorations: ['lava_crystal', 'volcanic_glass', 'dragon_bone']\n        },\n        weather: {\n          type: 'scorching',\n          intensity: 1.0,\n          effects: ['lava_rain', 'ash_cloud', 'heat_waves']\n        },\n        loot: {\n          common: ['lava_crystal', 'volcanic_ash'],\n          uncommon: ['fire_gem', 'dragon_scale'],\n          rare: ['phoenix_feather', 'volcanic_core']\n        },\n        enemies: ['fire_elemental', 'lava_golem', 'fire_dragon'],\n        ambientSounds: ['lava_bubbling', 'volcanic_rumble'],\n        music: 'volcanic_ambient'\n      }\n    };\n  }\n\n  /**\n   * Initialize dungeon templates\n   */\n  initializeDungeonTemplates() {\n    return {\n      ancient_tomb: {\n        name: 'Ancient Tomb',\n        description: 'A mysterious burial chamber',\n        levels: 3,\n        rooms: {\n          entrance: {\n            type: 'entrance',\n            size: { width: 200, height: 150 },\n            enemies: ['skeleton', 'zombie'],\n            loot: ['ancient_coin', 'tomb_relic']\n          },\n          main_chamber: {\n            type: 'boss',\n            size: { width: 300, height: 200 },\n            enemies: ['tomb_guardian'],\n            loot: ['ancient_treasure', 'magical_artifact']\n          },\n          treasure_room: {\n            type: 'treasure',\n            size: { width: 150, height: 150 },\n            enemies: [],\n            loot: ['gold_hoard', 'rare_gem', 'legendary_item']\n          }\n        },\n        connections: [\n          { from: 'entrance', to: 'main_chamber' },\n          { from: 'main_chamber', to: 'treasure_room' }\n        ]\n      },\n      \n      goblin_cave: {\n        name: 'Goblin Cave',\n        description: 'A network of tunnels inhabited by goblins',\n        levels: 2,\n        rooms: {\n          cave_entrance: {\n            type: 'entrance',\n            size: { width: 180, height: 120 },\n            enemies: ['goblin', 'goblin_warrior'],\n            loot: ['goblin_ear', 'rusty_weapon']\n          },\n          goblin_camp: {\n            type: 'camp',\n            size: { width: 250, height: 180 },\n            enemies: ['goblin_chief', 'goblin_shaman'],\n            loot: ['goblin_treasure', 'shaman_staff']\n          }\n        },\n        connections: [\n          { from: 'cave_entrance', to: 'goblin_camp' }\n        ]\n      },\n      \n      dragon_lair: {\n        name: 'Dragon Lair',\n        description: 'The lair of a powerful dragon',\n        levels: 5,\n        rooms: {\n          lair_entrance: {\n            type: 'entrance',\n            size: { width: 200, height: 150 },\n            enemies: ['dragon_guardian', 'fire_elemental'],\n            loot: ['dragon_scale', 'fire_gem']\n          },\n          treasure_chamber: {\n            type: 'treasure',\n            size: { width: 300, height: 200 },\n            enemies: ['dragon_hoard_guardian'],\n            loot: ['dragon_gold', 'magical_weapon']\n          },\n          dragon_throne: {\n            type: 'boss',\n            size: { width: 400, height: 300 },\n            enemies: ['ancient_dragon'],\n            loot: ['dragon_heart', 'legendary_armor', 'dragon_essence']\n          }\n        },\n        connections: [\n          { from: 'lair_entrance', to: 'treasure_chamber' },\n          { from: 'treasure_chamber', to: 'dragon_throne' }\n        ]\n      }\n    };\n  }\n\n  /**\n   * Initialize loot tables\n   */\n  initializeLootTables() {\n    return {\n      common: [\n        { item: 'health_potion', weight: 30, value: 10 },\n        { item: 'mana_potion', weight: 25, value: 10 },\n        { item: 'gold_coin', weight: 20, value: 5 },\n        { item: 'iron_ore', weight: 15, value: 8 },\n        { item: 'basic_weapon', weight: 10, value: 15 }\n      ],\n      uncommon: [\n        { item: 'greater_health_potion', weight: 25, value: 25 },\n        { item: 'magic_scroll', weight: 20, value: 30 },\n        { item: 'silver_coin', weight: 15, value: 20 },\n        { item: 'steel_ore', weight: 15, value: 25 },\n        { item: 'enchanted_weapon', weight: 15, value: 50 },\n        { item: 'rare_gem', weight: 10, value: 40 }\n      ],\n      rare: [\n        { item: 'elixir_of_life', weight: 20, value: 100 },\n        { item: 'ancient_scroll', weight: 15, value: 150 },\n        { item: 'gold_coin_pile', weight: 15, value: 75 },\n        { item: 'mithril_ore', weight: 15, value: 100 },\n        { item: 'legendary_weapon', weight: 15, value: 300 },\n        { item: 'precious_gem', weight: 10, value: 200 },\n        { item: 'magical_artifact', weight: 10, value: 500 }\n      ],\n      legendary: [\n        { item: 'phoenix_elixir', weight: 15, value: 1000 },\n        { item: 'dragon_scroll', weight: 10, value: 2000 },\n        { item: 'treasure_chest', weight: 15, value: 500 },\n        { item: 'adamantine_ore', weight: 10, value: 1000 },\n        { item: 'mythical_weapon', weight: 15, value: 5000 },\n        { item: 'dragon_gem', weight: 10, value: 3000 },\n        { item: 'divine_artifact', weight: 10, value: 10000 },\n        { item: 'world_essence', weight: 15, value: 5000 }\n      ]\n    };\n  }\n\n  /**\n   * Initialize enemy spawn tables\n   */\n  initializeEnemySpawnTables() {\n    return {\n      forest: [\n        { enemy: 'goblin', weight: 40, level: 1 },\n        { enemy: 'wolf', weight: 30, level: 2 },\n        { enemy: 'spider', weight: 20, level: 1 },\n        { enemy: 'bear', weight: 10, level: 3 }\n      ],\n      desert: [\n        { enemy: 'scorpion', weight: 35, level: 2 },\n        { enemy: 'desert_nomad', weight: 30, level: 3 },\n        { enemy: 'sand_elemental', weight: 20, level: 4 },\n        { enemy: 'desert_dragon', weight: 15, level: 6 }\n      ],\n      mountain: [\n        { enemy: 'mountain_troll', weight: 25, level: 4 },\n        { enemy: 'eagle', weight: 30, level: 2 },\n        { enemy: 'ice_elemental', weight: 25, level: 5 },\n        { enemy: 'mountain_giant', weight: 20, level: 7 }\n      ],\n      swamp: [\n        { enemy: 'swamp_monster', weight: 30, level: 3 },\n        { enemy: 'poison_frog', weight: 25, level: 1 },\n        { enemy: 'will_o_wisp', weight: 25, level: 4 },\n        { enemy: 'swamp_dragon', weight: 20, level: 6 }\n      ],\n      arctic: [\n        { enemy: 'polar_bear', weight: 30, level: 4 },\n        { enemy: 'ice_wolf', weight: 25, level: 3 },\n        { enemy: 'frost_giant', weight: 25, level: 6 },\n        { enemy: 'ice_dragon', weight: 20, level: 8 }\n      ],\n      volcanic: [\n        { enemy: 'fire_elemental', weight: 30, level: 5 },\n        { enemy: 'lava_golem', weight: 25, level: 6 },\n        { enemy: 'fire_dragon', weight: 25, level: 8 },\n        { enemy: 'volcanic_titan', weight: 20, level: 10 }\n      ]\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Area events\n    this.eventBus.on('area:generate', this.generateArea.bind(this));\n    this.eventBus.on('area:explore', this.exploreArea.bind(this));\n    this.eventBus.on('area:transition', this.handleAreaTransition.bind(this));\n    \n    // Dungeon events\n    this.eventBus.on('dungeon:enter', this.enterDungeon.bind(this));\n    this.eventBus.on('dungeon:exit', this.exitDungeon.bind(this));\n    this.eventBus.on('dungeon:complete', this.completeDungeon.bind(this));\n    \n    // Exploration events\n    this.eventBus.on('exploration:discover', this.handleDiscovery.bind(this));\n    this.eventBus.on('exploration:loot', this.handleLootDiscovery.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('area:generate', this.generateArea.bind(this));\n    this.eventBus.removeListener('area:explore', this.exploreArea.bind(this));\n    this.eventBus.removeListener('area:transition', this.handleAreaTransition.bind(this));\n    this.eventBus.removeListener('dungeon:enter', this.enterDungeon.bind(this));\n    this.eventBus.removeListener('dungeon:exit', this.exitDungeon.bind(this));\n    this.eventBus.removeListener('dungeon:complete', this.completeDungeon.bind(this));\n    this.eventBus.removeListener('exploration:discover', this.handleDiscovery.bind(this));\n    this.eventBus.removeListener('exploration:loot', this.handleLootDiscovery.bind(this));\n  }\n\n  /**\n   * Create seeded random number generator\n   */\n  createSeededRNG(seed) {\n    let state = seed;\n    return {\n      next: () => {\n        state = (state * 9301 + 49297) % 233280;\n        return state / 233280;\n      },\n      nextInt: (min, max) => {\n        return Math.floor(this.rng.next() * (max - min + 1)) + min;\n      },\n      nextFloat: (min, max) => {\n        return this.rng.next() * (max - min) + min;\n      }\n    };\n  }\n\n  /**\n   * Generate area\n   */\n  async generateArea(areaType, x, y) {\n    const areaId = `${areaType}_${x}_${y}`;\n    \n    if (this.generationState.generatedAreas.has(areaId)) {\n      return this.generationState.generatedAreas.get(areaId);\n    }\n    \n    this.logger.info(`Generating area: ${areaType} at (${x}, ${y})`);\n    \n    const area = {\n      id: areaId,\n      type: areaType,\n      x: x,\n      y: y,\n      size: this.generateAreaSize(),\n      biome: this.determineBiome(x, y),\n      terrain: this.generateTerrain(x, y),\n      loot: this.generateLoot(x, y),\n      enemies: this.generateEnemies(x, y),\n      dungeons: this.generateDungeons(x, y),\n      exploration: this.initializeExplorationData(areaId),\n      generatedAt: Date.now()\n    };\n    \n    this.generationState.generatedAreas.set(areaId, area);\n    \n    this.eventBus.emit('area:generated', {\n      area,\n      timestamp: Date.now()\n    });\n    \n    return area;\n  }\n\n  /**\n   * Generate area size\n   */\n  generateAreaSize() {\n    const minSize = this.generationConfig.minAreaSize;\n    const maxSize = this.generationConfig.maxAreaSize;\n    return {\n      width: this.rng.nextInt(minSize, maxSize),\n      height: this.rng.nextInt(minSize, maxSize)\n    };\n  }\n\n  /**\n   * Determine biome based on coordinates\n   */\n  determineBiome(x, y) {\n    // Use noise function to determine biome\n    const noise = this.noise2D(x * 0.01, y * 0.01);\n    const biomeKeys = Object.keys(this.biomes);\n    const biomeIndex = Math.floor((noise + 1) * 0.5 * biomeKeys.length);\n    return biomeKeys[Math.min(biomeIndex, biomeKeys.length - 1)];\n  }\n\n  /**\n   * Generate terrain\n   */\n  generateTerrain(x, y) {\n    const biome = this.determineBiome(x, y);\n    const biomeData = this.biomes[biome];\n    \n    const terrain = {\n      ground: biomeData.terrain.ground,\n      obstacles: [],\n      decorations: [],\n      heightMap: this.generateHeightMap(x, y),\n      waterSources: this.generateWaterSources(x, y),\n      caves: this.generateCaves(x, y)\n    };\n    \n    // Generate obstacles\n    const obstacleCount = this.rng.nextInt(10, 30);\n    for (let i = 0; i < obstacleCount; i++) {\n      const obstacle = this.generateObstacle(biomeData.terrain.obstacles, x, y);\n      if (obstacle) terrain.obstacles.push(obstacle);\n    }\n    \n    // Generate decorations\n    const decorationCount = this.rng.nextInt(15, 40);\n    for (let i = 0; i < decorationCount; i++) {\n      const decoration = this.generateDecoration(biomeData.terrain.decorations, x, y);\n      if (decoration) terrain.decorations.push(decoration);\n    }\n    \n    return terrain;\n  }\n\n  /**\n   * Generate height map\n   */\n  generateHeightMap(x, y) {\n    const size = this.generationConfig.chunkSize;\n    const heightMap = [];\n    \n    for (let i = 0; i < size; i++) {\n      heightMap[i] = [];\n      for (let j = 0; j < size; j++) {\n        const worldX = x + i;\n        const worldY = y + j;\n        heightMap[i][j] = this.noise2D(worldX * 0.1, worldY * 0.1);\n      }\n    }\n    \n    return heightMap;\n  }\n\n  /**\n   * Generate water sources\n   */\n  generateWaterSources(x, y) {\n    const sources = [];\n    const sourceCount = this.rng.nextInt(2, 8);\n    \n    for (let i = 0; i < sourceCount; i++) {\n      sources.push({\n        x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n        y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n        size: this.rng.nextInt(20, 80),\n        type: this.rng.next() < 0.7 ? 'pond' : 'river'\n      });\n    }\n    \n    return sources;\n  }\n\n  /**\n   * Generate caves\n   */\n  generateCaves(x, y) {\n    const caves = [];\n    const caveCount = this.rng.nextInt(1, 4);\n    \n    for (let i = 0; i < caveCount; i++) {\n      caves.push({\n        x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n        y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n        depth: this.rng.nextInt(1, 5),\n        type: this.rng.next() < 0.5 ? 'natural' : 'dungeon'\n      });\n    }\n    \n    return caves;\n  }\n\n  /**\n   * Generate obstacle\n   */\n  generateObstacle(obstacleTypes, x, y) {\n    const obstacleType = obstacleTypes[Math.floor(this.rng.next() * obstacleTypes.length)];\n    const size = this.rng.nextInt(20, 60);\n    \n    return {\n      type: obstacleType,\n      x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n      y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n      width: size,\n      height: size,\n      rotation: this.rng.next() * Math.PI * 2\n    };\n  }\n\n  /**\n   * Generate decoration\n   */\n  generateDecoration(decorationTypes, x, y) {\n    const decorationType = decorationTypes[Math.floor(this.rng.next() * decorationTypes.length)];\n    const size = this.rng.nextInt(10, 30);\n    \n    return {\n      type: decorationType,\n      x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n      y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n      width: size,\n      height: size,\n      rotation: this.rng.next() * Math.PI * 2\n    };\n  }\n\n  /**\n   * Generate loot\n   */\n  generateLoot(x, y) {\n    const loot = [];\n    const lootCount = Math.floor(this.rng.next() * 10) + 5;\n    \n    for (let i = 0; i < lootCount; i++) {\n      const lootItem = this.generateLootItem(x, y);\n      if (lootItem) loot.push(lootItem);\n    }\n    \n    return loot;\n  }\n\n  /**\n   * Generate loot item\n   */\n  generateLootItem(x, y) {\n    const rarity = this.determineLootRarity();\n    const lootTable = this.lootTables[rarity];\n    \n    if (!lootTable || lootTable.length === 0) return null;\n    \n    const totalWeight = lootTable.reduce((sum, item) => sum + item.weight, 0);\n    let randomWeight = this.rng.next() * totalWeight;\n    \n    for (const item of lootTable) {\n      randomWeight -= item.weight;\n      if (randomWeight <= 0) {\n        return {\n          item: item.item,\n          rarity: rarity,\n          value: item.value,\n          x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n          y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n          discovered: false\n        };\n      }\n    }\n    \n    return null;\n  }\n\n  /**\n   * Determine loot rarity\n   */\n  determineLootRarity() {\n    const roll = this.rng.next();\n    \n    if (roll < 0.6) return 'common';\n    if (roll < 0.85) return 'uncommon';\n    if (roll < 0.95) return 'rare';\n    return 'legendary';\n  }\n\n  /**\n   * Generate enemies\n   */\n  generateEnemies(x, y) {\n    const biome = this.determineBiome(x, y);\n    const spawnTable = this.enemySpawnTables[biome];\n    \n    if (!spawnTable) return [];\n    \n    const enemies = [];\n    const enemyCount = Math.floor(this.rng.next() * 8) + 3;\n    \n    for (let i = 0; i < enemyCount; i++) {\n      const enemy = this.generateEnemy(spawnTable, x, y);\n      if (enemy) enemies.push(enemy);\n    }\n    \n    return enemies;\n  }\n\n  /**\n   * Generate enemy\n   */\n  generateEnemy(spawnTable, x, y) {\n    const totalWeight = spawnTable.reduce((sum, enemy) => sum + enemy.weight, 0);\n    let randomWeight = this.rng.next() * totalWeight;\n    \n    for (const enemyData of spawnTable) {\n      randomWeight -= enemyData.weight;\n      if (randomWeight <= 0) {\n        return {\n          type: enemyData.enemy,\n          level: enemyData.level,\n          x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n          y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n          spawned: false,\n          defeated: false\n        };\n      }\n    }\n    \n    return null;\n  }\n\n  /**\n   * Generate dungeons\n   */\n  generateDungeons(x, y) {\n    const dungeons = [];\n    const dungeonCount = this.rng.nextInt(0, 3);\n    \n    for (let i = 0; i < dungeonCount; i++) {\n      const dungeon = this.generateDungeon(x, y);\n      if (dungeon) dungeons.push(dungeon);\n    }\n    \n    return dungeons;\n  }\n\n  /**\n   * Generate dungeon\n   */\n  generateDungeon(x, y) {\n    const templateKeys = Object.keys(this.dungeonTemplates);\n    const templateKey = templateKeys[Math.floor(this.rng.next() * templateKeys.length)];\n    const template = this.dungeonTemplates[templateKey];\n    \n    return {\n      id: `dungeon_${x}_${y}_${Date.now()}`,\n      template: templateKey,\n      name: template.name,\n      description: template.description,\n      x: this.rng.nextInt(0, this.generationConfig.chunkSize),\n      y: this.rng.nextInt(0, this.generationConfig.chunkSize),\n      level: 1,\n      maxLevel: template.levels,\n      completed: false,\n      discovered: false\n    };\n  }\n\n  /**\n   * Initialize exploration data\n   */\n  initializeExplorationData(areaId) {\n    return {\n      explored: false,\n      explorationProgress: 0,\n      discoveries: [],\n      secrets: [],\n      landmarks: [],\n      lastVisited: null\n    };\n  }\n\n  /**\n   * Explore area\n   */\n  exploreArea(areaId, playerPosition) {\n    const area = this.generationState.generatedAreas.get(areaId);\n    if (!area) return;\n    \n    const exploration = area.exploration;\n    exploration.explored = true;\n    exploration.lastVisited = Date.now();\n    \n    // Check for discoveries\n    this.checkForDiscoveries(area, playerPosition);\n    \n    // Update exploration progress\n    this.updateExplorationProgress(area);\n    \n    this.eventBus.emit('area:explored', {\n      areaId,\n      exploration,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Check for discoveries\n   */\n  checkForDiscoveries(area, playerPosition) {\n    // Check for loot discoveries\n    area.loot.forEach(loot => {\n      if (!loot.discovered) {\n        const distance = this.getDistance(playerPosition, { x: loot.x, y: loot.y });\n        if (distance < 50) {\n          loot.discovered = true;\n          this.eventBus.emit('exploration:loot', {\n            loot,\n            areaId: area.id,\n            timestamp: Date.now()\n          });\n        }\n      }\n    });\n    \n    // Check for dungeon discoveries\n    area.dungeons.forEach(dungeon => {\n      if (!dungeon.discovered) {\n        const distance = this.getDistance(playerPosition, { x: dungeon.x, y: dungeon.y });\n        if (distance < 100) {\n          dungeon.discovered = true;\n          this.eventBus.emit('exploration:discover', {\n            type: 'dungeon',\n            discovery: dungeon,\n            areaId: area.id,\n            timestamp: Date.now()\n          });\n        }\n      }\n    });\n  }\n\n  /**\n   * Update exploration progress\n   */\n  updateExplorationProgress(area) {\n    const totalDiscoveries = area.loot.length + area.dungeons.length;\n    const discoveredCount = area.loot.filter(l => l.discovered).length + \n                          area.dungeons.filter(d => d.discovered).length;\n    \n    area.exploration.explorationProgress = totalDiscoveries > 0 ? \n      (discoveredCount / totalDiscoveries) * 100 : 0;\n  }\n\n  /**\n   * Enter dungeon\n   */\n  enterDungeon(dungeonId) {\n    const dungeon = this.findDungeonById(dungeonId);\n    if (!dungeon) return;\n    \n    const dungeonInstance = this.createDungeonInstance(dungeon);\n    this.generationState.activeDungeons.set(dungeonId, dungeonInstance);\n    \n    this.eventBus.emit('dungeon:entered', {\n      dungeonId,\n      dungeon: dungeonInstance,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Exit dungeon\n   */\n  exitDungeon(dungeonId) {\n    const dungeon = this.generationState.activeDungeons.get(dungeonId);\n    if (!dungeon) return;\n    \n    this.generationState.activeDungeons.delete(dungeonId);\n    \n    this.eventBus.emit('dungeon:exited', {\n      dungeonId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Complete dungeon\n   */\n  completeDungeon(dungeonId) {\n    const dungeon = this.generationState.activeDungeons.get(dungeonId);\n    if (!dungeon) return;\n    \n    dungeon.completed = true;\n    \n    // Award completion rewards\n    this.awardDungeonRewards(dungeon);\n    \n    this.eventBus.emit('dungeon:completed', {\n      dungeonId,\n      dungeon,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Create dungeon instance\n   */\n  createDungeonInstance(dungeon) {\n    const template = this.dungeonTemplates[dungeon.template];\n    \n    return {\n      ...dungeon,\n      rooms: this.generateDungeonRooms(template),\n      currentRoom: 'entrance',\n      completedRooms: [],\n      enemies: this.generateDungeonEnemies(template),\n      loot: this.generateDungeonLoot(template)\n    };\n  }\n\n  /**\n   * Generate dungeon rooms\n   */\n  generateDungeonRooms(template) {\n    const rooms = {};\n    \n    Object.entries(template.rooms).forEach(([roomId, roomData]) => {\n      rooms[roomId] = {\n        ...roomData,\n        id: roomId,\n        explored: false,\n        enemies: [...roomData.enemies],\n        loot: [...roomData.loot]\n      };\n    });\n    \n    return rooms;\n  }\n\n  /**\n   * Generate dungeon enemies\n   */\n  generateDungeonEnemies(template) {\n    const enemies = [];\n    \n    Object.values(template.rooms).forEach(room => {\n      room.enemies.forEach(enemyType => {\n        enemies.push({\n          type: enemyType,\n          room: room.id,\n          x: this.rng.nextInt(0, room.size.width),\n          y: this.rng.nextInt(0, room.size.height),\n          defeated: false\n        });\n      });\n    });\n    \n    return enemies;\n  }\n\n  /**\n   * Generate dungeon loot\n   */\n  generateDungeonLoot(template) {\n    const loot = [];\n    \n    Object.values(template.rooms).forEach(room => {\n      room.loot.forEach(lootType => {\n        loot.push({\n          type: lootType,\n          room: room.id,\n          x: this.rng.nextInt(0, room.size.width),\n          y: this.rng.nextInt(0, room.size.height),\n          discovered: false\n        });\n      });\n    });\n    \n    return loot;\n  }\n\n  /**\n   * Award dungeon rewards\n   */\n  awardDungeonRewards(dungeon) {\n    const rewards = {\n      experience: dungeon.level * 100,\n      gold: dungeon.level * 50,\n      items: []\n    };\n    \n    // Add loot from all rooms\n    dungeon.loot.forEach(loot => {\n      if (loot.discovered) {\n        rewards.items.push(loot.type);\n      }\n    });\n    \n    this.eventBus.emit('dungeon:rewards', {\n      dungeonId: dungeon.id,\n      rewards,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle area transition\n   */\n  handleAreaTransition(data) {\n    const { fromArea, toArea, playerPosition } = data;\n    \n    // Generate new area if needed\n    this.generateArea(toArea.type, toArea.x, toArea.y);\n    \n    this.eventBus.emit('area:transitioned', {\n      fromArea,\n      toArea,\n      playerPosition,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle discovery\n   */\n  handleDiscovery(data) {\n    const { type, discovery, areaId } = data;\n    \n    this.logger.info(`Discovered ${type}: ${discovery.name} in area ${areaId}`);\n  }\n\n  /**\n   * Handle loot discovery\n   */\n  handleLootDiscovery(data) {\n    const { loot, areaId } = data;\n    \n    this.logger.info(`Discovered loot: ${loot.item} in area ${areaId}`);\n  }\n\n  /**\n   * Update active dungeons\n   */\n  updateActiveDungeons(deltaTime) {\n    for (const [dungeonId, dungeon] of this.generationState.activeDungeons) {\n      // Update dungeon state\n      this.updateDungeonState(dungeon, deltaTime);\n    }\n  }\n\n  /**\n   * Update exploration data\n   */\n  updateExplorationData(deltaTime) {\n    // Update exploration timers and effects\n  }\n\n  /**\n   * Check area transitions\n   */\n  checkAreaTransitions(gameState) {\n    if (!gameState.player) return;\n    \n    const player = gameState.player;\n    const currentArea = this.getCurrentArea(player.x, player.y);\n    \n    if (currentArea && currentArea.id !== this.generationState.currentArea?.id) {\n      this.generationState.currentArea = currentArea;\n      this.exploreArea(currentArea.id, { x: player.x, y: player.y });\n    }\n  }\n\n  /**\n   * Get current area\n   */\n  getCurrentArea(x, y) {\n    const areaX = Math.floor(x / this.generationConfig.chunkSize);\n    const areaY = Math.floor(y / this.generationConfig.chunkSize);\n    const areaId = `area_${areaX}_${areaY}`;\n    \n    return this.generationState.generatedAreas.get(areaId);\n  }\n\n  /**\n   * Find dungeon by ID\n   */\n  findDungeonById(dungeonId) {\n    for (const area of this.generationState.generatedAreas.values()) {\n      const dungeon = area.dungeons.find(d => d.id === dungeonId);\n      if (dungeon) return dungeon;\n    }\n    return null;\n  }\n\n  /**\n   * Update dungeon state\n   */\n  updateDungeonState(dungeon, deltaTime) {\n    // Update dungeon-specific logic\n  }\n\n  /**\n   * Get distance between two points\n   */\n  getDistance(point1, point2) {\n    const dx = point2.x - point1.x;\n    const dy = point2.y - point1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * 2D noise function\n   */\n  noise2D(x, y) {\n    // Simple noise function - in a real implementation, you'd use Perlin noise\n    return Math.sin(x) * Math.cos(y) * 0.5 + 0.5;\n  }\n\n  /**\n   * Get area data\n   */\n  getArea(areaId) {\n    return this.generationState.generatedAreas.get(areaId);\n  }\n\n  /**\n   * Get all areas\n   */\n  getAllAreas() {\n    return Array.from(this.generationState.generatedAreas.values());\n  }\n\n  /**\n   * Get active dungeons\n   */\n  getActiveDungeons() {\n    return Array.from(this.generationState.activeDungeons.values());\n  }\n\n  /**\n   * Get exploration data\n   */\n  getExplorationData(areaId) {\n    const area = this.generationState.generatedAreas.get(areaId);\n    return area ? area.exploration : null;\n  }\n}\n\nexport default ProceduralAreaSystem;", "/**\n * ItemizationSystem.js - Advanced Item and Loot Generation System\n *\n * This system handles:\n * - Item generation with random modifiers\n * - Rarity system and affix generation\n * - Item socketing and gem integration\n * - Loot tables and drop rates\n * - Item enhancement and crafting\n * - Set items and unique properties\n */\n\nexport class ItemizationSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('ItemizationSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('ItemizationSystem requires logger dependency');\n    }\n\n    // Item generation state\n    this.itemState = {\n      generatedItems: new Map(),\n      itemTemplates: new Map(),\n      affixDatabase: new Map(),\n      setItems: new Map(),\n      uniqueItems: new Map(),\n      craftingRecipes: new Map(),\n    };\n\n    // Item configuration\n    this.itemConfig = {\n      maxAffixes: {\n        common: 1,\n        uncommon: 2,\n        rare: 4,\n        epic: 6,\n        legendary: 8,\n        unique: 10\n      },\n      affixWeights: {\n        common: 100,\n        uncommon: 50,\n        rare: 25,\n        epic: 10,\n        legendary: 5,\n        unique: 1\n      },\n      socketChances: {\n        common: 0.1,\n        uncommon: 0.2,\n        rare: 0.3,\n        epic: 0.4,\n        legendary: 0.6,\n        unique: 0.8\n      }\n    };\n\n    // Initialize item systems\n    this.initializeItemTemplates();\n    this.initializeAffixDatabase();\n    this.initializeSetItems();\n    this.initializeUniqueItems();\n    this.initializeCraftingRecipes();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('ItemizationSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing ItemizationSystem...');\n    \n    // Load item data from storage\n    await this.loadItemData();\n    \n    this.logger.info('ItemizationSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up ItemizationSystem...');\n    \n    // Save item data\n    this.saveItemData();\n    \n    // Clear item state\n    this.itemState.generatedItems.clear();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('ItemizationSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update item effects\n    this.updateItemEffects(deltaTime);\n    \n    // Update crafting timers\n    this.updateCraftingTimers(deltaTime);\n  }\n\n  /**\n   * Initialize item templates\n   */\n  initializeItemTemplates() {\n    // Weapon templates\n    this.itemState.itemTemplates.set('sword', {\n      name: 'Sword',\n      type: 'weapon',\n      slot: 'main_hand',\n      baseStats: {\n        damage: { min: 10, max: 20 },\n        attackSpeed: 1.0,\n        range: 1.2\n      },\n      requirements: {\n        level: 1,\n        strength: 10\n      },\n      allowedAffixes: ['damage', 'attack_speed', 'critical_chance', 'critical_damage', 'elemental_damage'],\n      socketTypes: ['weapon'],\n      maxSockets: 6\n    });\n\n    this.itemState.itemTemplates.set('bow', {\n      name: 'Bow',\n      type: 'weapon',\n      slot: 'main_hand',\n      baseStats: {\n        damage: { min: 8, max: 16 },\n        attackSpeed: 1.2,\n        range: 3.0\n      },\n      requirements: {\n        level: 1,\n        dexterity: 12\n      },\n      allowedAffixes: ['damage', 'attack_speed', 'critical_chance', 'critical_damage', 'elemental_damage', 'piercing'],\n      socketTypes: ['weapon'],\n      maxSockets: 6\n    });\n\n    this.itemState.itemTemplates.set('staff', {\n      name: 'Staff',\n      type: 'weapon',\n      slot: 'main_hand',\n      baseStats: {\n        damage: { min: 6, max: 12 },\n        attackSpeed: 0.8,\n        range: 1.5\n      },\n      requirements: {\n        level: 1,\n        intelligence: 15\n      },\n      allowedAffixes: ['damage', 'spell_power', 'mana', 'mana_regeneration', 'elemental_damage', 'spell_critical'],\n      socketTypes: ['weapon'],\n      maxSockets: 6\n    });\n\n    // Armor templates\n    this.itemState.itemTemplates.set('helmet', {\n      name: 'Helmet',\n      type: 'armor',\n      slot: 'head',\n      baseStats: {\n        armor: 5,\n        health: 20\n      },\n      requirements: {\n        level: 1\n      },\n      allowedAffixes: ['armor', 'health', 'mana', 'resistance', 'critical_chance', 'experience_gain'],\n      socketTypes: ['armor'],\n      maxSockets: 4\n    });\n\n    this.itemState.itemTemplates.set('chestplate', {\n      name: 'Chestplate',\n      type: 'armor',\n      slot: 'chest',\n      baseStats: {\n        armor: 15,\n        health: 50\n      },\n      requirements: {\n        level: 1\n      },\n      allowedAffixes: ['armor', 'health', 'mana', 'resistance', 'damage_reduction', 'health_regeneration'],\n      socketTypes: ['armor'],\n      maxSockets: 4\n    });\n\n    this.itemState.itemTemplates.set('boots', {\n      name: 'Boots',\n      type: 'armor',\n      slot: 'feet',\n      baseStats: {\n        armor: 3,\n        movementSpeed: 1.1\n      },\n      requirements: {\n        level: 1\n      },\n      allowedAffixes: ['armor', 'movement_speed', 'health', 'resistance', 'stamina', 'jump_height'],\n      socketTypes: ['armor'],\n      maxSockets: 2\n    });\n\n    // Accessory templates\n    this.itemState.itemTemplates.set('ring', {\n      name: 'Ring',\n      type: 'accessory',\n      slot: 'ring',\n      baseStats: {\n        health: 10,\n        mana: 10\n      },\n      requirements: {\n        level: 1\n      },\n      allowedAffixes: ['health', 'mana', 'damage', 'armor', 'resistance', 'critical_chance', 'experience_gain'],\n      socketTypes: ['accessory'],\n      maxSockets: 2\n    });\n\n    this.itemState.itemTemplates.set('amulet', {\n      name: 'Amulet',\n      type: 'accessory',\n      slot: 'neck',\n      baseStats: {\n        health: 15,\n        mana: 15\n      },\n      requirements: {\n        level: 1\n      },\n      allowedAffixes: ['health', 'mana', 'damage', 'armor', 'resistance', 'critical_chance', 'experience_gain', 'luck'],\n      socketTypes: ['accessory'],\n      maxSockets: 2\n    });\n  }\n\n  /**\n   * Initialize affix database\n   */\n  initializeAffixDatabase() {\n    // Prefix affixes\n    this.itemState.affixDatabase.set('mighty', {\n      name: 'Mighty',\n      type: 'prefix',\n      rarity: 'common',\n      stats: { damage: { min: 5, max: 10 } },\n      level: 1,\n      weight: 50\n    });\n\n    this.itemState.affixDatabase.set('sharp', {\n      name: 'Sharp',\n      type: 'prefix',\n      rarity: 'common',\n      stats: { critical_chance: { min: 0.02, max: 0.05 } },\n      level: 1,\n      weight: 40\n    });\n\n    this.itemState.affixDatabase.set('sturdy', {\n      name: 'Sturdy',\n      type: 'prefix',\n      rarity: 'common',\n      stats: { armor: { min: 3, max: 8 } },\n      level: 1,\n      weight: 45\n    });\n\n    this.itemState.affixDatabase.set('vital', {\n      name: 'Vital',\n      type: 'prefix',\n      rarity: 'common',\n      stats: { health: { min: 15, max: 30 } },\n      level: 1,\n      weight: 35\n    });\n\n    this.itemState.affixDatabase.set('arcane', {\n      name: 'Arcane',\n      type: 'prefix',\n      rarity: 'uncommon',\n      stats: { mana: { min: 20, max: 40 }, spell_power: { min: 5, max: 12 } },\n      level: 5,\n      weight: 25\n    });\n\n    this.itemState.affixDatabase.set('legendary', {\n      name: 'Legendary',\n      type: 'prefix',\n      rarity: 'legendary',\n      stats: { \n        damage: { min: 25, max: 50 },\n        critical_chance: { min: 0.1, max: 0.2 },\n        critical_damage: { min: 0.5, max: 1.0 }\n      },\n      level: 20,\n      weight: 2\n    });\n\n    // Suffix affixes\n    this.itemState.affixDatabase.set('of_power', {\n      name: 'of Power',\n      type: 'suffix',\n      rarity: 'common',\n      stats: { damage: { min: 3, max: 7 } },\n      level: 1,\n      weight: 40\n    });\n\n    this.itemState.affixDatabase.set('of_protection', {\n      name: 'of Protection',\n      type: 'suffix',\n      rarity: 'common',\n      stats: { armor: { min: 2, max: 5 } },\n      level: 1,\n      weight: 35\n    });\n\n    this.itemState.affixDatabase.set('of_vitality', {\n      name: 'of Vitality',\n      type: 'suffix',\n      rarity: 'common',\n      stats: { health: { min: 10, max: 20 } },\n      level: 1,\n      weight: 30\n    });\n\n    this.itemState.affixDatabase.set('of_swiftness', {\n      name: 'of Swiftness',\n      type: 'suffix',\n      rarity: 'uncommon',\n      stats: { attack_speed: { min: 0.1, max: 0.2 }, movement_speed: { min: 0.05, max: 0.1 } },\n      level: 5,\n      weight: 20\n    });\n\n    this.itemState.affixDatabase.set('of_destruction', {\n      name: 'of Destruction',\n      type: 'suffix',\n      rarity: 'epic',\n      stats: { \n        damage: { min: 15, max: 30 },\n        critical_damage: { min: 0.3, max: 0.6 }\n      },\n      level: 15,\n      weight: 8\n    });\n\n    this.itemState.affixDatabase.set('of_immortality', {\n      name: 'of Immortality',\n      type: 'suffix',\n      rarity: 'legendary',\n      stats: { \n        health: { min: 100, max: 200 },\n        health_regeneration: { min: 5, max: 10 },\n        damage_reduction: { min: 0.1, max: 0.2 }\n      },\n      level: 25,\n      weight: 1\n    });\n\n    // Elemental affixes\n    this.itemState.affixDatabase.set('flaming', {\n      name: 'Flaming',\n      type: 'prefix',\n      rarity: 'uncommon',\n      stats: { fire_damage: { min: 8, max: 15 } },\n      level: 3,\n      weight: 20\n    });\n\n    this.itemState.affixDatabase.set('freezing', {\n      name: 'Freezing',\n      type: 'prefix',\n      rarity: 'uncommon',\n      stats: { ice_damage: { min: 8, max: 15 } },\n      level: 3,\n      weight: 20\n    });\n\n    this.itemState.affixDatabase.set('shocking', {\n      name: 'Shocking',\n      type: 'prefix',\n      rarity: 'uncommon',\n      stats: { lightning_damage: { min: 8, max: 15 } },\n      level: 3,\n      weight: 20\n    });\n\n    this.itemState.affixDatabase.set('poisonous', {\n      name: 'Poisonous',\n      type: 'prefix',\n      rarity: 'uncommon',\n      stats: { poison_damage: { min: 6, max: 12 } },\n      level: 3,\n      weight: 20\n    });\n  }\n\n  /**\n   * Initialize set items\n   */\n  initializeSetItems() {\n    this.itemState.setItems.set('warrior_set', {\n      name: 'Warrior\\'s Set',\n      pieces: ['helmet', 'chestplate', 'boots', 'gloves'],\n      bonuses: {\n        2: { damage: 20, armor: 10 },\n        3: { health: 50, critical_chance: 0.05 },\n        4: { damage: 50, armor: 25, health: 100 }\n      },\n      items: {\n        helmet: {\n          name: 'Warrior\\'s Helm',\n          baseStats: { armor: 8, health: 30 },\n          setBonus: 'warrior_set'\n        },\n        chestplate: {\n          name: 'Warrior\\'s Plate',\n          baseStats: { armor: 20, health: 60 },\n          setBonus: 'warrior_set'\n        },\n        boots: {\n          name: 'Warrior\\'s Boots',\n          baseStats: { armor: 5, movementSpeed: 1.1 },\n          setBonus: 'warrior_set'\n        },\n        gloves: {\n          name: 'Warrior\\'s Gauntlets',\n          baseStats: { armor: 6, damage: 5 },\n          setBonus: 'warrior_set'\n        }\n      }\n    });\n\n    this.itemState.setItems.set('mage_set', {\n      name: 'Mage\\'s Set',\n      pieces: ['hat', 'robe', 'boots', 'gloves'],\n      bonuses: {\n        2: { mana: 40, spell_power: 15 },\n        3: { mana_regeneration: 2, spell_critical: 0.1 },\n        4: { mana: 100, spell_power: 40, spell_critical: 0.2 }\n      },\n      items: {\n        hat: {\n          name: 'Mage\\'s Hat',\n          baseStats: { mana: 25, spell_power: 8 },\n          setBonus: 'mage_set'\n        },\n        robe: {\n          name: 'Mage\\'s Robe',\n          baseStats: { mana: 50, spell_power: 15 },\n          setBonus: 'mage_set'\n        },\n        boots: {\n          name: 'Mage\\'s Boots',\n          baseStats: { mana: 15, movementSpeed: 1.05 },\n          setBonus: 'mage_set'\n        },\n        gloves: {\n          name: 'Mage\\'s Gloves',\n          baseStats: { mana: 20, spell_power: 10 },\n          setBonus: 'mage_set'\n        }\n      }\n    });\n  }\n\n  /**\n   * Initialize unique items\n   */\n  initializeUniqueItems() {\n    this.itemState.uniqueItems.set('excalibur', {\n      name: 'Excalibur',\n      type: 'weapon',\n      slot: 'main_hand',\n      rarity: 'unique',\n      level: 30,\n      baseStats: {\n        damage: { min: 50, max: 100 },\n        attackSpeed: 1.2,\n        range: 1.5\n      },\n      uniqueStats: {\n        damage: 50,\n        critical_chance: 0.15,\n        critical_damage: 1.0,\n        light_damage: 25\n      },\n      uniqueProperties: [\n        'Chance to cast Light Beam on critical hit',\n        'Increases all light damage by 50%',\n        'Grants immunity to darkness effects'\n      ],\n      requirements: {\n        level: 30,\n        strength: 25,\n        dexterity: 20\n      },\n      maxSockets: 8\n    });\n\n    this.itemState.uniqueItems.set('crown_of_kings', {\n      name: 'Crown of Kings',\n      type: 'armor',\n      slot: 'head',\n      rarity: 'unique',\n      level: 25,\n      baseStats: {\n        armor: 15,\n        health: 100,\n        mana: 50\n      },\n      uniqueStats: {\n        health: 100,\n        mana: 50,\n        experience_gain: 0.25,\n        gold_find: 0.5\n      },\n      uniqueProperties: [\n        'Increases experience gain by 25%',\n        'Increases gold find by 50%',\n        'Grants +1 to all attributes'\n      ],\n      requirements: {\n        level: 25\n      },\n      maxSockets: 6\n    });\n\n    this.itemState.uniqueItems.set('ring_of_power', {\n      name: 'Ring of Power',\n      type: 'accessory',\n      slot: 'ring',\n      rarity: 'unique',\n      level: 20,\n      baseStats: {\n        health: 50,\n        mana: 50\n      },\n      uniqueStats: {\n        damage: 30,\n        armor: 20,\n        health: 50,\n        mana: 50,\n        critical_chance: 0.1,\n        critical_damage: 0.5\n      },\n      uniqueProperties: [\n        'Increases all damage by 30%',\n        'Increases all resistances by 25%',\n        'Grants immunity to status effects'\n      ],\n      requirements: {\n        level: 20\n      },\n      maxSockets: 4\n    });\n  }\n\n  /**\n   * Initialize crafting recipes\n   */\n  initializeCraftingRecipes() {\n    this.itemState.craftingRecipes.set('health_potion', {\n      name: 'Health Potion',\n      type: 'consumable',\n      ingredients: [\n        { item: 'healing_herb', quantity: 2 },\n        { item: 'water', quantity: 1 }\n      ],\n      result: {\n        item: 'health_potion',\n        quantity: 1\n      },\n      level: 1,\n      time: 5000\n    });\n\n    this.itemState.craftingRecipes.set('iron_sword', {\n      name: 'Iron Sword',\n      type: 'weapon',\n      ingredients: [\n        { item: 'iron_ore', quantity: 3 },\n        { item: 'wood', quantity: 1 }\n      ],\n      result: {\n        item: 'iron_sword',\n        quantity: 1\n      },\n      level: 5,\n      time: 30000\n    });\n\n    this.itemState.craftingRecipes.set('magic_ring', {\n      name: 'Magic Ring',\n      type: 'accessory',\n      ingredients: [\n        { item: 'gold_ore', quantity: 2 },\n        { item: 'magic_crystal', quantity: 1 },\n        { item: 'enchantment_scroll', quantity: 1 }\n      ],\n      result: {\n        item: 'magic_ring',\n        quantity: 1\n      },\n      level: 10,\n      time: 60000\n    });\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Item events\n    this.eventBus.on('item:generate', this.generateItem.bind(this));\n    this.eventBus.on('item:identify', this.identifyItem.bind(this));\n    this.eventBus.on('item:enhance', this.enhanceItem.bind(this));\n    this.eventBus.on('item:socket', this.socketItem.bind(this));\n    \n    // Crafting events\n    this.eventBus.on('crafting:start', this.startCrafting.bind(this));\n    this.eventBus.on('crafting:complete', this.completeCrafting.bind(this));\n    \n    // Loot events\n    this.eventBus.on('loot:drop', this.dropLoot.bind(this));\n    this.eventBus.on('loot:pickup', this.pickupLoot.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('item:generate', this.generateItem.bind(this));\n    this.eventBus.removeListener('item:identify', this.identifyItem.bind(this));\n    this.eventBus.removeListener('item:enhance', this.enhanceItem.bind(this));\n    this.eventBus.removeListener('item:socket', this.socketItem.bind(this));\n    this.eventBus.removeListener('crafting:start', this.startCrafting.bind(this));\n    this.eventBus.removeListener('crafting:complete', this.completeCrafting.bind(this));\n    this.eventBus.removeListener('loot:drop', this.dropLoot.bind(this));\n    this.eventBus.removeListener('loot:pickup', this.pickupLoot.bind(this));\n  }\n\n  /**\n   * Generate item\n   */\n  generateItem(data) {\n    const { template, level, rarity, quality } = data;\n    \n    const itemTemplate = this.itemState.itemTemplates.get(template);\n    if (!itemTemplate) {\n      this.logger.error(`Unknown item template: ${template}`);\n      return null;\n    }\n    \n    const item = this.createItem(itemTemplate, level, rarity, quality);\n    this.itemState.generatedItems.set(item.id, item);\n    \n    this.eventBus.emit('item:generated', {\n      item,\n      timestamp: Date.now()\n    });\n    \n    return item;\n  }\n\n  /**\n   * Create item\n   */\n  createItem(template, level, rarity, quality) {\n    const item = {\n      id: `item_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      template: template.name,\n      type: template.type,\n      slot: template.slot,\n      name: template.name,\n      level: level || 1,\n      rarity: rarity || this.determineRarity(),\n      quality: quality || this.determineQuality(),\n      baseStats: { ...template.baseStats },\n      affixes: [],\n      sockets: [],\n      setBonus: null,\n      uniqueProperties: [],\n      requirements: { ...template.requirements },\n      identified: false,\n      enhanced: false,\n      createdAt: Date.now()\n    };\n    \n    // Generate affixes\n    this.generateAffixes(item, template);\n    \n    // Generate sockets\n    this.generateSockets(item, template);\n    \n    // Apply set bonus if applicable\n    this.applySetBonus(item);\n    \n    // Apply unique properties if unique item\n    this.applyUniqueProperties(item);\n    \n    // Calculate final stats\n    this.calculateFinalStats(item);\n    \n    return item;\n  }\n\n  /**\n   * Determine item rarity\n   */\n  determineRarity() {\n    const roll = Math.random() * 100;\n    \n    if (roll < 60) return 'common';\n    if (roll < 85) return 'uncommon';\n    if (roll < 95) return 'rare';\n    if (roll < 99) return 'epic';\n    return 'legendary';\n  }\n\n  /**\n   * Determine item quality\n   */\n  determineQuality() {\n    const roll = Math.random() * 100;\n    \n    if (roll < 40) return 'normal';\n    if (roll < 70) return 'superior';\n    if (roll < 90) return 'exceptional';\n    return 'perfect';\n  }\n\n  /**\n   * Generate affixes\n   */\n  generateAffixes(item, template) {\n    const maxAffixes = this.itemConfig.maxAffixes[item.rarity];\n    const affixCount = Math.floor(Math.random() * maxAffixes) + 1;\n    \n    const availableAffixes = this.getAvailableAffixes(template.allowedAffixes, item.level);\n    \n    for (let i = 0; i < affixCount; i++) {\n      const affix = this.selectRandomAffix(availableAffixes, item.level);\n      if (affix) {\n        item.affixes.push(this.createAffixInstance(affix, item.level));\n      }\n    }\n  }\n\n  /**\n   * Get available affixes\n   */\n  getAvailableAffixes(allowedAffixes, level) {\n    const available = [];\n    \n    for (const [affixId, affix] of this.itemState.affixDatabase) {\n      if (affix.level <= level && this.isAffixCompatible(affix, allowedAffixes)) {\n        available.push(affix);\n      }\n    }\n    \n    return available;\n  }\n\n  /**\n   * Check if affix is compatible\n   */\n  isAffixCompatible(affix, allowedAffixes) {\n    // Check if affix stats are compatible with item type\n    const affixStats = Object.keys(affix.stats);\n    return affixStats.some(stat => allowedAffixes.includes(stat));\n  }\n\n  /**\n   * Select random affix\n   */\n  selectRandomAffix(availableAffixes, level) {\n    if (availableAffixes.length === 0) return null;\n    \n    const totalWeight = availableAffixes.reduce((sum, affix) => sum + affix.weight, 0);\n    let randomWeight = Math.random() * totalWeight;\n    \n    for (const affix of availableAffixes) {\n      randomWeight -= affix.weight;\n      if (randomWeight <= 0) {\n        return affix;\n      }\n    }\n    \n    return availableAffixes[0];\n  }\n\n  /**\n   * Create affix instance\n   */\n  createAffixInstance(affix, level) {\n    const instance = {\n      id: affix.name.toLowerCase().replace(/\\s+/g, '_'),\n      name: affix.name,\n      type: affix.type,\n      rarity: affix.rarity,\n      stats: {}\n    };\n    \n    // Generate stat values based on level\n    Object.entries(affix.stats).forEach(([stat, range]) => {\n      const min = range.min * (1 + level * 0.1);\n      const max = range.max * (1 + level * 0.1);\n      instance.stats[stat] = Math.floor(Math.random() * (max - min + 1)) + min;\n    });\n    \n    return instance;\n  }\n\n  /**\n   * Generate sockets\n   */\n  generateSockets(item, template) {\n    const socketChance = this.itemConfig.socketChances[item.rarity];\n    \n    if (Math.random() < socketChance) {\n      const socketCount = Math.floor(Math.random() * template.maxSockets) + 1;\n      \n      for (let i = 0; i < socketCount; i++) {\n        item.sockets.push({\n          id: `socket_${i}`,\n          type: template.socketTypes[Math.floor(Math.random() * template.socketTypes.length)],\n          gem: null\n        });\n      }\n    }\n  }\n\n  /**\n   * Apply set bonus\n   */\n  applySetBonus(item) {\n    // Check if item is part of a set\n    for (const [setId, setData] of this.itemState.setItems) {\n      if (setData.items[item.template]) {\n        item.setBonus = setId;\n        break;\n      }\n    }\n  }\n\n  /**\n   * Apply unique properties\n   */\n  applyUniqueProperties(item) {\n    if (item.rarity === 'unique') {\n      const uniqueItem = this.findUniqueItem(item.template);\n      if (uniqueItem) {\n        item.uniqueProperties = [...uniqueItem.uniqueProperties];\n        item.uniqueStats = { ...uniqueItem.uniqueStats };\n      }\n    }\n  }\n\n  /**\n   * Find unique item\n   */\n  findUniqueItem(template) {\n    for (const [id, uniqueItem] of this.itemState.uniqueItems) {\n      if (uniqueItem.name === template) {\n        return uniqueItem;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Calculate final stats\n   */\n  calculateFinalStats(item) {\n    item.finalStats = { ...item.baseStats };\n    \n    // Apply affix stats\n    item.affixes.forEach(affix => {\n      Object.entries(affix.stats).forEach(([stat, value]) => {\n        if (item.finalStats[stat]) {\n          if (typeof item.finalStats[stat] === 'object') {\n            item.finalStats[stat].min += value;\n            item.finalStats[stat].max += value;\n          } else {\n            item.finalStats[stat] += value;\n          }\n        } else {\n          item.finalStats[stat] = value;\n        }\n      });\n    });\n    \n    // Apply unique stats\n    if (item.uniqueStats) {\n      Object.entries(item.uniqueStats).forEach(([stat, value]) => {\n        if (item.finalStats[stat]) {\n          if (typeof item.finalStats[stat] === 'object') {\n            item.finalStats[stat].min += value;\n            item.finalStats[stat].max += value;\n          } else {\n            item.finalStats[stat] += value;\n          }\n        } else {\n          item.finalStats[stat] = value;\n        }\n      });\n    }\n    \n    // Apply quality multiplier\n    const qualityMultiplier = this.getQualityMultiplier(item.quality);\n    Object.keys(item.finalStats).forEach(stat => {\n      if (typeof item.finalStats[stat] === 'number') {\n        item.finalStats[stat] = Math.floor(item.finalStats[stat] * qualityMultiplier);\n      } else if (typeof item.finalStats[stat] === 'object') {\n        item.finalStats[stat].min = Math.floor(item.finalStats[stat].min * qualityMultiplier);\n        item.finalStats[stat].max = Math.floor(item.finalStats[stat].max * qualityMultiplier);\n      }\n    });\n  }\n\n  /**\n   * Get quality multiplier\n   */\n  getQualityMultiplier(quality) {\n    const multipliers = {\n      normal: 1.0,\n      superior: 1.1,\n      exceptional: 1.25,\n      perfect: 1.5\n    };\n    return multipliers[quality] || 1.0;\n  }\n\n  /**\n   * Identify item\n   */\n  identifyItem(data) {\n    const { itemId } = data;\n    const item = this.itemState.generatedItems.get(itemId);\n    \n    if (!item) {\n      this.logger.error(`Item not found: ${itemId}`);\n      return;\n    }\n    \n    item.identified = true;\n    \n    this.eventBus.emit('item:identified', {\n      item,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Enhance item\n   */\n  enhanceItem(data) {\n    const { itemId, enhancementLevel } = data;\n    const item = this.itemState.generatedItems.get(itemId);\n    \n    if (!item) {\n      this.logger.error(`Item not found: ${itemId}`);\n      return;\n    }\n    \n    if (item.enhanced) {\n      this.logger.warn('Item already enhanced');\n      return;\n    }\n    \n    // Apply enhancement bonuses\n    const enhancementMultiplier = 1 + (enhancementLevel * 0.1);\n    Object.keys(item.finalStats).forEach(stat => {\n      if (typeof item.finalStats[stat] === 'number') {\n        item.finalStats[stat] = Math.floor(item.finalStats[stat] * enhancementMultiplier);\n      } else if (typeof item.finalStats[stat] === 'object') {\n        item.finalStats[stat].min = Math.floor(item.finalStats[stat].min * enhancementMultiplier);\n        item.finalStats[stat].max = Math.floor(item.finalStats[stat].max * enhancementMultiplier);\n      }\n    });\n    \n    item.enhanced = true;\n    item.enhancementLevel = enhancementLevel;\n    \n    this.eventBus.emit('item:enhanced', {\n      item,\n      enhancementLevel,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Socket item\n   */\n  socketItem(data) {\n    const { itemId, socketId, gemId } = data;\n    const item = this.itemState.generatedItems.get(itemId);\n    \n    if (!item) {\n      this.logger.error(`Item not found: ${itemId}`);\n      return;\n    }\n    \n    const socket = item.sockets.find(s => s.id === socketId);\n    if (!socket) {\n      this.logger.error(`Socket not found: ${socketId}`);\n      return;\n    }\n    \n    if (socket.gem) {\n      this.logger.warn('Socket already has a gem');\n      return;\n    }\n    \n    // Socket the gem\n    socket.gem = gemId;\n    \n    // Apply gem effects\n    this.applyGemEffects(item, gemId);\n    \n    this.eventBus.emit('item:socketed', {\n      item,\n      socketId,\n      gemId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Apply gem effects\n   */\n  applyGemEffects(item, gemId) {\n    // This would apply the effects of the socketed gem\n    // Implementation depends on gem system\n    this.logger.info(`Applied gem effects: ${gemId}`);\n  }\n\n  /**\n   * Start crafting\n   */\n  startCrafting(data) {\n    const { recipeId, ingredients } = data;\n    const recipe = this.itemState.craftingRecipes.get(recipeId);\n    \n    if (!recipe) {\n      this.logger.error(`Recipe not found: ${recipeId}`);\n      return;\n    }\n    \n    // Check if player has required ingredients\n    if (!this.hasRequiredIngredients(ingredients, recipe.ingredients)) {\n      this.logger.warn('Missing required ingredients');\n      return;\n    }\n    \n    // Start crafting timer\n    const craftingId = `crafting_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    const crafting = {\n      id: craftingId,\n      recipe: recipe,\n      startTime: Date.now(),\n      endTime: Date.now() + recipe.time,\n      ingredients: ingredients,\n      completed: false\n    };\n    \n    this.itemState.craftingRecipes.set(craftingId, crafting);\n    \n    this.eventBus.emit('crafting:started', {\n      crafting,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Complete crafting\n   */\n  completeCrafting(data) {\n    const { craftingId } = data;\n    const crafting = this.itemState.craftingRecipes.get(craftingId);\n    \n    if (!crafting) {\n      this.logger.error(`Crafting not found: ${craftingId}`);\n      return;\n    }\n    \n    if (crafting.completed) {\n      this.logger.warn('Crafting already completed');\n      return;\n    }\n    \n    crafting.completed = true;\n    \n    // Generate crafted item\n    const item = this.generateItem({\n      template: crafting.recipe.result.item,\n      level: crafting.recipe.level\n    });\n    \n    this.eventBus.emit('crafting:completed', {\n      crafting,\n      item,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Check if player has required ingredients\n   */\n  hasRequiredIngredients(playerIngredients, requiredIngredients) {\n    for (const required of requiredIngredients) {\n      const playerIngredient = playerIngredients.find(ing => ing.item === required.item);\n      if (!playerIngredient || playerIngredient.quantity < required.quantity) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Drop loot\n   */\n  dropLoot(data) {\n    const { position, lootTable, level } = data;\n    \n    const loot = this.generateLootFromTable(lootTable, level);\n    \n    this.eventBus.emit('loot:dropped', {\n      loot,\n      position,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Generate loot from table\n   */\n  generateLootFromTable(lootTable, level) {\n    const loot = [];\n    \n    for (const entry of lootTable) {\n      if (Math.random() < entry.chance) {\n        const item = this.generateItem({\n          template: entry.item,\n          level: level || entry.level,\n          rarity: entry.rarity\n        });\n        \n        if (item) {\n          loot.push({\n            item: item,\n            quantity: entry.quantity || 1,\n            position: entry.position || { x: 0, y: 0 }\n          });\n        }\n      }\n    }\n    \n    return loot;\n  }\n\n  /**\n   * Pickup loot\n   */\n  pickupLoot(data) {\n    const { lootId } = data;\n    \n    this.eventBus.emit('loot:pickedUp', {\n      lootId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Update item effects\n   */\n  updateItemEffects(deltaTime) {\n    // Update any time-based item effects\n  }\n\n  /**\n   * Update crafting timers\n   */\n  updateCraftingTimers(deltaTime) {\n    for (const [craftingId, crafting] of this.itemState.craftingRecipes) {\n      if (!crafting.completed && Date.now() >= crafting.endTime) {\n        this.completeCrafting({ craftingId });\n      }\n    }\n  }\n\n  /**\n   * Load item data\n   */\n  async loadItemData() {\n    try {\n      const savedData = localStorage.getItem('itemizationData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        // Restore item state\n        this.logger.info('Item data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load item data:', error);\n    }\n  }\n\n  /**\n   * Save item data\n   */\n  saveItemData() {\n    try {\n      const data = {\n        generatedItems: Array.from(this.itemState.generatedItems.entries()),\n        timestamp: Date.now()\n      };\n      localStorage.setItem('itemizationData', JSON.stringify(data));\n      this.logger.info('Item data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save item data:', error);\n    }\n  }\n\n  /**\n   * Get item by ID\n   */\n  getItem(itemId) {\n    return this.itemState.generatedItems.get(itemId);\n  }\n\n  /**\n   * Get all items\n   */\n  getAllItems() {\n    return Array.from(this.itemState.generatedItems.values());\n  }\n\n  /**\n   * Get item templates\n   */\n  getItemTemplates() {\n    return Array.from(this.itemState.itemTemplates.values());\n  }\n\n  /**\n   * Get affix database\n   */\n  getAffixDatabase() {\n    return Array.from(this.itemState.affixDatabase.values());\n  }\n\n  /**\n   * Get set items\n   */\n  getSetItems() {\n    return Array.from(this.itemState.setItems.values());\n  }\n\n  /**\n   * Get unique items\n   */\n  getUniqueItems() {\n    return Array.from(this.itemState.uniqueItems.values());\n  }\n\n  /**\n   * Get crafting recipes\n   */\n  getCraftingRecipes() {\n    return Array.from(this.itemState.craftingRecipes.values());\n  }\n}\n\nexport default ItemizationSystem;", "/**\n * EndgameSystem.js - Endgame Content and Replayability System\n *\n * This system handles:\n * - Replayable maps and dungeons\n * - Boss encounters and raids\n * - PvP systems and arenas\n * - Leaderboards and rankings\n * - Seasonal content\n * - Prestige and progression systems\n */\n\nexport class EndgameSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('EndgameSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('EndgameSystem requires logger dependency');\n    }\n\n    // Endgame state\n    this.endgameState = {\n      playerLevel: 1,\n      prestigeLevel: 0,\n      endgameUnlocked: false,\n      activeRaids: new Map(),\n      pvpMatches: new Map(),\n      leaderboards: new Map(),\n      seasonalContent: new Map(),\n      replayableMaps: new Map(),\n      bossEncounters: new Map(),\n    };\n\n    // Endgame configuration\n    this.endgameConfig = {\n      maxLevel: 100,\n      prestigeLevels: 10,\n      raidMaxPlayers: 8,\n      pvpMaxPlayers: 4,\n      leaderboardUpdateInterval: 60000, // 1 minute\n      seasonalDuration: 7 * 24 * 60 * 60 * 1000, // 7 days\n      bossRespawnTime: 3600000, // 1 hour\n    };\n\n    // Initialize endgame content\n    this.initializeReplayableMaps();\n    this.initializeBossEncounters();\n    this.initializePvPSystem();\n    this.initializeRaidSystem();\n    this.initializeLeaderboards();\n    this.initializeSeasonalContent();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('EndgameSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing EndgameSystem...');\n    \n    // Load endgame data\n    await this.loadEndgameData();\n    \n    // Start background processes\n    this.startBackgroundProcesses();\n    \n    this.logger.info('EndgameSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up EndgameSystem...');\n    \n    // Save endgame data\n    this.saveEndgameData();\n    \n    // Stop background processes\n    this.stopBackgroundProcesses();\n    \n    // Clear state\n    this.endgameState.activeRaids.clear();\n    this.endgameState.pvpMatches.clear();\n    this.endgameState.leaderboards.clear();\n    this.endgameState.seasonalContent.clear();\n    this.endgameState.replayableMaps.clear();\n    this.endgameState.bossEncounters.clear();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('EndgameSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update active raids\n    this.updateActiveRaids(deltaTime);\n    \n    // Update PvP matches\n    this.updatePvPMatches(deltaTime);\n    \n    // Update boss encounters\n    this.updateBossEncounters(deltaTime);\n    \n    // Update seasonal content\n    this.updateSeasonalContent(deltaTime);\n    \n    // Update leaderboards\n    this.updateLeaderboards(deltaTime);\n  }\n\n  /**\n   * Initialize replayable maps\n   */\n  initializeReplayableMaps() {\n    this.endgameState.replayableMaps.set('infinite_dungeon', {\n      id: 'infinite_dungeon',\n      name: 'Infinite Dungeon',\n      description: 'A never-ending dungeon that gets harder with each floor',\n      type: 'dungeon',\n      difficulty: 'scaling',\n      maxPlayers: 4,\n      floors: 1000,\n      currentFloor: 1,\n      rewards: {\n        experience: 'scaling',\n        loot: 'scaling',\n        currency: 'scaling'\n      },\n      modifiers: [\n        'enemy_health_boost',\n        'enemy_damage_boost',\n        'loot_quality_boost',\n        'experience_boost'\n      ],\n      requirements: {\n        level: 50,\n        prestige: 0\n      }\n    });\n\n    this.endgameState.replayableMaps.set('nightmare_realm', {\n      id: 'nightmare_realm',\n      name: 'Nightmare Realm',\n      description: 'A twisted dimension where reality bends',\n      type: 'realm',\n      difficulty: 'extreme',\n      maxPlayers: 6,\n      areas: 10,\n      currentArea: 1,\n      rewards: {\n        experience: 'high',\n        loot: 'legendary',\n        currency: 'high',\n        uniqueItems: true\n      },\n      modifiers: [\n        'reality_distortion',\n        'time_dilation',\n        'gravity_manipulation',\n        'elemental_chaos'\n      ],\n      requirements: {\n        level: 75,\n        prestige: 2\n      }\n    });\n\n    this.endgameState.replayableMaps.set('void_nexus', {\n      id: 'void_nexus',\n      name: 'Void Nexus',\n      description: 'The center of the void where ancient powers dwell',\n      type: 'nexus',\n      difficulty: 'legendary',\n      maxPlayers: 8,\n      phases: 5,\n      currentPhase: 1,\n      rewards: {\n        experience: 'maximum',\n        loot: 'unique',\n        currency: 'maximum',\n        prestigePoints: true\n      },\n      modifiers: [\n        'void_corruption',\n        'dimensional_instability',\n        'ancient_power',\n        'cosmic_chaos'\n      ],\n      requirements: {\n        level: 100,\n        prestige: 5\n      }\n    });\n  }\n\n  /**\n   * Initialize boss encounters\n   */\n  initializeBossEncounters() {\n    this.endgameState.bossEncounters.set('dragon_king', {\n      id: 'dragon_king',\n      name: 'Dragon King',\n      description: 'The ancient ruler of all dragons',\n      type: 'world_boss',\n      level: 100,\n      health: 1000000,\n      maxHealth: 1000000,\n      phases: 4,\n      currentPhase: 1,\n      abilities: [\n        'dragon_breath',\n        'wing_beat',\n        'tail_sweep',\n        'dragon_roar',\n        'meteor_storm',\n        'dragon_rage'\n      ],\n      rewards: {\n        experience: 50000,\n        gold: 100000,\n        items: ['dragon_king_crown', 'dragon_king_scale', 'dragon_king_heart'],\n        uniqueItems: ['crown_of_dragons', 'dragon_king_sword']\n      },\n      respawnTime: 3600000, // 1 hour\n      lastKilled: null,\n      location: { x: 1000, y: 1000 },\n      requirements: {\n        level: 80,\n        groupSize: 4\n      }\n    });\n\n    this.endgameState.bossEncounters.set('void_lord', {\n      id: 'void_lord',\n      name: 'Void Lord',\n      description: 'The embodiment of the void itself',\n      type: 'raid_boss',\n      level: 100,\n      health: 2000000,\n      maxHealth: 2000000,\n      phases: 6,\n      currentPhase: 1,\n      abilities: [\n        'void_blast',\n        'dimensional_tear',\n        'reality_break',\n        'void_nova',\n        'cosmic_storm',\n        'void_consumption'\n      ],\n      rewards: {\n        experience: 100000,\n        gold: 200000,\n        items: ['void_essence', 'void_crystal', 'void_heart'],\n        uniqueItems: ['void_lord_crown', 'void_lord_staff', 'void_lord_armor']\n      },\n      respawnTime: 7200000, // 2 hours\n      lastKilled: null,\n      location: { x: 2000, y: 2000 },\n      requirements: {\n        level: 90,\n        groupSize: 8\n      }\n    });\n\n    this.endgameState.bossEncounters.set('time_guardian', {\n      id: 'time_guardian',\n      name: 'Time Guardian',\n      description: 'The guardian of the temporal realm',\n      type: 'dungeon_boss',\n      level: 95,\n      health: 750000,\n      maxHealth: 750000,\n      phases: 3,\n      currentPhase: 1,\n      abilities: [\n        'time_stop',\n        'temporal_blast',\n        'time_rewind',\n        'chrono_storm',\n        'temporal_prison'\n      ],\n      rewards: {\n        experience: 75000,\n        gold: 150000,\n        items: ['time_crystal', 'temporal_essence', 'chrono_fragment'],\n        uniqueItems: ['time_guardian_amulet', 'temporal_blade']\n      },\n      respawnTime: 1800000, // 30 minutes\n      lastKilled: null,\n      location: { x: 1500, y: 1500 },\n      requirements: {\n        level: 85,\n        groupSize: 6\n      }\n    });\n  }\n\n  /**\n   * Initialize PvP system\n   */\n  initializePvPSystem() {\n    this.pvpSystem = {\n      arenas: [\n        {\n          id: 'duel_arena',\n          name: 'Duel Arena',\n          description: '1v1 combat arena',\n          maxPlayers: 2,\n          type: 'duel',\n          map: 'arena_small',\n          rules: {\n            timeLimit: 300, // 5 minutes\n            respawns: false,\n            items: 'all',\n            abilities: 'all'\n          }\n        },\n        {\n          id: 'team_arena',\n          name: 'Team Arena',\n          description: '4v4 team combat',\n          maxPlayers: 8,\n          type: 'team',\n          map: 'arena_large',\n          rules: {\n            timeLimit: 600, // 10 minutes\n            respawns: true,\n            items: 'all',\n            abilities: 'all'\n          }\n        },\n        {\n          id: 'battle_royale',\n          name: 'Battle Royale',\n          description: 'Last player standing',\n          maxPlayers: 20,\n          type: 'battle_royale',\n          map: 'battle_royale_map',\n          rules: {\n            timeLimit: 1800, // 30 minutes\n            respawns: false,\n            items: 'found_only',\n            abilities: 'all'\n          }\n        }\n      ],\n      rankings: new Map(),\n      seasons: [],\n      currentSeason: null\n    };\n  }\n\n  /**\n   * Initialize raid system\n   */\n  initializeRaidSystem() {\n    this.raidSystem = {\n      raids: [\n        {\n          id: 'dragon_raid',\n          name: 'Dragon Raid',\n          description: 'Raid the dragon\\'s lair',\n          maxPlayers: 8,\n          difficulty: 'hard',\n          phases: 5,\n          bosses: ['dragon_guardian', 'dragon_queen', 'dragon_king'],\n          rewards: {\n            experience: 200000,\n            gold: 500000,\n            items: ['dragon_raid_set'],\n            uniqueItems: ['dragon_raid_weapon', 'dragon_raid_armor']\n          },\n          requirements: {\n            level: 80,\n            groupSize: 6\n          }\n        },\n        {\n          id: 'void_raid',\n          name: 'Void Raid',\n          description: 'Conquer the void dimension',\n          maxPlayers: 10,\n          difficulty: 'extreme',\n          phases: 8,\n          bosses: ['void_spawn', 'void_guardian', 'void_lord'],\n          rewards: {\n            experience: 500000,\n            gold: 1000000,\n            items: ['void_raid_set'],\n            uniqueItems: ['void_raid_weapon', 'void_raid_armor']\n          },\n          requirements: {\n            level: 90,\n            groupSize: 8\n          }\n        }\n      ],\n      activeRaids: new Map(),\n      raidHistory: []\n    };\n  }\n\n  /**\n   * Initialize leaderboards\n   */\n  initializeLeaderboards() {\n    this.endgameState.leaderboards.set('level', {\n      name: 'Level Leaderboard',\n      type: 'level',\n      entries: [],\n      updateInterval: 60000,\n      lastUpdate: 0\n    });\n\n    this.endgameState.leaderboards.set('pvp', {\n      name: 'PvP Leaderboard',\n      type: 'pvp',\n      entries: [],\n      updateInterval: 30000,\n      lastUpdate: 0\n    });\n\n    this.endgameState.leaderboards.set('raid', {\n      name: 'Raid Leaderboard',\n      type: 'raid',\n      entries: [],\n      updateInterval: 120000,\n      lastUpdate: 0\n    });\n\n    this.endgameState.leaderboards.set('dungeon', {\n      name: 'Dungeon Leaderboard',\n      type: 'dungeon',\n      entries: [],\n      updateInterval: 300000,\n      lastUpdate: 0\n    });\n  }\n\n  /**\n   * Initialize seasonal content\n   */\n  initializeSeasonalContent() {\n    this.endgameState.seasonalContent.set('winter_festival', {\n      id: 'winter_festival',\n      name: 'Winter Festival',\n      description: 'A magical winter celebration',\n      startDate: new Date('2024-12-01'),\n      endDate: new Date('2024-12-31'),\n      active: false,\n      rewards: {\n        uniqueItems: ['winter_crown', 'snow_queen_armor'],\n        currency: 'festival_coins',\n        experience: 'boosted'\n      },\n      events: [\n        'snowball_fight',\n        'ice_sculpting',\n        'winter_races',\n        'gift_exchange'\n      ]\n    });\n\n    this.endgameState.seasonalContent.set('summer_solstice', {\n      id: 'summer_solstice',\n      name: 'Summer Solstice',\n      description: 'The longest day of the year brings special powers',\n      startDate: new Date('2024-06-20'),\n      endDate: new Date('2024-06-22'),\n      active: false,\n      rewards: {\n        uniqueItems: ['sun_crown', 'solstice_armor'],\n        currency: 'solstice_coins',\n        experience: 'boosted'\n      },\n      events: [\n        'sun_worship',\n        'fire_dancing',\n        'summer_races',\n        'light_rituals'\n      ]\n    });\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Endgame events\n    this.eventBus.on('endgame:unlock', this.unlockEndgame.bind(this));\n    this.eventBus.on('endgame:prestige', this.prestigePlayer.bind(this));\n    \n    // Map events\n    this.eventBus.on('map:enter', this.enterMap.bind(this));\n    this.eventBus.on('map:complete', this.completeMap.bind(this));\n    \n    // Boss events\n    this.eventBus.on('boss:spawn', this.spawnBoss.bind(this));\n    this.eventBus.on('boss:defeat', this.defeatBoss.bind(this));\n    \n    // PvP events\n    this.eventBus.on('pvp:join', this.joinPvP.bind(this));\n    this.eventBus.on('pvp:leave', this.leavePvP.bind(this));\n    this.eventBus.on('pvp:match', this.startPvPMatch.bind(this));\n    \n    // Raid events\n    this.eventBus.on('raid:start', this.startRaid.bind(this));\n    this.eventBus.on('raid:complete', this.completeRaid.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('endgame:unlock', this.unlockEndgame.bind(this));\n    this.eventBus.removeListener('endgame:prestige', this.prestigePlayer.bind(this));\n    this.eventBus.removeListener('map:enter', this.enterMap.bind(this));\n    this.eventBus.removeListener('map:complete', this.completeMap.bind(this));\n    this.eventBus.removeListener('boss:spawn', this.spawnBoss.bind(this));\n    this.eventBus.removeListener('boss:defeat', this.defeatBoss.bind(this));\n    this.eventBus.removeListener('pvp:join', this.joinPvP.bind(this));\n    this.eventBus.removeListener('pvp:leave', this.leavePvP.bind(this));\n    this.eventBus.removeListener('pvp:match', this.startPvPMatch.bind(this));\n    this.eventBus.removeListener('raid:start', this.startRaid.bind(this));\n    this.eventBus.removeListener('raid:complete', this.completeRaid.bind(this));\n  }\n\n  /**\n   * Unlock endgame content\n   */\n  unlockEndgame(data) {\n    const { playerLevel } = data;\n    \n    if (playerLevel >= this.endgameConfig.maxLevel) {\n      this.endgameState.endgameUnlocked = true;\n      this.endgameState.playerLevel = playerLevel;\n      \n      this.eventBus.emit('endgame:unlocked', {\n        playerLevel,\n        timestamp: Date.now()\n      });\n      \n      this.logger.info('Endgame content unlocked');\n    }\n  }\n\n  /**\n   * Prestige player\n   */\n  prestigePlayer(data) {\n    const { playerId, currentLevel } = data;\n    \n    if (currentLevel < this.endgameConfig.maxLevel) {\n      this.logger.warn('Player must be max level to prestige');\n      return;\n    }\n    \n    this.endgameState.prestigeLevel++;\n    \n    // Reset player level but keep prestige benefits\n    this.eventBus.emit('endgame:prestiged', {\n      playerId,\n      prestigeLevel: this.endgameState.prestigeLevel,\n      timestamp: Date.now()\n    });\n    \n    this.logger.info(`Player prestiged to level ${this.endgameState.prestigeLevel}`);\n  }\n\n  /**\n   * Enter replayable map\n   */\n  enterMap(data) {\n    const { mapId, playerId, groupId } = data;\n    const map = this.endgameState.replayableMaps.get(mapId);\n    \n    if (!map) {\n      this.logger.error(`Map not found: ${mapId}`);\n      return;\n    }\n    \n    // Check requirements\n    if (!this.checkMapRequirements(map, playerId)) {\n      this.logger.warn('Map requirements not met');\n      return;\n    }\n    \n    // Create map instance\n    const mapInstance = this.createMapInstance(map, groupId);\n    \n    this.eventBus.emit('map:entered', {\n      mapId,\n      mapInstance,\n      playerId,\n      groupId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Complete map\n   */\n  completeMap(data) {\n    const { mapId, mapInstance, completionTime } = data;\n    \n    // Calculate rewards\n    const rewards = this.calculateMapRewards(mapInstance, completionTime);\n    \n    // Update leaderboards\n    this.updateMapLeaderboard(mapId, mapInstance, completionTime);\n    \n    this.eventBus.emit('map:completed', {\n      mapId,\n      mapInstance,\n      rewards,\n      completionTime,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Spawn boss\n   */\n  spawnBoss(data) {\n    const { bossId, location } = data;\n    const boss = this.endgameState.bossEncounters.get(bossId);\n    \n    if (!boss) {\n      this.logger.error(`Boss not found: ${bossId}`);\n      return;\n    }\n    \n    // Check if boss is already spawned\n    if (boss.lastKilled && Date.now() - boss.lastKilled < boss.respawnTime) {\n      this.logger.warn('Boss is still on cooldown');\n      return;\n    }\n    \n    // Spawn boss\n    boss.currentPhase = 1;\n    boss.health = boss.maxHealth;\n    boss.location = location || boss.location;\n    \n    this.eventBus.emit('boss:spawned', {\n      bossId,\n      boss,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Defeat boss\n   */\n  defeatBoss(data) {\n    const { bossId, players } = data;\n    const boss = this.endgameState.bossEncounters.get(bossId);\n    \n    if (!boss) {\n      this.logger.error(`Boss not found: ${bossId}`);\n      return;\n    }\n    \n    // Calculate rewards\n    const rewards = this.calculateBossRewards(boss, players);\n    \n    // Update boss state\n    boss.lastKilled = Date.now();\n    \n    // Update leaderboards\n    this.updateBossLeaderboard(bossId, players);\n    \n    this.eventBus.emit('boss:defeated', {\n      bossId,\n      boss,\n      rewards,\n      players,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Join PvP\n   */\n  joinPvP(data) {\n    const { playerId, arenaId } = data;\n    const arena = this.pvpSystem.arenas.find(a => a.id === arenaId);\n    \n    if (!arena) {\n      this.logger.error(`Arena not found: ${arenaId}`);\n      return;\n    }\n    \n    // Add player to matchmaking\n    this.addToMatchmaking(playerId, arena);\n    \n    this.eventBus.emit('pvp:joined', {\n      playerId,\n      arenaId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Leave PvP\n   */\n  leavePvP(data) {\n    const { playerId, matchId } = data;\n    \n    // Remove player from match\n    this.removeFromMatch(playerId, matchId);\n    \n    this.eventBus.emit('pvp:left', {\n      playerId,\n      matchId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Start PvP match\n   */\n  startPvPMatch(data) {\n    const { matchId, players, arena } = data;\n    \n    const match = {\n      id: matchId,\n      arena: arena,\n      players: players,\n      startTime: Date.now(),\n      status: 'active',\n      results: []\n    };\n    \n    this.endgameState.pvpMatches.set(matchId, match);\n    \n    this.eventBus.emit('pvp:matchStarted', {\n      matchId,\n      match,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Start raid\n   */\n  startRaid(data) {\n    const { raidId, players } = data;\n    const raid = this.raidSystem.raids.find(r => r.id === raidId);\n    \n    if (!raid) {\n      this.logger.error(`Raid not found: ${raidId}`);\n      return;\n    }\n    \n    // Check requirements\n    if (!this.checkRaidRequirements(raid, players)) {\n      this.logger.warn('Raid requirements not met');\n      return;\n    }\n    \n    // Create raid instance\n    const raidInstance = this.createRaidInstance(raid, players);\n    \n    this.endgameState.activeRaids.set(raidId, raidInstance);\n    \n    this.eventBus.emit('raid:started', {\n      raidId,\n      raidInstance,\n      players,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Complete raid\n   */\n  completeRaid(data) {\n    const { raidId, raidInstance, completionTime } = data;\n    \n    // Calculate rewards\n    const rewards = this.calculateRaidRewards(raidInstance, completionTime);\n    \n    // Update leaderboards\n    this.updateRaidLeaderboard(raidId, raidInstance, completionTime);\n    \n    // Remove from active raids\n    this.endgameState.activeRaids.delete(raidId);\n    \n    this.eventBus.emit('raid:completed', {\n      raidId,\n      raidInstance,\n      rewards,\n      completionTime,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Update active raids\n   */\n  updateActiveRaids(deltaTime) {\n    for (const [raidId, raid] of this.endgameState.activeRaids) {\n      this.updateRaidInstance(raid, deltaTime);\n    }\n  }\n\n  /**\n   * Update PvP matches\n   */\n  updatePvPMatches(deltaTime) {\n    for (const [matchId, match] of this.endgameState.pvpMatches) {\n      this.updatePvPMatch(match, deltaTime);\n    }\n  }\n\n  /**\n   * Update boss encounters\n   */\n  updateBossEncounters(deltaTime) {\n    for (const [bossId, boss] of this.endgameState.bossEncounters) {\n      this.updateBossInstance(boss, deltaTime);\n    }\n  }\n\n  /**\n   * Update seasonal content\n   */\n  updateSeasonalContent(deltaTime) {\n    const now = Date.now();\n    \n    for (const [seasonId, season] of this.endgameState.seasonalContent) {\n      const isActive = now >= season.startDate.getTime() && now <= season.endDate.getTime();\n      \n      if (isActive !== season.active) {\n        season.active = isActive;\n        \n        this.eventBus.emit('seasonal:statusChanged', {\n          seasonId,\n          active: isActive,\n          timestamp: now\n        });\n      }\n    }\n  }\n\n  /**\n   * Update leaderboards\n   */\n  updateLeaderboards(deltaTime) {\n    const now = Date.now();\n    \n    for (const [leaderboardId, leaderboard] of this.endgameState.leaderboards) {\n      if (now - leaderboard.lastUpdate >= leaderboard.updateInterval) {\n        this.updateLeaderboard(leaderboardId);\n        leaderboard.lastUpdate = now;\n      }\n    }\n  }\n\n  /**\n   * Check map requirements\n   */\n  checkMapRequirements(map, playerId) {\n    // Check level requirement\n    if (this.endgameState.playerLevel < map.requirements.level) {\n      return false;\n    }\n    \n    // Check prestige requirement\n    if (this.endgameState.prestigeLevel < map.requirements.prestige) {\n      return false;\n    }\n    \n    return true;\n  }\n\n  /**\n   * Create map instance\n   */\n  createMapInstance(map, groupId) {\n    return {\n      id: `map_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      mapId: map.id,\n      groupId: groupId,\n      startTime: Date.now(),\n      currentFloor: map.type === 'dungeon' ? 1 : 1,\n      currentArea: map.type === 'realm' ? 1 : 1,\n      currentPhase: map.type === 'nexus' ? 1 : 1,\n      difficulty: map.difficulty,\n      modifiers: [...map.modifiers],\n      players: [],\n      status: 'active'\n    };\n  }\n\n  /**\n   * Calculate map rewards\n   */\n  calculateMapRewards(mapInstance, completionTime) {\n    const baseRewards = {\n      experience: 0,\n      gold: 0,\n      items: [],\n      currency: 0\n    };\n    \n    // Calculate based on map type and completion time\n    switch (mapInstance.mapId) {\n      case 'infinite_dungeon':\n        baseRewards.experience = mapInstance.currentFloor * 1000;\n        baseRewards.gold = mapInstance.currentFloor * 500;\n        break;\n      case 'nightmare_realm':\n        baseRewards.experience = 50000;\n        baseRewards.gold = 25000;\n        baseRewards.currency = 1000;\n        break;\n      case 'void_nexus':\n        baseRewards.experience = 100000;\n        baseRewards.gold = 50000;\n        baseRewards.currency = 2500;\n        break;\n    }\n    \n    // Apply time bonus\n    const timeBonus = Math.max(0, 1 - (completionTime / 3600000)); // 1 hour max\n    baseRewards.experience *= (1 + timeBonus);\n    baseRewards.gold *= (1 + timeBonus);\n    \n    return baseRewards;\n  }\n\n  /**\n   * Calculate boss rewards\n   */\n  calculateBossRewards(boss, players) {\n    const baseRewards = { ...boss.rewards };\n    \n    // Scale rewards based on number of players\n    const playerCount = players.length;\n    const scaleFactor = Math.min(2.0, 1 + (playerCount - 1) * 0.1);\n    \n    baseRewards.experience = Math.floor(baseRewards.experience * scaleFactor);\n    baseRewards.gold = Math.floor(baseRewards.gold * scaleFactor);\n    \n    return baseRewards;\n  }\n\n  /**\n   * Calculate raid rewards\n   */\n  calculateRaidRewards(raidInstance, completionTime) {\n    const baseRewards = { ...raidInstance.rewards };\n    \n    // Apply completion time bonus\n    const timeBonus = Math.max(0, 1 - (completionTime / 7200000)); // 2 hours max\n    baseRewards.experience *= (1 + timeBonus);\n    baseRewards.gold *= (1 + timeBonus);\n    \n    return baseRewards;\n  }\n\n  /**\n   * Update map leaderboard\n   */\n  updateMapLeaderboard(mapId, mapInstance, completionTime) {\n    const leaderboard = this.endgameState.leaderboards.get('dungeon');\n    \n    const entry = {\n      mapId: mapId,\n      groupId: mapInstance.groupId,\n      completionTime: completionTime,\n      timestamp: Date.now()\n    };\n    \n    leaderboard.entries.push(entry);\n    leaderboard.entries.sort((a, b) => a.completionTime - b.completionTime);\n    leaderboard.entries = leaderboard.entries.slice(0, 100); // Keep top 100\n  }\n\n  /**\n   * Update boss leaderboard\n   */\n  updateBossLeaderboard(bossId, players) {\n    const leaderboard = this.endgameState.leaderboards.get('raid');\n    \n    const entry = {\n      bossId: bossId,\n      players: players.map(p => p.id),\n      timestamp: Date.now()\n    };\n    \n    leaderboard.entries.push(entry);\n    leaderboard.entries.sort((a, b) => b.timestamp - a.timestamp);\n    leaderboard.entries = leaderboard.entries.slice(0, 100);\n  }\n\n  /**\n   * Update raid leaderboard\n   */\n  updateRaidLeaderboard(raidId, raidInstance, completionTime) {\n    const leaderboard = this.endgameState.leaderboards.get('raid');\n    \n    const entry = {\n      raidId: raidId,\n      groupId: raidInstance.groupId,\n      completionTime: completionTime,\n      timestamp: Date.now()\n    };\n    \n    leaderboard.entries.push(entry);\n    leaderboard.entries.sort((a, b) => a.completionTime - b.completionTime);\n    leaderboard.entries = leaderboard.entries.slice(0, 100);\n  }\n\n  /**\n   * Update leaderboard\n   */\n  updateLeaderboard(leaderboardId) {\n    const leaderboard = this.endgameState.leaderboards.get(leaderboardId);\n    \n    switch (leaderboardId) {\n      case 'level':\n        this.updateLevelLeaderboard(leaderboard);\n        break;\n      case 'pvp':\n        this.updatePvPLeaderboard(leaderboard);\n        break;\n      case 'raid':\n        this.updateRaidLeaderboard(leaderboard);\n        break;\n      case 'dungeon':\n        this.updateDungeonLeaderboard(leaderboard);\n        break;\n    }\n  }\n\n  /**\n   * Update level leaderboard\n   */\n  updateLevelLeaderboard(leaderboard) {\n    // This would fetch player levels from the database\n    // For now, we'll use mock data\n    leaderboard.entries = [\n      { playerId: 'player1', level: 100, prestige: 5 },\n      { playerId: 'player2', level: 100, prestige: 4 },\n      { playerId: 'player3', level: 100, prestige: 3 }\n    ];\n  }\n\n  /**\n   * Update PvP leaderboard\n   */\n  updatePvPLeaderboard(leaderboard) {\n    // This would fetch PvP ratings from the database\n    // For now, we'll use mock data\n    leaderboard.entries = [\n      { playerId: 'player1', rating: 2500, wins: 100, losses: 20 },\n      { playerId: 'player2', rating: 2400, wins: 95, losses: 25 },\n      { playerId: 'player3', rating: 2300, wins: 90, losses: 30 }\n    ];\n  }\n\n  /**\n   * Update raid leaderboard\n   */\n  updateRaidLeaderboard(leaderboard) {\n    // Sort by completion time\n    leaderboard.entries.sort((a, b) => a.completionTime - b.completionTime);\n  }\n\n  /**\n   * Update dungeon leaderboard\n   */\n  updateDungeonLeaderboard(leaderboard) {\n    // Sort by completion time\n    leaderboard.entries.sort((a, b) => a.completionTime - b.completionTime);\n  }\n\n  /**\n   * Add to matchmaking\n   */\n  addToMatchmaking(playerId, arena) {\n    // This would add player to matchmaking queue\n    this.logger.info(`Player ${playerId} added to matchmaking for ${arena.name}`);\n  }\n\n  /**\n   * Remove from match\n   */\n  removeFromMatch(playerId, matchId) {\n    const match = this.endgameState.pvpMatches.get(matchId);\n    if (match) {\n      match.players = match.players.filter(p => p.id !== playerId);\n      \n      if (match.players.length === 0) {\n        this.endgameState.pvpMatches.delete(matchId);\n      }\n    }\n  }\n\n  /**\n   * Check raid requirements\n   */\n  checkRaidRequirements(raid, players) {\n    if (players.length < raid.requirements.groupSize) {\n      return false;\n    }\n    \n    // Check if all players meet level requirement\n    return players.every(player => player.level >= raid.requirements.level);\n  }\n\n  /**\n   * Create raid instance\n   */\n  createRaidInstance(raid, players) {\n    return {\n      id: `raid_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      raidId: raid.id,\n      players: players,\n      startTime: Date.now(),\n      currentPhase: 1,\n      currentBoss: raid.bosses[0],\n      status: 'active'\n    };\n  }\n\n  /**\n   * Update raid instance\n   */\n  updateRaidInstance(raid, deltaTime) {\n    // Update raid-specific logic\n  }\n\n  /**\n   * Update PvP match\n   */\n  updatePvPMatch(match, deltaTime) {\n    // Update match-specific logic\n  }\n\n  /**\n   * Update boss instance\n   */\n  updateBossInstance(boss, deltaTime) {\n    // Update boss-specific logic\n  }\n\n  /**\n   * Start background processes\n   */\n  startBackgroundProcesses() {\n    // Start leaderboard update timer\n    this.leaderboardTimer = setInterval(() => {\n      this.updateAllLeaderboards();\n    }, 60000);\n    \n    // Start seasonal content timer\n    this.seasonalTimer = setInterval(() => {\n      this.updateSeasonalContent(0);\n    }, 60000);\n  }\n\n  /**\n   * Stop background processes\n   */\n  stopBackgroundProcesses() {\n    if (this.leaderboardTimer) {\n      clearInterval(this.leaderboardTimer);\n    }\n    \n    if (this.seasonalTimer) {\n      clearInterval(this.seasonalTimer);\n    }\n  }\n\n  /**\n   * Update all leaderboards\n   */\n  updateAllLeaderboards() {\n    for (const leaderboardId of this.endgameState.leaderboards.keys()) {\n      this.updateLeaderboard(leaderboardId);\n    }\n  }\n\n  /**\n   * Load endgame data\n   */\n  async loadEndgameData() {\n    try {\n      const savedData = localStorage.getItem('endgameData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.endgameState = { ...this.endgameState, ...data };\n        this.logger.info('Endgame data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load endgame data:', error);\n    }\n  }\n\n  /**\n   * Save endgame data\n   */\n  saveEndgameData() {\n    try {\n      const data = {\n        playerLevel: this.endgameState.playerLevel,\n        prestigeLevel: this.endgameState.prestigeLevel,\n        endgameUnlocked: this.endgameState.endgameUnlocked,\n        timestamp: Date.now()\n      };\n      localStorage.setItem('endgameData', JSON.stringify(data));\n      this.logger.info('Endgame data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save endgame data:', error);\n    }\n  }\n\n  /**\n   * Get endgame state\n   */\n  getEndgameState() {\n    return { ...this.endgameState };\n  }\n\n  /**\n   * Get replayable maps\n   */\n  getReplayableMaps() {\n    return Array.from(this.endgameState.replayableMaps.values());\n  }\n\n  /**\n   * Get boss encounters\n   */\n  getBossEncounters() {\n    return Array.from(this.endgameState.bossEncounters.values());\n  }\n\n  /**\n   * Get leaderboards\n   */\n  getLeaderboards() {\n    return Array.from(this.endgameState.leaderboards.values());\n  }\n\n  /**\n   * Get seasonal content\n   */\n  getSeasonalContent() {\n    return Array.from(this.endgameState.seasonalContent.values());\n  }\n}\n\nexport default EndgameSystem;", "/**\n * TradingSystem.js - Player-Driven Economy and Trading System\n *\n * This system handles:\n * - Player-to-player trading\n * - Auction house functionality\n * - Market pricing and valuation\n * - Trade history and reputation\n * - Currency exchange\n * - Item valuation and appraisal\n */\n\nexport class TradingSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('TradingSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('TradingSystem requires logger dependency');\n    }\n\n    // Trading state\n    this.tradingState = {\n      activeTrades: new Map(),\n      tradeHistory: new Map(),\n      auctionHouse: new Map(),\n      marketPrices: new Map(),\n      playerReputation: new Map(),\n      currencyRates: new Map(),\n      tradeChannels: new Map(),\n      pendingTrades: new Map(),\n    };\n\n    // Trading configuration\n    this.tradingConfig = {\n      maxTradeValue: 1000000,\n      tradeTax: 0.05, // 5% tax on trades\n      auctionTax: 0.1, // 10% tax on auctions\n      maxAuctionDuration: 7 * 24 * 60 * 60 * 1000, // 7 days\n      minAuctionDuration: 60 * 60 * 1000, // 1 hour\n      reputationDecay: 0.01, // 1% reputation decay per day\n      maxPendingTrades: 10,\n      tradeTimeout: 300000, // 5 minutes\n    };\n\n    // Initialize trading systems\n    this.initializeCurrencies();\n    this.initializeTradeChannels();\n    this.initializeMarketData();\n    this.initializeReputationSystem();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('TradingSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing TradingSystem...');\n    \n    // Load trading data\n    await this.loadTradingData();\n    \n    // Start market updates\n    this.startMarketUpdates();\n    \n    this.logger.info('TradingSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up TradingSystem...');\n    \n    // Save trading data\n    this.saveTradingData();\n    \n    // Stop market updates\n    this.stopMarketUpdates();\n    \n    // Clear state\n    this.tradingState.activeTrades.clear();\n    this.tradingState.tradeHistory.clear();\n    this.tradingState.auctionHouse.clear();\n    this.tradingState.marketPrices.clear();\n    this.tradingState.playerReputation.clear();\n    this.tradingState.currencyRates.clear();\n    this.tradingState.tradeChannels.clear();\n    this.tradingState.pendingTrades.clear();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('TradingSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update active trades\n    this.updateActiveTrades(deltaTime);\n    \n    // Update auction house\n    this.updateAuctionHouse(deltaTime);\n    \n    // Update market prices\n    this.updateMarketPrices(deltaTime);\n    \n    // Update reputation decay\n    this.updateReputationDecay(deltaTime);\n  }\n\n  /**\n   * Initialize currencies\n   */\n  initializeCurrencies() {\n    this.tradingState.currencyRates.set('gold', {\n      name: 'Gold',\n      symbol: 'G',\n      baseValue: 1,\n      decimals: 0\n    });\n\n    this.tradingState.currencyRates.set('silver', {\n      name: 'Silver',\n      symbol: 'S',\n      baseValue: 0.1,\n      decimals: 2\n    });\n\n    this.tradingState.currencyRates.set('copper', {\n      name: 'Copper',\n      symbol: 'C',\n      baseValue: 0.01,\n      decimals: 2\n    });\n\n    this.tradingState.currencyRates.set('platinum', {\n      name: 'Platinum',\n      symbol: 'P',\n      baseValue: 10,\n      decimals: 0\n    });\n\n    this.tradingState.currencyRates.set('gems', {\n      name: 'Gems',\n      symbol: '💎',\n      baseValue: 100,\n      decimals: 0\n    });\n  }\n\n  /**\n   * Initialize trade channels\n   */\n  initializeTradeChannels() {\n    this.tradingState.tradeChannels.set('global', {\n      id: 'global',\n      name: 'Global Trade',\n      description: 'Worldwide trading channel',\n      maxPlayers: 1000,\n      taxRate: 0.05,\n      minLevel: 1,\n      active: true\n    });\n\n    this.tradingState.tradeChannels.set('guild', {\n      id: 'guild',\n      name: 'Guild Trade',\n      description: 'Guild-only trading channel',\n      maxPlayers: 100,\n      taxRate: 0.02,\n      minLevel: 10,\n      active: true\n    });\n\n    this.tradingState.tradeChannels.set('whisper', {\n      id: 'whisper',\n      name: 'Private Trade',\n      description: 'Direct player-to-player trading',\n      maxPlayers: 2,\n      taxRate: 0.01,\n      minLevel: 1,\n      active: true\n    });\n\n    this.tradingState.tradeChannels.set('premium', {\n      id: 'premium',\n      name: 'Premium Trade',\n      description: 'High-value trading channel',\n      maxPlayers: 500,\n      taxRate: 0.03,\n      minLevel: 50,\n      active: true\n    });\n  }\n\n  /**\n   * Initialize market data\n   */\n  initializeMarketData() {\n    // Initialize market prices for common items\n    this.tradingState.marketPrices.set('health_potion', {\n      item: 'health_potion',\n      basePrice: 10,\n      currentPrice: 10,\n      volatility: 0.1,\n      lastUpdate: Date.now(),\n      volume: 0,\n      trend: 'stable'\n    });\n\n    this.tradingState.marketPrices.set('mana_potion', {\n      item: 'mana_potion',\n      basePrice: 15,\n      currentPrice: 15,\n      volatility: 0.1,\n      lastUpdate: Date.now(),\n      volume: 0,\n      trend: 'stable'\n    });\n\n    this.tradingState.marketPrices.set('iron_sword', {\n      item: 'iron_sword',\n      basePrice: 100,\n      currentPrice: 100,\n      volatility: 0.2,\n      lastUpdate: Date.now(),\n      volume: 0,\n      trend: 'stable'\n    });\n\n    this.tradingState.marketPrices.set('magic_ring', {\n      item: 'magic_ring',\n      basePrice: 500,\n      currentPrice: 500,\n      volatility: 0.3,\n      lastUpdate: Date.now(),\n      volume: 0,\n      trend: 'stable'\n    });\n  }\n\n  /**\n   * Initialize reputation system\n   */\n  initializeReputationSystem() {\n    this.reputationSystem = {\n      levels: [\n        { name: 'Hated', min: -1000, max: -500, color: '#ff0000' },\n        { name: 'Disliked', min: -500, max: -100, color: '#ff8000' },\n        { name: 'Neutral', min: -100, max: 100, color: '#ffff00' },\n        { name: 'Liked', min: 100, max: 500, color: '#80ff00' },\n        { name: 'Respected', min: 500, max: 1000, color: '#00ff00' },\n        { name: 'Honored', min: 1000, max: 2000, color: '#00ff80' },\n        { name: 'Revered', min: 2000, max: 5000, color: '#0080ff' },\n        { name: 'Exalted', min: 5000, max: 10000, color: '#8000ff' }\n      ],\n      decayRate: 0.01, // 1% per day\n      maxReputation: 10000,\n      minReputation: -1000\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Trading events\n    this.eventBus.on('trade:initiate', this.initiateTrade.bind(this));\n    this.eventBus.on('trade:accept', this.acceptTrade.bind(this));\n    this.eventBus.on('trade:decline', this.declineTrade.bind(this));\n    this.eventBus.on('trade:modify', this.modifyTrade.bind(this));\n    this.eventBus.on('trade:complete', this.completeTrade.bind(this));\n    this.eventBus.on('trade:cancel', this.cancelTrade.bind(this));\n    \n    // Auction events\n    this.eventBus.on('auction:list', this.listAuction.bind(this));\n    this.eventBus.on('auction:bid', this.placeBid.bind(this));\n    this.eventBus.on('auction:buyout', this.buyoutAuction.bind(this));\n    this.eventBus.on('auction:expire', this.expireAuction.bind(this));\n    \n    // Market events\n    this.eventBus.on('market:priceUpdate', this.updateItemPrice.bind(this));\n    this.eventBus.on('market:search', this.searchMarket.bind(this));\n    \n    // Reputation events\n    this.eventBus.on('reputation:update', this.updateReputation.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('trade:initiate', this.initiateTrade.bind(this));\n    this.eventBus.removeListener('trade:accept', this.acceptTrade.bind(this));\n    this.eventBus.removeListener('trade:decline', this.declineTrade.bind(this));\n    this.eventBus.removeListener('trade:modify', this.modifyTrade.bind(this));\n    this.eventBus.removeListener('trade:complete', this.completeTrade.bind(this));\n    this.eventBus.removeListener('trade:cancel', this.cancelTrade.bind(this));\n    this.eventBus.removeListener('auction:list', this.listAuction.bind(this));\n    this.eventBus.removeListener('auction:bid', this.placeBid.bind(this));\n    this.eventBus.removeListener('auction:buyout', this.buyoutAuction.bind(this));\n    this.eventBus.removeListener('auction:expire', this.expireAuction.bind(this));\n    this.eventBus.removeListener('market:priceUpdate', this.updateItemPrice.bind(this));\n    this.eventBus.removeListener('market:search', this.searchMarket.bind(this));\n    this.eventBus.removeListener('reputation:update', this.updateReputation.bind(this));\n  }\n\n  /**\n   * Initiate trade\n   */\n  initiateTrade(data) {\n    const { fromPlayer, toPlayer, items, currency, channel } = data;\n    \n    // Validate trade\n    if (!this.validateTrade(fromPlayer, toPlayer, items, currency)) {\n      this.logger.warn('Invalid trade request');\n      return;\n    }\n    \n    // Check if players can trade\n    if (!this.canPlayersTrade(fromPlayer, toPlayer)) {\n      this.logger.warn('Players cannot trade');\n      return;\n    }\n    \n    // Create trade\n    const trade = this.createTrade(fromPlayer, toPlayer, items, currency, channel);\n    \n    this.tradingState.activeTrades.set(trade.id, trade);\n    \n    this.eventBus.emit('trade:initiated', {\n      trade,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Accept trade\n   */\n  acceptTrade(data) {\n    const { tradeId, playerId } = data;\n    const trade = this.tradingState.activeTrades.get(tradeId);\n    \n    if (!trade) {\n      this.logger.error(`Trade not found: ${tradeId}`);\n      return;\n    }\n    \n    if (trade.toPlayer.id !== playerId) {\n      this.logger.warn('Player cannot accept this trade');\n      return;\n    }\n    \n    trade.status = 'accepted';\n    trade.acceptedAt = Date.now();\n    \n    // Start trade completion timer\n    this.startTradeCompletionTimer(trade);\n    \n    this.eventBus.emit('trade:accepted', {\n      trade,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Decline trade\n   */\n  declineTrade(data) {\n    const { tradeId, playerId, reason } = data;\n    const trade = this.tradingState.activeTrades.get(tradeId);\n    \n    if (!trade) {\n      this.logger.error(`Trade not found: ${tradeId}`);\n      return;\n    }\n    \n    if (trade.toPlayer.id !== playerId) {\n      this.logger.warn('Player cannot decline this trade');\n      return;\n    }\n    \n    trade.status = 'declined';\n    trade.declinedAt = Date.now();\n    trade.declineReason = reason;\n    \n    // Remove from active trades\n    this.tradingState.activeTrades.delete(tradeId);\n    \n    this.eventBus.emit('trade:declined', {\n      trade,\n      reason,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Modify trade\n   */\n  modifyTrade(data) {\n    const { tradeId, playerId, newItems, newCurrency } = data;\n    const trade = this.tradingState.activeTrades.get(tradeId);\n    \n    if (!trade) {\n      this.logger.error(`Trade not found: ${tradeId}`);\n      return;\n    }\n    \n    if (trade.fromPlayer.id !== playerId) {\n      this.logger.warn('Player cannot modify this trade');\n      return;\n    }\n    \n    // Update trade\n    trade.items = newItems;\n    trade.currency = newCurrency;\n    trade.modifiedAt = Date.now();\n    \n    this.eventBus.emit('trade:modified', {\n      trade,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Complete trade\n   */\n  completeTrade(data) {\n    const { tradeId } = data;\n    const trade = this.tradingState.activeTrades.get(tradeId);\n    \n    if (!trade) {\n      this.logger.error(`Trade not found: ${tradeId}`);\n      return;\n    }\n    \n    if (trade.status !== 'accepted') {\n      this.logger.warn('Trade not accepted');\n      return;\n    }\n    \n    // Execute trade\n    this.executeTrade(trade);\n    \n    // Update reputation\n    this.updateTradeReputation(trade);\n    \n    // Add to trade history\n    this.addToTradeHistory(trade);\n    \n    // Remove from active trades\n    this.tradingState.activeTrades.delete(tradeId);\n    \n    this.eventBus.emit('trade:completed', {\n      trade,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Cancel trade\n   */\n  cancelTrade(data) {\n    const { tradeId, playerId, reason } = data;\n    const trade = this.tradingState.activeTrades.get(tradeId);\n    \n    if (!trade) {\n      this.logger.error(`Trade not found: ${tradeId}`);\n      return;\n    }\n    \n    if (trade.fromPlayer.id !== playerId) {\n      this.logger.warn('Player cannot cancel this trade');\n      return;\n    }\n    \n    trade.status = 'cancelled';\n    trade.cancelledAt = Date.now();\n    trade.cancelReason = reason;\n    \n    // Remove from active trades\n    this.tradingState.activeTrades.delete(tradeId);\n    \n    this.eventBus.emit('trade:cancelled', {\n      trade,\n      reason,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * List auction\n   */\n  listAuction(data) {\n    const { playerId, item, startingPrice, buyoutPrice, duration, channel } = data;\n    \n    // Validate auction\n    if (!this.validateAuction(playerId, item, startingPrice, buyoutPrice, duration)) {\n      this.logger.warn('Invalid auction request');\n      return;\n    }\n    \n    // Create auction\n    const auction = this.createAuction(playerId, item, startingPrice, buyoutPrice, duration, channel);\n    \n    this.tradingState.auctionHouse.set(auction.id, auction);\n    \n    this.eventBus.emit('auction:listed', {\n      auction,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Place bid\n   */\n  placeBid(data) {\n    const { auctionId, playerId, bidAmount } = data;\n    const auction = this.tradingState.auctionHouse.get(auctionId);\n    \n    if (!auction) {\n      this.logger.error(`Auction not found: ${auctionId}`);\n      return;\n    }\n    \n    if (auction.status !== 'active') {\n      this.logger.warn('Auction not active');\n      return;\n    }\n    \n    if (bidAmount <= auction.currentBid) {\n      this.logger.warn('Bid too low');\n      return;\n    }\n    \n    // Update auction\n    auction.currentBid = bidAmount;\n    auction.currentBidder = playerId;\n    auction.bidCount++;\n    auction.lastBidAt = Date.now();\n    \n    this.eventBus.emit('auction:bidPlaced', {\n      auction,\n      bidAmount,\n      playerId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Buyout auction\n   */\n  buyoutAuction(data) {\n    const { auctionId, playerId } = data;\n    const auction = this.tradingState.auctionHouse.get(auctionId);\n    \n    if (!auction) {\n      this.logger.error(`Auction not found: ${auctionId}`);\n      return;\n    }\n    \n    if (auction.status !== 'active') {\n      this.logger.warn('Auction not active');\n      return;\n    }\n    \n    if (!auction.buyoutPrice) {\n      this.logger.warn('Auction has no buyout price');\n      return;\n    }\n    \n    // Complete auction\n    this.completeAuction(auction, playerId, auction.buyoutPrice);\n    \n    this.eventBus.emit('auction:buyout', {\n      auction,\n      playerId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Expire auction\n   */\n  expireAuction(data) {\n    const { auctionId } = data;\n    const auction = this.tradingState.auctionHouse.get(auctionId);\n    \n    if (!auction) {\n      this.logger.error(`Auction not found: ${auctionId}`);\n      return;\n    }\n    \n    auction.status = 'expired';\n    auction.expiredAt = Date.now();\n    \n    // Process auction result\n    if (auction.currentBidder) {\n      this.completeAuction(auction, auction.currentBidder, auction.currentBid);\n    } else {\n      this.returnAuctionItem(auction);\n    }\n    \n    this.eventBus.emit('auction:expired', {\n      auction,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Update item price\n   */\n  updateItemPrice(data) {\n    const { item, newPrice, volume } = data;\n    const priceData = this.tradingState.marketPrices.get(item);\n    \n    if (!priceData) {\n      this.logger.error(`Price data not found for item: ${item}`);\n      return;\n    }\n    \n    // Update price with market dynamics\n    const oldPrice = priceData.currentPrice;\n    priceData.currentPrice = newPrice;\n    priceData.volume += volume || 1;\n    priceData.lastUpdate = Date.now();\n    \n    // Calculate trend\n    if (newPrice > oldPrice) {\n      priceData.trend = 'rising';\n    } else if (newPrice < oldPrice) {\n      priceData.trend = 'falling';\n    } else {\n      priceData.trend = 'stable';\n    }\n    \n    this.eventBus.emit('market:priceUpdated', {\n      item,\n      oldPrice,\n      newPrice,\n      trend: priceData.trend,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Search market\n   */\n  searchMarket(data) {\n    const { query, filters, sortBy, limit } = data;\n    \n    let results = [];\n    \n    // Search active trades\n    for (const trade of this.tradingState.activeTrades.values()) {\n      if (this.matchesSearchCriteria(trade, query, filters)) {\n        results.push({\n          type: 'trade',\n          id: trade.id,\n          item: trade.items[0],\n          price: trade.currency,\n          player: trade.fromPlayer,\n          timestamp: trade.createdAt\n        });\n      }\n    }\n    \n    // Search auctions\n    for (const auction of this.tradingState.auctionHouse.values()) {\n      if (auction.status === 'active' && this.matchesSearchCriteria(auction, query, filters)) {\n        results.push({\n          type: 'auction',\n          id: auction.id,\n          item: auction.item,\n          price: auction.currentBid,\n          buyoutPrice: auction.buyoutPrice,\n          player: auction.seller,\n          timeLeft: auction.endTime - Date.now(),\n          timestamp: auction.createdAt\n        });\n      }\n    }\n    \n    // Sort results\n    results = this.sortSearchResults(results, sortBy);\n    \n    // Limit results\n    if (limit) {\n      results = results.slice(0, limit);\n    }\n    \n    this.eventBus.emit('market:searchResults', {\n      query,\n      results,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Update reputation\n   */\n  updateReputation(data) {\n    const { playerId, change, reason } = data;\n    \n    const currentRep = this.tradingState.playerReputation.get(playerId) || 0;\n    const newRep = Math.max(\n      this.reputationSystem.minReputation,\n      Math.min(this.reputationSystem.maxReputation, currentRep + change)\n    );\n    \n    this.tradingState.playerReputation.set(playerId, newRep);\n    \n    this.eventBus.emit('reputation:updated', {\n      playerId,\n      oldReputation: currentRep,\n      newReputation: newRep,\n      change,\n      reason,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Update active trades\n   */\n  updateActiveTrades(deltaTime) {\n    const now = Date.now();\n    \n    for (const [tradeId, trade] of this.tradingState.activeTrades) {\n      // Check for trade timeout\n      if (now - trade.createdAt > this.tradingConfig.tradeTimeout) {\n        this.timeoutTrade(trade);\n      }\n    }\n  }\n\n  /**\n   * Update auction house\n   */\n  updateAuctionHouse(deltaTime) {\n    const now = Date.now();\n    \n    for (const [auctionId, auction] of this.tradingState.auctionHouse) {\n      if (auction.status === 'active' && now >= auction.endTime) {\n        this.expireAuction({ auctionId });\n      }\n    }\n  }\n\n  /**\n   * Update market prices\n   */\n  updateMarketPrices(deltaTime) {\n    // Update market prices based on supply and demand\n    for (const [item, priceData] of this.tradingState.marketPrices) {\n      this.updateMarketPrice(priceData, deltaTime);\n    }\n  }\n\n  /**\n   * Update reputation decay\n   */\n  updateReputationDecay(deltaTime) {\n    const decayAmount = this.tradingConfig.reputationDecay * deltaTime / (24 * 60 * 60 * 1000);\n    \n    for (const [playerId, reputation] of this.tradingState.playerReputation) {\n      const newRep = Math.max(\n        this.reputationSystem.minReputation,\n        reputation - decayAmount\n      );\n      \n      if (newRep !== reputation) {\n        this.tradingState.playerReputation.set(playerId, newRep);\n      }\n    }\n  }\n\n  /**\n   * Validate trade\n   */\n  validateTrade(fromPlayer, toPlayer, items, currency) {\n    // Check if players exist\n    if (!fromPlayer || !toPlayer) {\n      return false;\n    }\n    \n    // Check if players are different\n    if (fromPlayer.id === toPlayer.id) {\n      return false;\n    }\n    \n    // Check if items are valid\n    if (!items || items.length === 0) {\n      return false;\n    }\n    \n    // Check if currency is valid\n    if (!currency || currency.amount <= 0) {\n      return false;\n    }\n    \n    // Check trade value limits\n    const totalValue = this.calculateTradeValue(items, currency);\n    if (totalValue > this.tradingConfig.maxTradeValue) {\n      return false;\n    }\n    \n    return true;\n  }\n\n  /**\n   * Check if players can trade\n   */\n  canPlayersTrade(fromPlayer, toPlayer) {\n    // Check if players are online\n    if (!fromPlayer.online || !toPlayer.online) {\n      return false;\n    }\n    \n    // Check if players are in the same area\n    if (fromPlayer.areaId !== toPlayer.areaId) {\n      return false;\n    }\n    \n    // Check if players are not in combat\n    if (fromPlayer.inCombat || toPlayer.inCombat) {\n      return false;\n    }\n    \n    return true;\n  }\n\n  /**\n   * Create trade\n   */\n  createTrade(fromPlayer, toPlayer, items, currency, channel) {\n    return {\n      id: `trade_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      fromPlayer: fromPlayer,\n      toPlayer: toPlayer,\n      items: items,\n      currency: currency,\n      channel: channel,\n      status: 'pending',\n      createdAt: Date.now(),\n      acceptedAt: null,\n      declinedAt: null,\n      completedAt: null,\n      cancelledAt: null\n    };\n  }\n\n  /**\n   * Execute trade\n   */\n  executeTrade(trade) {\n    // Transfer items from seller to buyer\n    this.transferItems(trade.fromPlayer, trade.toPlayer, trade.items);\n    \n    // Transfer currency from buyer to seller\n    this.transferCurrency(trade.toPlayer, trade.fromPlayer, trade.currency);\n    \n    // Apply trade tax\n    this.applyTradeTax(trade);\n    \n    trade.status = 'completed';\n    trade.completedAt = Date.now();\n  }\n\n  /**\n   * Transfer items\n   */\n  transferItems(fromPlayer, toPlayer, items) {\n    // This would transfer items between players\n    this.logger.info(`Transferred ${items.length} items from ${fromPlayer.id} to ${toPlayer.id}`);\n  }\n\n  /**\n   * Transfer currency\n   */\n  transferCurrency(fromPlayer, toPlayer, currency) {\n    // This would transfer currency between players\n    this.logger.info(`Transferred ${currency.amount} ${currency.type} from ${fromPlayer.id} to ${toPlayer.id}`);\n  }\n\n  /**\n   * Apply trade tax\n   */\n  applyTradeTax(trade) {\n    const channel = this.tradingState.tradeChannels.get(trade.channel);\n    if (channel) {\n      const taxAmount = trade.currency.amount * channel.taxRate;\n      // Apply tax to the trade\n      this.logger.info(`Applied ${taxAmount} tax to trade ${trade.id}`);\n    }\n  }\n\n  /**\n   * Update trade reputation\n   */\n  updateTradeReputation(trade) {\n    // Update reputation based on trade completion\n    this.updateReputation({\n      playerId: trade.fromPlayer.id,\n      change: 10,\n      reason: 'successful_trade'\n    });\n    \n    this.updateReputation({\n      playerId: trade.toPlayer.id,\n      change: 10,\n      reason: 'successful_trade'\n    });\n  }\n\n  /**\n   * Add to trade history\n   */\n  addToTradeHistory(trade) {\n    this.tradingState.tradeHistory.set(trade.id, {\n      ...trade,\n      historyType: 'completed'\n    });\n  }\n\n  /**\n   * Start trade completion timer\n   */\n  startTradeCompletionTimer(trade) {\n    // Start timer for trade completion\n    setTimeout(() => {\n      if (trade.status === 'accepted') {\n        this.completeTrade({ tradeId: trade.id });\n      }\n    }, 30000); // 30 seconds\n  }\n\n  /**\n   * Timeout trade\n   */\n  timeoutTrade(trade) {\n    trade.status = 'timeout';\n    trade.timeoutAt = Date.now();\n    \n    this.tradingState.activeTrades.delete(trade.id);\n    \n    this.eventBus.emit('trade:timeout', {\n      trade,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Validate auction\n   */\n  validateAuction(playerId, item, startingPrice, buyoutPrice, duration) {\n    // Check if player exists\n    if (!playerId) {\n      return false;\n    }\n    \n    // Check if item is valid\n    if (!item) {\n      return false;\n    }\n    \n    // Check if prices are valid\n    if (startingPrice <= 0) {\n      return false;\n    }\n    \n    if (buyoutPrice && buyoutPrice <= startingPrice) {\n      return false;\n    }\n    \n    // Check if duration is valid\n    if (duration < this.tradingConfig.minAuctionDuration || \n        duration > this.tradingConfig.maxAuctionDuration) {\n      return false;\n    }\n    \n    return true;\n  }\n\n  /**\n   * Create auction\n   */\n  createAuction(playerId, item, startingPrice, buyoutPrice, duration, channel) {\n    return {\n      id: `auction_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      seller: playerId,\n      item: item,\n      startingPrice: startingPrice,\n      currentBid: startingPrice,\n      buyoutPrice: buyoutPrice,\n      currentBidder: null,\n      bidCount: 0,\n      channel: channel,\n      status: 'active',\n      createdAt: Date.now(),\n      endTime: Date.now() + duration,\n      lastBidAt: null,\n      completedAt: null,\n      expiredAt: null\n    };\n  }\n\n  /**\n   * Complete auction\n   */\n  completeAuction(auction, buyerId, finalPrice) {\n    auction.status = 'completed';\n    auction.completedAt = Date.now();\n    auction.finalPrice = finalPrice;\n    auction.buyer = buyerId;\n    \n    // Transfer item and currency\n    this.transferAuctionItem(auction);\n    this.transferAuctionCurrency(auction);\n    \n    // Apply auction tax\n    this.applyAuctionTax(auction);\n  }\n\n  /**\n   * Return auction item\n   */\n  returnAuctionItem(auction) {\n    // Return item to seller\n    this.logger.info(`Returned auction item to seller ${auction.seller}`);\n  }\n\n  /**\n   * Transfer auction item\n   */\n  transferAuctionItem(auction) {\n    // Transfer item from seller to buyer\n    this.logger.info(`Transferred auction item from ${auction.seller} to ${auction.buyer}`);\n  }\n\n  /**\n   * Transfer auction currency\n   */\n  transferAuctionCurrency(auction) {\n    // Transfer currency from buyer to seller\n    this.logger.info(`Transferred ${auction.finalPrice} currency for auction ${auction.id}`);\n  }\n\n  /**\n   * Apply auction tax\n   */\n  applyAuctionTax(auction) {\n    const taxAmount = auction.finalPrice * this.tradingConfig.auctionTax;\n    this.logger.info(`Applied ${taxAmount} tax to auction ${auction.id}`);\n  }\n\n  /**\n   * Calculate trade value\n   */\n  calculateTradeValue(items, currency) {\n    let totalValue = 0;\n    \n    // Add item values\n    items.forEach(item => {\n      const priceData = this.tradingState.marketPrices.get(item.type);\n      if (priceData) {\n        totalValue += priceData.currentPrice * item.quantity;\n      }\n    });\n    \n    // Add currency value\n    totalValue += currency.amount;\n    \n    return totalValue;\n  }\n\n  /**\n   * Matches search criteria\n   */\n  matchesSearchCriteria(item, query, filters) {\n    // Check query match\n    if (query && !item.item.name.toLowerCase().includes(query.toLowerCase())) {\n      return false;\n    }\n    \n    // Check filters\n    if (filters) {\n      if (filters.minPrice && item.price < filters.minPrice) {\n        return false;\n      }\n      \n      if (filters.maxPrice && item.price > filters.maxPrice) {\n        return false;\n      }\n      \n      if (filters.itemType && item.item.type !== filters.itemType) {\n        return false;\n      }\n      \n      if (filters.rarity && item.item.rarity !== filters.rarity) {\n        return false;\n      }\n    }\n    \n    return true;\n  }\n\n  /**\n   * Sort search results\n   */\n  sortSearchResults(results, sortBy) {\n    switch (sortBy) {\n      case 'price_asc':\n        return results.sort((a, b) => a.price - b.price);\n      case 'price_desc':\n        return results.sort((a, b) => b.price - a.price);\n      case 'time_asc':\n        return results.sort((a, b) => a.timestamp - b.timestamp);\n      case 'time_desc':\n        return results.sort((a, b) => b.timestamp - a.timestamp);\n      default:\n        return results;\n    }\n  }\n\n  /**\n   * Update market price\n   */\n  updateMarketPrice(priceData, deltaTime) {\n    // Simple market dynamics simulation\n    const volatility = priceData.volatility;\n    const change = (Math.random() - 0.5) * volatility * deltaTime / 1000;\n    \n    priceData.currentPrice = Math.max(1, priceData.currentPrice + change);\n  }\n\n  /**\n   * Start market updates\n   */\n  startMarketUpdates() {\n    this.marketUpdateTimer = setInterval(() => {\n      this.updateAllMarketPrices();\n    }, 60000); // Update every minute\n  }\n\n  /**\n   * Stop market updates\n   */\n  stopMarketUpdates() {\n    if (this.marketUpdateTimer) {\n      clearInterval(this.marketUpdateTimer);\n    }\n  }\n\n  /**\n   * Update all market prices\n   */\n  updateAllMarketPrices() {\n    for (const [item, priceData] of this.tradingState.marketPrices) {\n      this.updateMarketPrice(priceData, 60000);\n    }\n  }\n\n  /**\n   * Load trading data\n   */\n  async loadTradingData() {\n    try {\n      const savedData = localStorage.getItem('tradingData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.tradingState = { ...this.tradingState, ...data };\n        this.logger.info('Trading data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load trading data:', error);\n    }\n  }\n\n  /**\n   * Save trading data\n   */\n  saveTradingData() {\n    try {\n      const data = {\n        tradeHistory: Array.from(this.tradingState.tradeHistory.entries()),\n        marketPrices: Array.from(this.tradingState.marketPrices.entries()),\n        playerReputation: Array.from(this.tradingState.playerReputation.entries()),\n        timestamp: Date.now()\n      };\n      localStorage.setItem('tradingData', JSON.stringify(data));\n      this.logger.info('Trading data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save trading data:', error);\n    }\n  }\n\n  /**\n   * Get active trades\n   */\n  getActiveTrades() {\n    return Array.from(this.tradingState.activeTrades.values());\n  }\n\n  /**\n   * Get auction house\n   */\n  getAuctionHouse() {\n    return Array.from(this.tradingState.auctionHouse.values());\n  }\n\n  /**\n   * Get market prices\n   */\n  getMarketPrices() {\n    return Array.from(this.tradingState.marketPrices.values());\n  }\n\n  /**\n   * Get player reputation\n   */\n  getPlayerReputation(playerId) {\n    return this.tradingState.playerReputation.get(playerId) || 0;\n  }\n\n  /**\n   * Get trade history\n   */\n  getTradeHistory(playerId) {\n    const history = [];\n    for (const trade of this.tradingState.tradeHistory.values()) {\n      if (trade.fromPlayer.id === playerId || trade.toPlayer.id === playerId) {\n        history.push(trade);\n      }\n    }\n    return history;\n  }\n}\n\nexport default TradingSystem;", "/**\n * ErrorHandlingSystem.js - Comprehensive Error Handling and Validation System\n *\n * This system handles:\n * - Global error catching and logging\n * - Input validation and sanitization\n * - Error recovery and fallback mechanisms\n * - Performance monitoring and alerts\n * - User-friendly error messages\n * - Error reporting and analytics\n */\n\nexport class ErrorHandlingSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('ErrorHandlingSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('ErrorHandlingSystem requires logger dependency');\n    }\n\n    // Error handling state\n    this.errorState = {\n      errorCount: 0,\n      lastError: null,\n      errorHistory: [],\n      performanceMetrics: new Map(),\n      validationRules: new Map(),\n      recoveryStrategies: new Map(),\n      userNotifications: new Map(),\n      errorThresholds: new Map(),\n    };\n\n    // Error handling configuration\n    this.errorConfig = {\n      maxErrorHistory: 1000,\n      errorReportingEnabled: true,\n      performanceMonitoringEnabled: true,\n      autoRecoveryEnabled: true,\n      userNotificationEnabled: true,\n      errorThresholds: {\n        critical: 5,\n        warning: 10,\n        info: 50\n      },\n      performanceThresholds: {\n        memoryUsage: 0.8, // 80%\n        cpuUsage: 0.7, // 70%\n        frameRate: 30, // FPS\n        responseTime: 1000 // ms\n      }\n    };\n\n    // Initialize error handling\n    this.initializeErrorHandling();\n    this.initializeValidationRules();\n    this.initializeRecoveryStrategies();\n    this.initializePerformanceMonitoring();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('ErrorHandlingSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing ErrorHandlingSystem...');\n    \n    // Set up global error handlers\n    this.setupGlobalErrorHandlers();\n    \n    // Start performance monitoring\n    this.startPerformanceMonitoring();\n    \n    // Load error data\n    await this.loadErrorData();\n    \n    this.logger.info('ErrorHandlingSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up ErrorHandlingSystem...');\n    \n    // Save error data\n    this.saveErrorData();\n    \n    // Stop performance monitoring\n    this.stopPerformanceMonitoring();\n    \n    // Remove global error handlers\n    this.removeGlobalErrorHandlers();\n    \n    // Clear state\n    this.errorState.errorHistory.clear();\n    this.errorState.performanceMetrics.clear();\n    this.errorState.validationRules.clear();\n    this.errorState.recoveryStrategies.clear();\n    this.errorState.userNotifications.clear();\n    this.errorState.errorThresholds.clear();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('ErrorHandlingSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update performance metrics\n    this.updatePerformanceMetrics(deltaTime);\n    \n    // Check error thresholds\n    this.checkErrorThresholds();\n    \n    // Process error recovery\n    this.processErrorRecovery(deltaTime);\n    \n    // Update user notifications\n    this.updateUserNotifications(deltaTime);\n  }\n\n  /**\n   * Initialize error handling\n   */\n  initializeErrorHandling() {\n    // Set up error types\n    this.errorTypes = {\n      VALIDATION_ERROR: 'validation_error',\n      NETWORK_ERROR: 'network_error',\n      RUNTIME_ERROR: 'runtime_error',\n      PERFORMANCE_ERROR: 'performance_error',\n      USER_ERROR: 'user_error',\n      SYSTEM_ERROR: 'system_error',\n      UNKNOWN_ERROR: 'unknown_error'\n    };\n\n    // Set up error severity levels\n    this.severityLevels = {\n      CRITICAL: 'critical',\n      HIGH: 'high',\n      MEDIUM: 'medium',\n      LOW: 'low',\n      INFO: 'info'\n    };\n\n    // Set up error categories\n    this.errorCategories = {\n      INPUT_VALIDATION: 'input_validation',\n      API_CALLS: 'api_calls',\n      RENDERING: 'rendering',\n      GAME_LOGIC: 'game_logic',\n      MEMORY_MANAGEMENT: 'memory_management',\n      NETWORK_COMMUNICATION: 'network_communication',\n      FILE_OPERATIONS: 'file_operations',\n      USER_INTERACTION: 'user_interaction'\n    };\n  }\n\n  /**\n   * Initialize validation rules\n   */\n  initializeValidationRules() {\n    // Input validation rules\n    this.errorState.validationRules.set('player_name', {\n      required: true,\n      minLength: 3,\n      maxLength: 20,\n      pattern: /^[a-zA-Z0-9_]+$/,\n      message: 'Player name must be 3-20 characters long and contain only letters, numbers, and underscores'\n    });\n\n    this.errorState.validationRules.set('email', {\n      required: true,\n      pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n      message: 'Please enter a valid email address'\n    });\n\n    this.errorState.validationRules.set('password', {\n      required: true,\n      minLength: 8,\n      maxLength: 128,\n      pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/,\n      message: 'Password must be 8-128 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character'\n    });\n\n    this.errorState.validationRules.set('item_id', {\n      required: true,\n      pattern: /^item_\\d+_[a-zA-Z0-9]+$/,\n      message: 'Invalid item ID format'\n    });\n\n    this.errorState.validationRules.set('trade_amount', {\n      required: true,\n      min: 1,\n      max: 1000000,\n      type: 'number',\n      message: 'Trade amount must be between 1 and 1,000,000'\n    });\n\n    // Game-specific validation rules\n    this.errorState.validationRules.set('character_level', {\n      required: true,\n      min: 1,\n      max: 100,\n      type: 'number',\n      message: 'Character level must be between 1 and 100'\n    });\n\n    this.errorState.validationRules.set('skill_points', {\n      required: true,\n      min: 0,\n      max: 1000,\n      type: 'number',\n      message: 'Skill points must be between 0 and 1000'\n    });\n\n    this.errorState.validationRules.set('coordinates', {\n      required: true,\n      type: 'object',\n      properties: {\n        x: { type: 'number', min: -10000, max: 10000 },\n        y: { type: 'number', min: -10000, max: 10000 }\n      },\n      message: 'Coordinates must be valid numbers within the game world bounds'\n    });\n  }\n\n  /**\n   * Initialize recovery strategies\n   */\n  initializeRecoveryStrategies() {\n    // Network error recovery\n    this.errorState.recoveryStrategies.set('network_error', {\n      maxRetries: 3,\n      retryDelay: 1000,\n      backoffMultiplier: 2,\n      fallbackAction: 'offline_mode',\n      recoverySteps: [\n        'retry_request',\n        'check_connection',\n        'fallback_to_cached_data',\n        'notify_user'\n      ]\n    });\n\n    // Memory error recovery\n    this.errorState.recoveryStrategies.set('memory_error', {\n      maxRetries: 1,\n      retryDelay: 0,\n      fallbackAction: 'cleanup_memory',\n      recoverySteps: [\n        'clear_cache',\n        'garbage_collect',\n        'reduce_quality',\n        'notify_user'\n      ]\n    });\n\n    // Rendering error recovery\n    this.errorState.recoveryStrategies.set('rendering_error', {\n      maxRetries: 2,\n      retryDelay: 100,\n      fallbackAction: 'fallback_renderer',\n      recoverySteps: [\n        'retry_render',\n        'clear_render_cache',\n        'fallback_to_simple_renderer',\n        'notify_user'\n      ]\n    });\n\n    // Game logic error recovery\n    this.errorState.recoveryStrategies.set('game_logic_error', {\n      maxRetries: 1,\n      retryDelay: 0,\n      fallbackAction: 'reset_game_state',\n      recoverySteps: [\n        'validate_game_state',\n        'reset_to_last_save',\n        'notify_user'\n      ]\n    });\n  }\n\n  /**\n   * Initialize performance monitoring\n   */\n  initializePerformanceMonitoring() {\n    this.performanceMetrics = {\n      memoryUsage: 0,\n      cpuUsage: 0,\n      frameRate: 0,\n      responseTime: 0,\n      errorRate: 0,\n      lastUpdate: Date.now()\n    };\n\n    this.performanceHistory = [];\n    this.maxPerformanceHistory = 100;\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Error events\n    this.eventBus.on('error:occurred', this.handleError.bind(this));\n    this.eventBus.on('error:recovered', this.handleErrorRecovery.bind(this));\n    this.eventBus.on('error:threshold_exceeded', this.handleThresholdExceeded.bind(this));\n    \n    // Validation events\n    this.eventBus.on('validation:failed', this.handleValidationFailure.bind(this));\n    this.eventBus.on('validation:passed', this.handleValidationSuccess.bind(this));\n    \n    // Performance events\n    this.eventBus.on('performance:metric', this.handlePerformanceMetric.bind(this));\n    this.eventBus.on('performance:threshold_exceeded', this.handlePerformanceThresholdExceeded.bind(this));\n    \n    // Recovery events\n    this.eventBus.on('recovery:started', this.handleRecoveryStarted.bind(this));\n    this.eventBus.on('recovery:completed', this.handleRecoveryCompleted.bind(this));\n    this.eventBus.on('recovery:failed', this.handleRecoveryFailed.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('error:occurred', this.handleError.bind(this));\n    this.eventBus.removeListener('error:recovered', this.handleErrorRecovery.bind(this));\n    this.eventBus.removeListener('error:threshold_exceeded', this.handleThresholdExceeded.bind(this));\n    this.eventBus.removeListener('validation:failed', this.handleValidationFailure.bind(this));\n    this.eventBus.removeListener('validation:passed', this.handleValidationSuccess.bind(this));\n    this.eventBus.removeListener('performance:metric', this.handlePerformanceMetric.bind(this));\n    this.eventBus.removeListener('performance:threshold_exceeded', this.handlePerformanceThresholdExceeded.bind(this));\n    this.eventBus.removeListener('recovery:started', this.handleRecoveryStarted.bind(this));\n    this.eventBus.removeListener('recovery:completed', this.handleRecoveryCompleted.bind(this));\n    this.eventBus.removeListener('recovery:failed', this.handleRecoveryFailed.bind(this));\n  }\n\n  /**\n   * Set up global error handlers\n   */\n  setupGlobalErrorHandlers() {\n    // Window error handler\n    window.addEventListener('error', (event) => {\n      this.handleGlobalError(event.error, event.filename, event.lineno, event.colno);\n    });\n\n    // Unhandled promise rejection handler\n    window.addEventListener('unhandledrejection', (event) => {\n      this.handleUnhandledRejection(event.reason, event.promise);\n    });\n\n    // Console error override\n    const originalConsoleError = console.error;\n    console.error = (...args) => {\n      this.handleConsoleError(args);\n      originalConsoleError.apply(console, args);\n    };\n  }\n\n  /**\n   * Remove global error handlers\n   */\n  removeGlobalErrorHandlers() {\n    // Remove event listeners\n    window.removeEventListener('error', this.handleGlobalError);\n    window.removeEventListener('unhandledrejection', this.handleUnhandledRejection);\n  }\n\n  /**\n   * Handle error\n   */\n  handleError(data) {\n    const { error, context, severity, category } = data;\n    \n    // Create error record\n    const errorRecord = this.createErrorRecord(error, context, severity, category);\n    \n    // Add to error history\n    this.addToErrorHistory(errorRecord);\n    \n    // Update error count\n    this.errorState.errorCount++;\n    this.errorState.lastError = errorRecord;\n    \n    // Log error\n    this.logError(errorRecord);\n    \n    // Attempt recovery\n    this.attemptRecovery(errorRecord);\n    \n    // Notify user if necessary\n    this.notifyUser(errorRecord);\n    \n    // Report error if enabled\n    if (this.errorConfig.errorReportingEnabled) {\n      this.reportError(errorRecord);\n    }\n  }\n\n  /**\n   * Handle global error\n   */\n  handleGlobalError(error, filename, lineno, colno) {\n    const errorRecord = {\n      type: this.errorTypes.RUNTIME_ERROR,\n      severity: this.severityLevels.HIGH,\n      category: this.errorCategories.RENDERING,\n      message: error.message || 'Unknown error',\n      stack: error.stack,\n      filename: filename,\n      line: lineno,\n      column: colno,\n      timestamp: Date.now(),\n      context: {\n        userAgent: navigator.userAgent,\n        url: window.location.href,\n        timestamp: Date.now()\n      }\n    };\n    \n    this.handleError({ error: errorRecord });\n  }\n\n  /**\n   * Handle unhandled rejection\n   */\n  handleUnhandledRejection(reason, promise) {\n    const errorRecord = {\n      type: this.errorTypes.RUNTIME_ERROR,\n      severity: this.severityLevels.MEDIUM,\n      category: this.errorCategories.API_CALLS,\n      message: reason.message || 'Unhandled promise rejection',\n      stack: reason.stack,\n      promise: promise,\n      timestamp: Date.now(),\n      context: {\n        userAgent: navigator.userAgent,\n        url: window.location.href,\n        timestamp: Date.now()\n      }\n    };\n    \n    this.handleError({ error: errorRecord });\n  }\n\n  /**\n   * Handle console error\n   */\n  handleConsoleError(args) {\n    const errorRecord = {\n      type: this.errorTypes.RUNTIME_ERROR,\n      severity: this.severityLevels.LOW,\n      category: this.errorCategories.GAME_LOGIC,\n      message: args.join(' '),\n      timestamp: Date.now(),\n      context: {\n        userAgent: navigator.userAgent,\n        url: window.location.href,\n        timestamp: Date.now()\n      }\n    };\n    \n    this.handleError({ error: errorRecord });\n  }\n\n  /**\n   * Create error record\n   */\n  createErrorRecord(error, context, severity, category) {\n    return {\n      id: `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      type: error.type || this.errorTypes.UNKNOWN_ERROR,\n      severity: severity || this.severityLevels.MEDIUM,\n      category: category || this.errorCategories.GAME_LOGIC,\n      message: error.message || 'Unknown error',\n      stack: error.stack,\n      context: context || {},\n      timestamp: Date.now(),\n      resolved: false,\n      recoveryAttempts: 0\n    };\n  }\n\n  /**\n   * Add to error history\n   */\n  addToErrorHistory(errorRecord) {\n    this.errorState.errorHistory.push(errorRecord);\n    \n    // Keep only the most recent errors\n    if (this.errorState.errorHistory.length > this.errorConfig.maxErrorHistory) {\n      this.errorState.errorHistory = this.errorState.errorHistory.slice(-this.errorConfig.maxErrorHistory);\n    }\n  }\n\n  /**\n   * Log error\n   */\n  logError(errorRecord) {\n    const logLevel = this.getLogLevel(errorRecord.severity);\n    const logMessage = this.formatErrorMessage(errorRecord);\n    \n    switch (logLevel) {\n      case 'error':\n        this.logger.error(logMessage);\n        break;\n      case 'warn':\n        this.logger.warn(logMessage);\n        break;\n      case 'info':\n        this.logger.info(logMessage);\n        break;\n      default:\n        this.logger.log(logMessage);\n    }\n  }\n\n  /**\n   * Get log level\n   */\n  getLogLevel(severity) {\n    const levelMap = {\n      [this.severityLevels.CRITICAL]: 'error',\n      [this.severityLevels.HIGH]: 'error',\n      [this.severityLevels.MEDIUM]: 'warn',\n      [this.severityLevels.LOW]: 'info',\n      [this.severityLevels.INFO]: 'info'\n    };\n    \n    return levelMap[severity] || 'log';\n  }\n\n  /**\n   * Format error message\n   */\n  formatErrorMessage(errorRecord) {\n    return `[${errorRecord.type}] ${errorRecord.message} (${errorRecord.category})`;\n  }\n\n  /**\n   * Attempt recovery\n   */\n  attemptRecovery(errorRecord) {\n    if (!this.errorConfig.autoRecoveryEnabled) {\n      return;\n    }\n    \n    const strategy = this.errorState.recoveryStrategies.get(errorRecord.type);\n    if (!strategy) {\n      return;\n    }\n    \n    if (errorRecord.recoveryAttempts >= strategy.maxRetries) {\n      this.logger.warn(`Max recovery attempts reached for error ${errorRecord.id}`);\n      return;\n    }\n    \n    errorRecord.recoveryAttempts++;\n    \n    // Execute recovery steps\n    this.executeRecoverySteps(errorRecord, strategy);\n  }\n\n  /**\n   * Execute recovery steps\n   */\n  executeRecoverySteps(errorRecord, strategy) {\n    strategy.recoverySteps.forEach((step, index) => {\n      setTimeout(() => {\n        this.executeRecoveryStep(errorRecord, step);\n      }, index * strategy.retryDelay);\n    });\n  }\n\n  /**\n   * Execute recovery step\n   */\n  executeRecoveryStep(errorRecord, step) {\n    switch (step) {\n      case 'retry_request':\n        this.retryRequest(errorRecord);\n        break;\n      case 'check_connection':\n        this.checkConnection(errorRecord);\n        break;\n      case 'fallback_to_cached_data':\n        this.fallbackToCachedData(errorRecord);\n        break;\n      case 'clear_cache':\n        this.clearCache(errorRecord);\n        break;\n      case 'garbage_collect':\n        this.garbageCollect(errorRecord);\n        break;\n      case 'reduce_quality':\n        this.reduceQuality(errorRecord);\n        break;\n      case 'retry_render':\n        this.retryRender(errorRecord);\n        break;\n      case 'clear_render_cache':\n        this.clearRenderCache(errorRecord);\n        break;\n      case 'fallback_to_simple_renderer':\n        this.fallbackToSimpleRenderer(errorRecord);\n        break;\n      case 'validate_game_state':\n        this.validateGameState(errorRecord);\n        break;\n      case 'reset_to_last_save':\n        this.resetToLastSave(errorRecord);\n        break;\n      case 'notify_user':\n        this.notifyUser(errorRecord);\n        break;\n    }\n  }\n\n  /**\n   * Notify user\n   */\n  notifyUser(errorRecord) {\n    if (!this.errorConfig.userNotificationEnabled) {\n      return;\n    }\n    \n    const notification = this.createUserNotification(errorRecord);\n    this.errorState.userNotifications.set(notification.id, notification);\n    \n    this.eventBus.emit('error:userNotification', {\n      notification,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Create user notification\n   */\n  createUserNotification(errorRecord) {\n    return {\n      id: `notification_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      type: 'error',\n      severity: errorRecord.severity,\n      title: this.getUserFriendlyTitle(errorRecord),\n      message: this.getUserFriendlyMessage(errorRecord),\n      timestamp: Date.now(),\n      dismissed: false,\n      actionRequired: this.isActionRequired(errorRecord)\n    };\n  }\n\n  /**\n   * Get user-friendly title\n   */\n  getUserFriendlyTitle(errorRecord) {\n    const titleMap = {\n      [this.errorTypes.VALIDATION_ERROR]: 'Input Error',\n      [this.errorTypes.NETWORK_ERROR]: 'Connection Error',\n      [this.errorTypes.RUNTIME_ERROR]: 'Application Error',\n      [this.errorTypes.PERFORMANCE_ERROR]: 'Performance Issue',\n      [this.errorTypes.USER_ERROR]: 'User Error',\n      [this.errorTypes.SYSTEM_ERROR]: 'System Error',\n      [this.errorTypes.UNKNOWN_ERROR]: 'Unknown Error'\n    };\n    \n    return titleMap[errorRecord.type] || 'Error';\n  }\n\n  /**\n   * Get user-friendly message\n   */\n  getUserFriendlyMessage(errorRecord) {\n    const messageMap = {\n      [this.errorTypes.VALIDATION_ERROR]: 'Please check your input and try again.',\n      [this.errorTypes.NETWORK_ERROR]: 'Please check your internet connection and try again.',\n      [this.errorTypes.RUNTIME_ERROR]: 'An unexpected error occurred. Please refresh the page.',\n      [this.errorTypes.PERFORMANCE_ERROR]: 'The application is running slowly. Please try refreshing the page.',\n      [this.errorTypes.USER_ERROR]: 'Please check your input and try again.',\n      [this.errorTypes.SYSTEM_ERROR]: 'A system error occurred. Please try again later.',\n      [this.errorTypes.UNKNOWN_ERROR]: 'An unknown error occurred. Please try again.'\n    };\n    \n    return messageMap[errorRecord.type] || 'An error occurred. Please try again.';\n  }\n\n  /**\n   * Check if action is required\n   */\n  isActionRequired(errorRecord) {\n    return errorRecord.severity === this.severityLevels.CRITICAL ||\n           errorRecord.severity === this.severityLevels.HIGH;\n  }\n\n  /**\n   * Validate input\n   */\n  validateInput(input, ruleName, value) {\n    const rule = this.errorState.validationRules.get(ruleName);\n    if (!rule) {\n      this.logger.warn(`Validation rule not found: ${ruleName}`);\n      return { valid: true };\n    }\n    \n    const result = this.performValidation(value, rule);\n    \n    if (result.valid) {\n      this.eventBus.emit('validation:passed', {\n        ruleName,\n        value,\n        timestamp: Date.now()\n      });\n    } else {\n      this.eventBus.emit('validation:failed', {\n        ruleName,\n        value,\n        errors: result.errors,\n        timestamp: Date.now()\n      });\n    }\n    \n    return result;\n  }\n\n  /**\n   * Perform validation\n   */\n  performValidation(value, rule) {\n    const errors = [];\n    \n    // Check required\n    if (rule.required && (value === null || value === undefined || value === '')) {\n      errors.push('This field is required');\n      return { valid: false, errors };\n    }\n    \n    // Check type\n    if (rule.type && typeof value !== rule.type) {\n      errors.push(`Expected ${rule.type}, got ${typeof value}`);\n      return { valid: false, errors };\n    }\n    \n    // Check min/max length\n    if (rule.minLength && value.length < rule.minLength) {\n      errors.push(`Minimum length is ${rule.minLength}`);\n    }\n    \n    if (rule.maxLength && value.length > rule.maxLength) {\n      errors.push(`Maximum length is ${rule.maxLength}`);\n    }\n    \n    // Check min/max value\n    if (rule.min !== undefined && value < rule.min) {\n      errors.push(`Minimum value is ${rule.min}`);\n    }\n    \n    if (rule.max !== undefined && value > rule.max) {\n      errors.push(`Maximum value is ${rule.max}`);\n    }\n    \n    // Check pattern\n    if (rule.pattern && !rule.pattern.test(value)) {\n      errors.push(rule.message || 'Invalid format');\n    }\n    \n    // Check object properties\n    if (rule.properties && typeof value === 'object') {\n      for (const [prop, propRule] of Object.entries(rule.properties)) {\n        const propResult = this.performValidation(value[prop], propRule);\n        if (!propResult.valid) {\n          errors.push(`${prop}: ${propResult.errors.join(', ')}`);\n        }\n      }\n    }\n    \n    return {\n      valid: errors.length === 0,\n      errors: errors.length > 0 ? errors : [rule.message || 'Invalid value']\n    };\n  }\n\n  /**\n   * Update performance metrics\n   */\n  updatePerformanceMetrics(deltaTime) {\n    if (!this.errorConfig.performanceMonitoringEnabled) {\n      return;\n    }\n    \n    // Update memory usage\n    if (performance.memory) {\n      this.performanceMetrics.memoryUsage = performance.memory.usedJSHeapSize / performance.memory.totalJSHeapSize;\n    }\n    \n    // Update frame rate\n    this.performanceMetrics.frameRate = 1000 / deltaTime;\n    \n    // Update response time\n    this.performanceMetrics.responseTime = deltaTime;\n    \n    // Update error rate\n    this.performanceMetrics.errorRate = this.errorState.errorCount / (Date.now() - this.performanceMetrics.lastUpdate) * 1000;\n    \n    this.performanceMetrics.lastUpdate = Date.now();\n    \n    // Add to history\n    this.performanceHistory.push({\n      ...this.performanceMetrics,\n      timestamp: Date.now()\n    });\n    \n    // Keep only recent history\n    if (this.performanceHistory.length > this.maxPerformanceHistory) {\n      this.performanceHistory = this.performanceHistory.slice(-this.maxPerformanceHistory);\n    }\n    \n    // Check performance thresholds\n    this.checkPerformanceThresholds();\n  }\n\n  /**\n   * Check performance thresholds\n   */\n  checkPerformanceThresholds() {\n    const thresholds = this.errorConfig.performanceThresholds;\n    \n    if (this.performanceMetrics.memoryUsage > thresholds.memoryUsage) {\n      this.handlePerformanceThresholdExceeded('memory', this.performanceMetrics.memoryUsage);\n    }\n    \n    if (this.performanceMetrics.cpuUsage > thresholds.cpuUsage) {\n      this.handlePerformanceThresholdExceeded('cpu', this.performanceMetrics.cpuUsage);\n    }\n    \n    if (this.performanceMetrics.frameRate < thresholds.frameRate) {\n      this.handlePerformanceThresholdExceeded('frameRate', this.performanceMetrics.frameRate);\n    }\n    \n    if (this.performanceMetrics.responseTime > thresholds.responseTime) {\n      this.handlePerformanceThresholdExceeded('responseTime', this.performanceMetrics.responseTime);\n    }\n  }\n\n  /**\n   * Check error thresholds\n   */\n  checkErrorThresholds() {\n    const thresholds = this.errorConfig.errorThresholds;\n    \n    if (this.errorState.errorCount > thresholds.critical) {\n      this.handleThresholdExceeded('critical', this.errorState.errorCount);\n    } else if (this.errorState.errorCount > thresholds.warning) {\n      this.handleThresholdExceeded('warning', this.errorState.errorCount);\n    } else if (this.errorState.errorCount > thresholds.info) {\n      this.handleThresholdExceeded('info', this.errorState.errorCount);\n    }\n  }\n\n  /**\n   * Process error recovery\n   */\n  processErrorRecovery(deltaTime) {\n    // Process pending recoveries\n    for (const [errorId, errorRecord] of this.errorState.errorHistory) {\n      if (!errorRecord.resolved && errorRecord.recoveryAttempts > 0) {\n        // Check if recovery is complete\n        this.checkRecoveryStatus(errorRecord);\n      }\n    }\n  }\n\n  /**\n   * Update user notifications\n   */\n  updateUserNotifications(deltaTime) {\n    const now = Date.now();\n    \n    for (const [notificationId, notification] of this.errorState.userNotifications) {\n      // Auto-dismiss old notifications\n      if (now - notification.timestamp > 30000) { // 30 seconds\n        notification.dismissed = true;\n      }\n    }\n  }\n\n  /**\n   * Start performance monitoring\n   */\n  startPerformanceMonitoring() {\n    if (!this.errorConfig.performanceMonitoringEnabled) {\n      return;\n    }\n    \n    this.performanceTimer = setInterval(() => {\n      this.updatePerformanceMetrics(16); // Assume 60 FPS\n    }, 1000); // Update every second\n  }\n\n  /**\n   * Stop performance monitoring\n   */\n  stopPerformanceMonitoring() {\n    if (this.performanceTimer) {\n      clearInterval(this.performanceTimer);\n    }\n  }\n\n  /**\n   * Handle error recovery\n   */\n  handleErrorRecovery(data) {\n    const { errorId, success } = data;\n    \n    const errorRecord = this.errorState.errorHistory.find(e => e.id === errorId);\n    if (errorRecord) {\n      errorRecord.resolved = success;\n      errorRecord.recoveryCompletedAt = Date.now();\n    }\n  }\n\n  /**\n   * Handle threshold exceeded\n   */\n  handleThresholdExceeded(data) {\n    const { threshold, value } = data;\n    \n    this.logger.warn(`Error threshold exceeded: ${threshold} (${value})`);\n    \n    this.eventBus.emit('error:threshold_exceeded', {\n      threshold,\n      value,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle validation failure\n   */\n  handleValidationFailure(data) {\n    const { ruleName, value, errors } = data;\n    \n    this.logger.warn(`Validation failed for ${ruleName}: ${errors.join(', ')}`);\n  }\n\n  /**\n   * Handle validation success\n   */\n  handleValidationSuccess(data) {\n    const { ruleName, value } = data;\n    \n    this.logger.debug(`Validation passed for ${ruleName}`);\n  }\n\n  /**\n   * Handle performance metric\n   */\n  handlePerformanceMetric(data) {\n    const { metric, value } = data;\n    \n    this.performanceMetrics[metric] = value;\n  }\n\n  /**\n   * Handle performance threshold exceeded\n   */\n  handlePerformanceThresholdExceeded(metric, value) {\n    this.logger.warn(`Performance threshold exceeded: ${metric} (${value})`);\n    \n    this.eventBus.emit('performance:threshold_exceeded', {\n      metric,\n      value,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle recovery started\n   */\n  handleRecoveryStarted(data) {\n    const { errorId, strategy } = data;\n    \n    this.logger.info(`Recovery started for error ${errorId} using strategy ${strategy}`);\n  }\n\n  /**\n   * Handle recovery completed\n   */\n  handleRecoveryCompleted(data) {\n    const { errorId, success } = data;\n    \n    this.logger.info(`Recovery completed for error ${errorId}: ${success ? 'success' : 'failed'}`);\n  }\n\n  /**\n   * Handle recovery failed\n   */\n  handleRecoveryFailed(data) {\n    const { errorId, reason } = data;\n    \n    this.logger.error(`Recovery failed for error ${errorId}: ${reason}`);\n  }\n\n  /**\n   * Load error data\n   */\n  async loadErrorData() {\n    try {\n      const savedData = localStorage.getItem('errorData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.errorState.errorCount = data.errorCount || 0;\n        this.errorState.errorHistory = data.errorHistory || [];\n        this.logger.info('Error data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load error data:', error);\n    }\n  }\n\n  /**\n   * Save error data\n   */\n  saveErrorData() {\n    try {\n      const data = {\n        errorCount: this.errorState.errorCount,\n        errorHistory: this.errorState.errorHistory.slice(-100), // Keep only recent errors\n        timestamp: Date.now()\n      };\n      localStorage.setItem('errorData', JSON.stringify(data));\n      this.logger.info('Error data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save error data:', error);\n    }\n  }\n\n  /**\n   * Get error statistics\n   */\n  getErrorStatistics() {\n    const stats = {\n      totalErrors: this.errorState.errorCount,\n      errorsByType: {},\n      errorsBySeverity: {},\n      errorsByCategory: {},\n      recentErrors: this.errorState.errorHistory.slice(-10),\n      performanceMetrics: this.performanceMetrics\n    };\n    \n    // Count errors by type\n    this.errorState.errorHistory.forEach(error => {\n      stats.errorsByType[error.type] = (stats.errorsByType[error.type] || 0) + 1;\n      stats.errorsBySeverity[error.severity] = (stats.errorsBySeverity[error.severity] || 0) + 1;\n      stats.errorsByCategory[error.category] = (stats.errorsByCategory[error.category] || 0) + 1;\n    });\n    \n    return stats;\n  }\n\n  /**\n   * Get performance metrics\n   */\n  getPerformanceMetrics() {\n    return {\n      current: this.performanceMetrics,\n      history: this.performanceHistory,\n      thresholds: this.errorConfig.performanceThresholds\n    };\n  }\n\n  /**\n   * Get user notifications\n   */\n  getUserNotifications() {\n    return Array.from(this.errorState.userNotifications.values())\n      .filter(notification => !notification.dismissed);\n  }\n\n  /**\n   * Dismiss notification\n   */\n  dismissNotification(notificationId) {\n    const notification = this.errorState.userNotifications.get(notificationId);\n    if (notification) {\n      notification.dismissed = true;\n    }\n  }\n\n  /**\n   * Clear error history\n   */\n  clearErrorHistory() {\n    this.errorState.errorHistory = [];\n    this.errorState.errorCount = 0;\n    this.logger.info('Error history cleared');\n  }\n\n  /**\n   * Reset performance metrics\n   */\n  resetPerformanceMetrics() {\n    this.performanceMetrics = {\n      memoryUsage: 0,\n      cpuUsage: 0,\n      frameRate: 0,\n      responseTime: 0,\n      errorRate: 0,\n      lastUpdate: Date.now()\n    };\n    this.performanceHistory = [];\n    this.logger.info('Performance metrics reset');\n  }\n}\n\nexport default ErrorHandlingSystem;", "/**\n * MobileOptimizationSystem.js - Mobile Optimization and Touch Controls System\n *\n * This system handles:\n * - Touch controls and gestures\n * - Responsive UI design\n * - Mobile performance optimization\n * - Device-specific adaptations\n * - Touch-friendly interactions\n * - Mobile-specific features\n */\n\nexport class MobileOptimizationSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('MobileOptimizationSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('MobileOptimizationSystem requires logger dependency');\n    }\n\n    // Mobile optimization state\n    this.mobileState = {\n      isMobile: false,\n      deviceType: 'desktop',\n      screenSize: { width: 0, height: 0 },\n      orientation: 'portrait',\n      touchCapable: false,\n      performanceLevel: 'high',\n      batteryLevel: 1.0,\n      networkType: 'unknown',\n      touchControls: new Map(),\n      gestureRecognizers: new Map(),\n      responsiveBreakpoints: new Map(),\n      mobileFeatures: new Map(),\n    };\n\n    // Mobile configuration\n    this.mobileConfig = {\n      touchSensitivity: 1.0,\n      gestureThreshold: 10,\n      doubleTapDelay: 300,\n      longPressDelay: 500,\n      swipeThreshold: 50,\n      pinchThreshold: 0.1,\n      rotationThreshold: 15,\n      responsiveBreakpoints: {\n        mobile: 768,\n        tablet: 1024,\n        desktop: 1200\n      },\n      performanceLevels: {\n        low: { maxFPS: 30, quality: 0.5, effects: false },\n        medium: { maxFPS: 45, quality: 0.7, effects: true },\n        high: { maxFPS: 60, quality: 1.0, effects: true }\n      },\n      touchZones: {\n        left: { x: 0, y: 0, width: 0.3, height: 1.0 },\n        right: { x: 0.7, y: 0, width: 0.3, height: 1.0 },\n        center: { x: 0.3, y: 0, width: 0.4, height: 1.0 }\n      }\n    };\n\n    // Initialize mobile systems\n    this.initializeMobileDetection();\n    this.initializeTouchControls();\n    this.initializeGestureRecognition();\n    this.initializeResponsiveDesign();\n    this.initializeMobileFeatures();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('MobileOptimizationSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing MobileOptimizationSystem...');\n    \n    // Detect mobile device\n    this.detectMobileDevice();\n    \n    // Set up responsive design\n    this.setupResponsiveDesign();\n    \n    // Initialize touch controls\n    this.setupTouchControls();\n    \n    // Set up mobile-specific features\n    this.setupMobileFeatures();\n    \n    this.logger.info('MobileOptimizationSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up MobileOptimizationSystem...');\n    \n    // Remove touch event listeners\n    this.removeTouchEventListeners();\n    \n    // Remove responsive design listeners\n    this.removeResponsiveDesignListeners();\n    \n    // Clear state\n    this.mobileState.touchControls.clear();\n    this.mobileState.gestureRecognizers.clear();\n    this.mobileState.responsiveBreakpoints.clear();\n    this.mobileState.mobileFeatures.clear();\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('MobileOptimizationSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update touch controls\n    this.updateTouchControls(deltaTime);\n    \n    // Update gesture recognition\n    this.updateGestureRecognition(deltaTime);\n    \n    // Update responsive design\n    this.updateResponsiveDesign(deltaTime);\n    \n    // Update mobile features\n    this.updateMobileFeatures(deltaTime);\n  }\n\n  /**\n   * Initialize mobile detection\n   */\n  initializeMobileDetection() {\n    this.mobileDetector = {\n      userAgent: navigator.userAgent,\n      touchCapable: 'ontouchstart' in window || navigator.maxTouchPoints > 0,\n      screenSize: { width: window.innerWidth, height: window.innerHeight },\n      orientation: window.innerHeight > window.innerWidth ? 'portrait' : 'landscape'\n    };\n  }\n\n  /**\n   * Initialize touch controls\n   */\n  initializeTouchControls() {\n    this.touchControls = {\n      virtualJoystick: {\n        active: false,\n        position: { x: 0, y: 0 },\n        radius: 50,\n        deadZone: 10,\n        sensitivity: 1.0\n      },\n      virtualButtons: new Map(),\n      touchZones: new Map(),\n      touchHistory: [],\n      maxTouchHistory: 10\n    };\n  }\n\n  /**\n   * Initialize gesture recognition\n   */\n  initializeGestureRecognition() {\n    this.gestureRecognizers = {\n      tap: {\n        enabled: true,\n        threshold: 10,\n        maxDuration: 300\n      },\n      doubleTap: {\n        enabled: true,\n        threshold: 10,\n        maxDuration: 300,\n        maxDelay: 500\n      },\n      longPress: {\n        enabled: true,\n        threshold: 10,\n        minDuration: 500\n      },\n      swipe: {\n        enabled: true,\n        threshold: 50,\n        minVelocity: 0.3\n      },\n      pinch: {\n        enabled: true,\n        threshold: 0.1\n      },\n      rotation: {\n        enabled: true,\n        threshold: 15\n      }\n    };\n  }\n\n  /**\n   * Initialize responsive design\n   */\n  initializeResponsiveDesign() {\n    this.responsiveDesign = {\n      currentBreakpoint: 'desktop',\n      breakpoints: this.mobileConfig.responsiveBreakpoints,\n      mediaQueries: new Map(),\n      responsiveElements: new Map(),\n      layoutMode: 'desktop'\n    };\n  }\n\n  /**\n   * Initialize mobile features\n   */\n  initializeMobileFeatures() {\n    this.mobileFeatures = {\n      hapticFeedback: 'vibrate' in navigator,\n      deviceOrientation: 'DeviceOrientationEvent' in window,\n      deviceMotion: 'DeviceMotionEvent' in window,\n      fullscreen: 'requestFullscreen' in document.documentElement,\n      webAppManifest: 'serviceWorker' in navigator,\n      pushNotifications: 'PushManager' in window,\n      geolocation: 'geolocation' in navigator,\n      camera: 'getUserMedia' in navigator.mediaDevices\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Touch events\n    this.eventBus.on('touch:start', this.handleTouchStart.bind(this));\n    this.eventBus.on('touch:move', this.handleTouchMove.bind(this));\n    this.eventBus.on('touch:end', this.handleTouchEnd.bind(this));\n    this.eventBus.on('touch:cancel', this.handleTouchCancel.bind(this));\n    \n    // Gesture events\n    this.eventBus.on('gesture:tap', this.handleTap.bind(this));\n    this.eventBus.on('gesture:doubleTap', this.handleDoubleTap.bind(this));\n    this.eventBus.on('gesture:longPress', this.handleLongPress.bind(this));\n    this.eventBus.on('gesture:swipe', this.handleSwipe.bind(this));\n    this.eventBus.on('gesture:pinch', this.handlePinch.bind(this));\n    this.eventBus.on('gesture:rotation', this.handleRotation.bind(this));\n    \n    // Mobile events\n    this.eventBus.on('mobile:orientationChange', this.handleOrientationChange.bind(this));\n    this.eventBus.on('mobile:resize', this.handleResize.bind(this));\n    this.eventBus.on('mobile:visibilityChange', this.handleVisibilityChange.bind(this));\n    this.eventBus.on('mobile:batteryChange', this.handleBatteryChange.bind(this));\n    \n    // Performance events\n    this.eventBus.on('performance:levelChange', this.handlePerformanceLevelChange.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('touch:start', this.handleTouchStart.bind(this));\n    this.eventBus.removeListener('touch:move', this.handleTouchMove.bind(this));\n    this.eventBus.removeListener('touch:end', this.handleTouchEnd.bind(this));\n    this.eventBus.removeListener('touch:cancel', this.handleTouchCancel.bind(this));\n    this.eventBus.removeListener('gesture:tap', this.handleTap.bind(this));\n    this.eventBus.removeListener('gesture:doubleTap', this.handleDoubleTap.bind(this));\n    this.eventBus.removeListener('gesture:longPress', this.handleLongPress.bind(this));\n    this.eventBus.removeListener('gesture:swipe', this.handleSwipe.bind(this));\n    this.eventBus.removeListener('gesture:pinch', this.handlePinch.bind(this));\n    this.eventBus.removeListener('gesture:rotation', this.handleRotation.bind(this));\n    this.eventBus.removeListener('mobile:orientationChange', this.handleOrientationChange.bind(this));\n    this.eventBus.removeListener('mobile:resize', this.handleResize.bind(this));\n    this.eventBus.removeListener('mobile:visibilityChange', this.handleVisibilityChange.bind(this));\n    this.eventBus.removeListener('mobile:batteryChange', this.handleBatteryChange.bind(this));\n    this.eventBus.removeListener('performance:levelChange', this.handlePerformanceLevelChange.bind(this));\n  }\n\n  /**\n   * Detect mobile device\n   */\n  detectMobileDevice() {\n    const userAgent = navigator.userAgent;\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);\n    const isTablet = /iPad|Android/i.test(userAgent) && 'ontouchstart' in window;\n    \n    this.mobileState.isMobile = isMobile;\n    this.mobileState.touchCapable = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    this.mobileState.deviceType = isTablet ? 'tablet' : isMobile ? 'mobile' : 'desktop';\n    this.mobileState.screenSize = { width: window.innerWidth, height: window.innerHeight };\n    this.mobileState.orientation = window.innerHeight > window.innerWidth ? 'portrait' : 'landscape';\n    \n    // Detect performance level\n    this.detectPerformanceLevel();\n    \n    this.logger.info(`Mobile device detected: ${this.mobileState.deviceType}`);\n  }\n\n  /**\n   * Detect performance level\n   */\n  detectPerformanceLevel() {\n    const screenSize = this.mobileState.screenSize;\n    const isLowEnd = screenSize.width < 768 || screenSize.height < 768;\n    const isHighEnd = screenSize.width >= 1200 && screenSize.height >= 800;\n    \n    if (isLowEnd) {\n      this.mobileState.performanceLevel = 'low';\n    } else if (isHighEnd) {\n      this.mobileState.performanceLevel = 'high';\n    } else {\n      this.mobileState.performanceLevel = 'medium';\n    }\n    \n    this.logger.info(`Performance level detected: ${this.mobileState.performanceLevel}`);\n  }\n\n  /**\n   * Set up responsive design\n   */\n  setupResponsiveDesign() {\n    // Set up media queries\n    this.setupMediaQueries();\n    \n    // Set up responsive elements\n    this.setupResponsiveElements();\n    \n    // Set up layout mode\n    this.setupLayoutMode();\n    \n    // Add resize listener\n    window.addEventListener('resize', this.handleResize.bind(this));\n    \n    // Add orientation change listener\n    window.addEventListener('orientationchange', this.handleOrientationChange.bind(this));\n  }\n\n  /**\n   * Set up media queries\n   */\n  setupMediaQueries() {\n    const breakpoints = this.mobileConfig.responsiveBreakpoints;\n    \n    Object.entries(breakpoints).forEach(([name, width]) => {\n      const mediaQuery = window.matchMedia(`(max-width: ${width}px)`);\n      this.responsiveDesign.mediaQueries.set(name, mediaQuery);\n      \n      mediaQuery.addListener((e) => {\n        if (e.matches) {\n          this.handleBreakpointChange(name);\n        }\n      });\n    });\n  }\n\n  /**\n   * Set up responsive elements\n   */\n  setupResponsiveElements() {\n    // Find all responsive elements\n    const responsiveElements = document.querySelectorAll('[data-responsive]');\n    \n    responsiveElements.forEach(element => {\n      const breakpoints = element.dataset.responsive.split(',');\n      this.responsiveDesign.responsiveElements.set(element, breakpoints);\n    });\n  }\n\n  /**\n   * Set up layout mode\n   */\n  setupLayoutMode() {\n    const currentBreakpoint = this.getCurrentBreakpoint();\n    this.responsiveDesign.currentBreakpoint = currentBreakpoint;\n    this.responsiveDesign.layoutMode = this.getLayoutMode(currentBreakpoint);\n    \n    this.applyLayoutMode(this.responsiveDesign.layoutMode);\n  }\n\n  /**\n   * Get current breakpoint\n   */\n  getCurrentBreakpoint() {\n    const width = window.innerWidth;\n    const breakpoints = this.mobileConfig.responsiveBreakpoints;\n    \n    if (width < breakpoints.mobile) {\n      return 'mobile';\n    } else if (width < breakpoints.tablet) {\n      return 'tablet';\n    } else {\n      return 'desktop';\n    }\n  }\n\n  /**\n   * Get layout mode\n   */\n  getLayoutMode(breakpoint) {\n    const layoutModes = {\n      mobile: 'mobile',\n      tablet: 'tablet',\n      desktop: 'desktop'\n    };\n    \n    return layoutModes[breakpoint] || 'desktop';\n  }\n\n  /**\n   * Apply layout mode\n   */\n  applyLayoutMode(layoutMode) {\n    document.body.className = document.body.className.replace(/layout-\\w+/g, '');\n    document.body.classList.add(`layout-${layoutMode}`);\n    \n    this.eventBus.emit('mobile:layoutModeChanged', {\n      layoutMode,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Set up touch controls\n   */\n  setupTouchControls() {\n    if (!this.mobileState.touchCapable) {\n      return;\n    }\n    \n    // Add touch event listeners\n    document.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: false });\n    document.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: false });\n    document.addEventListener('touchend', this.handleTouchEnd.bind(this), { passive: false });\n    document.addEventListener('touchcancel', this.handleTouchCancel.bind(this), { passive: false });\n    \n    // Set up virtual joystick\n    this.setupVirtualJoystick();\n    \n    // Set up virtual buttons\n    this.setupVirtualButtons();\n    \n    // Set up touch zones\n    this.setupTouchZones();\n  }\n\n  /**\n   * Set up virtual joystick\n   */\n  setupVirtualJoystick() {\n    const joystick = document.createElement('div');\n    joystick.id = 'virtual-joystick';\n    joystick.className = 'virtual-joystick';\n    joystick.style.cssText = `\n      position: fixed;\n      left: 50px;\n      bottom: 50px;\n      width: 100px;\n      height: 100px;\n      border: 2px solid rgba(255, 255, 255, 0.3);\n      border-radius: 50%;\n      background: rgba(0, 0, 0, 0.3);\n      z-index: 1000;\n      display: ${this.mobileState.isMobile ? 'block' : 'none'};\n    `;\n    \n    const knob = document.createElement('div');\n    knob.className = 'joystick-knob';\n    knob.style.cssText = `\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 30px;\n      height: 30px;\n      background: rgba(255, 255, 255, 0.8);\n      border-radius: 50%;\n      transform: translate(-50%, -50%);\n      transition: transform 0.1s ease;\n    `;\n    \n    joystick.appendChild(knob);\n    document.body.appendChild(joystick);\n    \n    this.touchControls.virtualJoystick.element = joystick;\n    this.touchControls.virtualJoystick.knob = knob;\n  }\n\n  /**\n   * Set up virtual buttons\n   */\n  setupVirtualButtons() {\n    const buttonConfigs = [\n      { id: 'jump', label: 'Jump', position: { right: '50px', bottom: '50px' } },\n      { id: 'attack', label: 'Attack', position: { right: '50px', bottom: '120px' } },\n      { id: 'interact', label: 'Interact', position: { right: '50px', bottom: '190px' } },\n      { id: 'menu', label: 'Menu', position: { right: '50px', top: '50px' } }\n    ];\n    \n    buttonConfigs.forEach(config => {\n      const button = document.createElement('button');\n      button.id = `virtual-button-${config.id}`;\n      button.className = 'virtual-button';\n      button.textContent = config.label;\n      button.style.cssText = `\n        position: fixed;\n        ${config.position.right ? `right: ${config.position.right};` : ''}\n        ${config.position.left ? `left: ${config.position.left};` : ''}\n        ${config.position.top ? `top: ${config.position.top};` : ''}\n        ${config.position.bottom ? `bottom: ${config.position.bottom};` : ''}\n        width: 60px;\n        height: 60px;\n        border: 2px solid rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        background: rgba(0, 0, 0, 0.3);\n        color: white;\n        font-size: 12px;\n        z-index: 1000;\n        display: ${this.mobileState.isMobile ? 'block' : 'none'};\n        touch-action: manipulation;\n      `;\n      \n      button.addEventListener('touchstart', (e) => {\n        e.preventDefault();\n        this.handleVirtualButtonPress(config.id);\n      });\n      \n      button.addEventListener('touchend', (e) => {\n        e.preventDefault();\n        this.handleVirtualButtonRelease(config.id);\n      });\n      \n      document.body.appendChild(button);\n      this.touchControls.virtualButtons.set(config.id, button);\n    });\n  }\n\n  /**\n   * Set up touch zones\n   */\n  setupTouchZones() {\n    const zones = this.mobileConfig.touchZones;\n    \n    Object.entries(zones).forEach(([name, zone]) => {\n      const element = document.createElement('div');\n      element.className = `touch-zone touch-zone-${name}`;\n      element.style.cssText = `\n        position: fixed;\n        left: ${zone.x * 100}%;\n        top: ${zone.y * 100}%;\n        width: ${zone.width * 100}%;\n        height: ${zone.height * 100}%;\n        z-index: 999;\n        display: ${this.mobileState.isMobile ? 'block' : 'none'};\n        pointer-events: auto;\n      `;\n      \n      element.addEventListener('touchstart', (e) => {\n        this.handleTouchZoneStart(name, e);\n      });\n      \n      element.addEventListener('touchmove', (e) => {\n        this.handleTouchZoneMove(name, e);\n      });\n      \n      element.addEventListener('touchend', (e) => {\n        this.handleTouchZoneEnd(name, e);\n      });\n      \n      document.body.appendChild(element);\n      this.touchControls.touchZones.set(name, element);\n    });\n  }\n\n  /**\n   * Set up mobile features\n   */\n  setupMobileFeatures() {\n    // Set up haptic feedback\n    if (this.mobileFeatures.hapticFeedback) {\n      this.setupHapticFeedback();\n    }\n    \n    // Set up device orientation\n    if (this.mobileFeatures.deviceOrientation) {\n      this.setupDeviceOrientation();\n    }\n    \n    // Set up device motion\n    if (this.mobileFeatures.deviceMotion) {\n      this.setupDeviceMotion();\n    }\n    \n    // Set up fullscreen\n    if (this.mobileFeatures.fullscreen) {\n      this.setupFullscreen();\n    }\n    \n    // Set up push notifications\n    if (this.mobileFeatures.pushNotifications) {\n      this.setupPushNotifications();\n    }\n    \n    // Set up geolocation\n    if (this.mobileFeatures.geolocation) {\n      this.setupGeolocation();\n    }\n  }\n\n  /**\n   * Set up haptic feedback\n   */\n  setupHapticFeedback() {\n    this.hapticFeedback = {\n      light: () => navigator.vibrate(10),\n      medium: () => navigator.vibrate(50),\n      heavy: () => navigator.vibrate(100),\n      pattern: (pattern) => navigator.vibrate(pattern)\n    };\n  }\n\n  /**\n   * Set up device orientation\n   */\n  setupDeviceOrientation() {\n    window.addEventListener('deviceorientation', (event) => {\n      this.handleDeviceOrientation(event);\n    });\n  }\n\n  /**\n   * Set up device motion\n   */\n  setupDeviceMotion() {\n    window.addEventListener('devicemotion', (event) => {\n      this.handleDeviceMotion(event);\n    });\n  }\n\n  /**\n   * Set up fullscreen\n   */\n  setupFullscreen() {\n    this.fullscreen = {\n      enter: () => {\n        if (document.documentElement.requestFullscreen) {\n          document.documentElement.requestFullscreen();\n        }\n      },\n      exit: () => {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        }\n      },\n      toggle: () => {\n        if (document.fullscreenElement) {\n          this.fullscreen.exit();\n        } else {\n          this.fullscreen.enter();\n        }\n      }\n    };\n  }\n\n  /**\n   * Set up push notifications\n   */\n  setupPushNotifications() {\n    this.pushNotifications = {\n      requestPermission: async () => {\n        if ('Notification' in window) {\n          const permission = await Notification.requestPermission();\n          return permission === 'granted';\n        }\n        return false;\n      },\n      show: (title, options) => {\n        if (Notification.permission === 'granted') {\n          new Notification(title, options);\n        }\n      }\n    };\n  }\n\n  /**\n   * Set up geolocation\n   */\n  setupGeolocation() {\n    this.geolocation = {\n      getCurrentPosition: () => {\n        return new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(resolve, reject);\n        });\n      },\n      watchPosition: (callback) => {\n        return navigator.geolocation.watchPosition(callback);\n      },\n      clearWatch: (id) => {\n        navigator.geolocation.clearWatch(id);\n      }\n    };\n  }\n\n  /**\n   * Handle touch start\n   */\n  handleTouchStart(event) {\n    event.preventDefault();\n    \n    const touches = Array.from(event.touches);\n    const touch = touches[0];\n    \n    if (touch) {\n      this.touchControls.touchHistory.push({\n        type: 'start',\n        x: touch.clientX,\n        y: touch.clientY,\n        timestamp: Date.now()\n      });\n      \n      // Limit touch history\n      if (this.touchControls.touchHistory.length > this.touchControls.maxTouchHistory) {\n        this.touchControls.touchHistory.shift();\n      }\n      \n      // Check for virtual joystick interaction\n      if (this.isPointInJoystick(touch.clientX, touch.clientY)) {\n        this.touchControls.virtualJoystick.active = true;\n        this.touchControls.virtualJoystick.startPosition = { x: touch.clientX, y: touch.clientY };\n      }\n      \n      this.eventBus.emit('touch:start', {\n        touch,\n        touches,\n        timestamp: Date.now()\n      });\n    }\n  }\n\n  /**\n   * Handle touch move\n   */\n  handleTouchMove(event) {\n    event.preventDefault();\n    \n    const touches = Array.from(event.touches);\n    const touch = touches[0];\n    \n    if (touch) {\n      this.touchControls.touchHistory.push({\n        type: 'move',\n        x: touch.clientX,\n        y: touch.clientY,\n        timestamp: Date.now()\n      });\n      \n      // Update virtual joystick\n      if (this.touchControls.virtualJoystick.active) {\n        this.updateVirtualJoystick(touch.clientX, touch.clientY);\n      }\n      \n      this.eventBus.emit('touch:move', {\n        touch,\n        touches,\n        timestamp: Date.now()\n      });\n    }\n  }\n\n  /**\n   * Handle touch end\n   */\n  handleTouchEnd(event) {\n    event.preventDefault();\n    \n    const touches = Array.from(event.touches);\n    const changedTouches = Array.from(event.changedTouches);\n    const touch = changedTouches[0];\n    \n    if (touch) {\n      this.touchControls.touchHistory.push({\n        type: 'end',\n        x: touch.clientX,\n        y: touch.clientY,\n        timestamp: Date.now()\n      });\n      \n      // Reset virtual joystick\n      if (this.touchControls.virtualJoystick.active) {\n        this.resetVirtualJoystick();\n      }\n      \n      // Recognize gestures\n      this.recognizeGestures();\n      \n      this.eventBus.emit('touch:end', {\n        touch,\n        touches,\n        timestamp: Date.now()\n      });\n    }\n  }\n\n  /**\n   * Handle touch cancel\n   */\n  handleTouchCancel(event) {\n    event.preventDefault();\n    \n    // Reset virtual joystick\n    if (this.touchControls.virtualJoystick.active) {\n      this.resetVirtualJoystick();\n    }\n    \n    this.eventBus.emit('touch:cancel', {\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle tap\n   */\n  handleTap(data) {\n    this.logger.info('Tap gesture recognized');\n    \n    // Trigger haptic feedback\n    if (this.hapticFeedback) {\n      this.hapticFeedback.light();\n    }\n    \n    this.eventBus.emit('gesture:tap', data);\n  }\n\n  /**\n   * Handle double tap\n   */\n  handleDoubleTap(data) {\n    this.logger.info('Double tap gesture recognized');\n    \n    // Trigger haptic feedback\n    if (this.hapticFeedback) {\n      this.hapticFeedback.medium();\n    }\n    \n    this.eventBus.emit('gesture:doubleTap', data);\n  }\n\n  /**\n   * Handle long press\n   */\n  handleLongPress(data) {\n    this.logger.info('Long press gesture recognized');\n    \n    // Trigger haptic feedback\n    if (this.hapticFeedback) {\n      this.hapticFeedback.heavy();\n    }\n    \n    this.eventBus.emit('gesture:longPress', data);\n  }\n\n  /**\n   * Handle swipe\n   */\n  handleSwipe(data) {\n    this.logger.info(`Swipe gesture recognized: ${data.direction}`);\n    \n    // Trigger haptic feedback\n    if (this.hapticFeedback) {\n      this.hapticFeedback.medium();\n    }\n    \n    this.eventBus.emit('gesture:swipe', data);\n  }\n\n  /**\n   * Handle pinch\n   */\n  handlePinch(data) {\n    this.logger.info(`Pinch gesture recognized: ${data.scale}`);\n    \n    this.eventBus.emit('gesture:pinch', data);\n  }\n\n  /**\n   * Handle rotation\n   */\n  handleRotation(data) {\n    this.logger.info(`Rotation gesture recognized: ${data.rotation}`);\n    \n    this.eventBus.emit('gesture:rotation', data);\n  }\n\n  /**\n   * Handle orientation change\n   */\n  handleOrientationChange(event) {\n    const newOrientation = window.innerHeight > window.innerWidth ? 'portrait' : 'landscape';\n    \n    if (newOrientation !== this.mobileState.orientation) {\n      this.mobileState.orientation = newOrientation;\n      \n      this.eventBus.emit('mobile:orientationChange', {\n        orientation: newOrientation,\n        timestamp: Date.now()\n      });\n    }\n  }\n\n  /**\n   * Handle resize\n   */\n  handleResize(event) {\n    const newScreenSize = { width: window.innerWidth, height: window.innerHeight };\n    \n    if (newScreenSize.width !== this.mobileState.screenSize.width || \n        newScreenSize.height !== this.mobileState.screenSize.height) {\n      this.mobileState.screenSize = newScreenSize;\n      \n      // Update responsive design\n      this.updateResponsiveDesign();\n      \n      this.eventBus.emit('mobile:resize', {\n        screenSize: newScreenSize,\n        timestamp: Date.now()\n      });\n    }\n  }\n\n  /**\n   * Handle visibility change\n   */\n  handleVisibilityChange(event) {\n    const isVisible = !document.hidden;\n    \n    this.eventBus.emit('mobile:visibilityChange', {\n      visible: isVisible,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle battery change\n   */\n  handleBatteryChange(event) {\n    const batteryLevel = event.level;\n    \n    this.mobileState.batteryLevel = batteryLevel;\n    \n    // Adjust performance based on battery level\n    if (batteryLevel < 0.2) {\n      this.setPerformanceLevel('low');\n    } else if (batteryLevel < 0.5) {\n      this.setPerformanceLevel('medium');\n    } else {\n      this.setPerformanceLevel('high');\n    }\n    \n    this.eventBus.emit('mobile:batteryChange', {\n      batteryLevel,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle performance level change\n   */\n  handlePerformanceLevelChange(data) {\n    const { level } = data;\n    \n    this.mobileState.performanceLevel = level;\n    \n    // Apply performance settings\n    this.applyPerformanceSettings(level);\n    \n    this.logger.info(`Performance level changed to: ${level}`);\n  }\n\n  /**\n   * Update touch controls\n   */\n  updateTouchControls(deltaTime) {\n    // Update virtual joystick\n    if (this.touchControls.virtualJoystick.active) {\n      this.updateVirtualJoystickPosition(deltaTime);\n    }\n  }\n\n  /**\n   * Update gesture recognition\n   */\n  updateGestureRecognition(deltaTime) {\n    // Process touch history for gesture recognition\n    this.processTouchHistory();\n  }\n\n  /**\n   * Update responsive design\n   */\n  updateResponsiveDesign(deltaTime) {\n    // Check for breakpoint changes\n    const currentBreakpoint = this.getCurrentBreakpoint();\n    \n    if (currentBreakpoint !== this.responsiveDesign.currentBreakpoint) {\n      this.handleBreakpointChange(currentBreakpoint);\n    }\n  }\n\n  /**\n   * Update mobile features\n   */\n  updateMobileFeatures(deltaTime) {\n    // Update mobile-specific features\n  }\n\n  /**\n   * Check if point is in joystick\n   */\n  isPointInJoystick(x, y) {\n    const joystick = this.touchControls.virtualJoystick.element;\n    if (!joystick) return false;\n    \n    const rect = joystick.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    const distance = Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2);\n    \n    return distance <= rect.width / 2;\n  }\n\n  /**\n   * Update virtual joystick\n   */\n  updateVirtualJoystick(x, y) {\n    const joystick = this.touchControls.virtualJoystick.element;\n    const knob = this.touchControls.virtualJoystick.knob;\n    \n    if (!joystick || !knob) return;\n    \n    const rect = joystick.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    \n    const deltaX = x - centerX;\n    const deltaY = y - centerY;\n    const distance = Math.sqrt(deltaX ** 2 + deltaY ** 2);\n    const maxDistance = rect.width / 2 - 15; // Account for knob radius\n    \n    if (distance > maxDistance) {\n      const angle = Math.atan2(deltaY, deltaX);\n      const newX = Math.cos(angle) * maxDistance;\n      const newY = Math.sin(angle) * maxDistance;\n      \n      knob.style.transform = `translate(${newX - 15}px, ${newY - 15}px)`;\n      \n      // Calculate joystick input\n      this.touchControls.virtualJoystick.position = {\n        x: newX / maxDistance,\n        y: newY / maxDistance\n      };\n    } else {\n      knob.style.transform = `translate(${deltaX - 15}px, ${deltaY - 15}px)`;\n      \n      // Calculate joystick input\n      this.touchControls.virtualJoystick.position = {\n        x: deltaX / maxDistance,\n        y: deltaY / maxDistance\n      };\n    }\n    \n    // Emit joystick input\n    this.eventBus.emit('input:joystick', {\n      position: this.touchControls.virtualJoystick.position,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Reset virtual joystick\n   */\n  resetVirtualJoystick() {\n    const knob = this.touchControls.virtualJoystick.knob;\n    \n    if (knob) {\n      knob.style.transform = 'translate(-50%, -50%)';\n    }\n    \n    this.touchControls.virtualJoystick.active = false;\n    this.touchControls.virtualJoystick.position = { x: 0, y: 0 };\n  }\n\n  /**\n   * Handle virtual button press\n   */\n  handleVirtualButtonPress(buttonId) {\n    this.eventBus.emit('input:buttonPress', {\n      button: buttonId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle virtual button release\n   */\n  handleVirtualButtonRelease(buttonId) {\n    this.eventBus.emit('input:buttonRelease', {\n      button: buttonId,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle touch zone start\n   */\n  handleTouchZoneStart(zoneName, event) {\n    this.eventBus.emit('input:zoneStart', {\n      zone: zoneName,\n      touch: event.touches[0],\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle touch zone move\n   */\n  handleTouchZoneMove(zoneName, event) {\n    this.eventBus.emit('input:zoneMove', {\n      zone: zoneName,\n      touch: event.touches[0],\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle touch zone end\n   */\n  handleTouchZoneEnd(zoneName, event) {\n    this.eventBus.emit('input:zoneEnd', {\n      zone: zoneName,\n      touch: event.changedTouches[0],\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Recognize gestures\n   */\n  recognizeGestures() {\n    const history = this.touchControls.touchHistory;\n    \n    if (history.length < 2) return;\n    \n    const lastTouch = history[history.length - 1];\n    const firstTouch = history[0];\n    \n    // Recognize tap\n    if (this.isTap(history)) {\n      this.handleTap({ touch: lastTouch });\n    }\n    \n    // Recognize double tap\n    if (this.isDoubleTap(history)) {\n      this.handleDoubleTap({ touch: lastTouch });\n    }\n    \n    // Recognize long press\n    if (this.isLongPress(history)) {\n      this.handleLongPress({ touch: lastTouch });\n    }\n    \n    // Recognize swipe\n    if (this.isSwipe(history)) {\n      const direction = this.getSwipeDirection(history);\n      this.handleSwipe({ touch: lastTouch, direction });\n    }\n  }\n\n  /**\n   * Check if gesture is tap\n   */\n  isTap(history) {\n    const lastTouch = history[history.length - 1];\n    const firstTouch = history[0];\n    \n    if (lastTouch.type !== 'end') return false;\n    \n    const duration = lastTouch.timestamp - firstTouch.timestamp;\n    const distance = Math.sqrt(\n      (lastTouch.x - firstTouch.x) ** 2 + (lastTouch.y - firstTouch.y) ** 2\n    );\n    \n    return duration < this.gestureRecognizers.tap.maxDuration && \n           distance < this.gestureRecognizers.tap.threshold;\n  }\n\n  /**\n   * Check if gesture is double tap\n   */\n  isDoubleTap(history) {\n    // This is a simplified implementation\n    // In a real implementation, you'd need to track multiple taps\n    return false;\n  }\n\n  /**\n   * Check if gesture is long press\n   */\n  isLongPress(history) {\n    const lastTouch = history[history.length - 1];\n    const firstTouch = history[0];\n    \n    const duration = lastTouch.timestamp - firstTouch.timestamp;\n    \n    return duration >= this.gestureRecognizers.longPress.minDuration;\n  }\n\n  /**\n   * Check if gesture is swipe\n   */\n  isSwipe(history) {\n    const lastTouch = history[history.length - 1];\n    const firstTouch = history[0];\n    \n    if (lastTouch.type !== 'end') return false;\n    \n    const distance = Math.sqrt(\n      (lastTouch.x - firstTouch.x) ** 2 + (lastTouch.y - firstTouch.y) ** 2\n    );\n    \n    return distance >= this.gestureRecognizers.swipe.threshold;\n  }\n\n  /**\n   * Get swipe direction\n   */\n  getSwipeDirection(history) {\n    const lastTouch = history[history.length - 1];\n    const firstTouch = history[0];\n    \n    const deltaX = lastTouch.x - firstTouch.x;\n    const deltaY = lastTouch.y - firstTouch.y;\n    \n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      return deltaX > 0 ? 'right' : 'left';\n    } else {\n      return deltaY > 0 ? 'down' : 'up';\n    }\n  }\n\n  /**\n   * Handle breakpoint change\n   */\n  handleBreakpointChange(breakpoint) {\n    this.responsiveDesign.currentBreakpoint = breakpoint;\n    this.responsiveDesign.layoutMode = this.getLayoutMode(breakpoint);\n    \n    this.applyLayoutMode(this.responsiveDesign.layoutMode);\n    \n    this.logger.info(`Breakpoint changed to: ${breakpoint}`);\n  }\n\n  /**\n   * Set performance level\n   */\n  setPerformanceLevel(level) {\n    this.mobileState.performanceLevel = level;\n    \n    this.applyPerformanceSettings(level);\n    \n    this.eventBus.emit('performance:levelChange', {\n      level,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Apply performance settings\n   */\n  applyPerformanceSettings(level) {\n    const settings = this.mobileConfig.performanceLevels[level];\n    \n    if (settings) {\n      // Apply performance settings\n      this.logger.info(`Applied performance settings for level: ${level}`);\n    }\n  }\n\n  /**\n   * Remove touch event listeners\n   */\n  removeTouchEventListeners() {\n    document.removeEventListener('touchstart', this.handleTouchStart);\n    document.removeEventListener('touchmove', this.handleTouchMove);\n    document.removeEventListener('touchend', this.handleTouchEnd);\n    document.removeEventListener('touchcancel', this.handleTouchCancel);\n  }\n\n  /**\n   * Remove responsive design listeners\n   */\n  removeResponsiveDesignListeners() {\n    window.removeEventListener('resize', this.handleResize);\n    window.removeEventListener('orientationchange', this.handleOrientationChange);\n  }\n\n  /**\n   * Get mobile state\n   */\n  getMobileState() {\n    return { ...this.mobileState };\n  }\n\n  /**\n   * Get touch controls\n   */\n  getTouchControls() {\n    return { ...this.touchControls };\n  }\n\n  /**\n   * Get responsive design\n   */\n  getResponsiveDesign() {\n    return { ...this.responsiveDesign };\n  }\n\n  /**\n   * Get mobile features\n   */\n  getMobileFeatures() {\n    return { ...this.mobileFeatures };\n  }\n\n  /**\n   * Enable mobile mode\n   */\n  enableMobileMode() {\n    this.mobileState.isMobile = true;\n    this.setupTouchControls();\n    this.setupMobileFeatures();\n  }\n\n  /**\n   * Disable mobile mode\n   */\n  disableMobileMode() {\n    this.mobileState.isMobile = false;\n    this.removeTouchEventListeners();\n  }\n}\n\nexport default MobileOptimizationSystem;", "/**\n * PerformanceOptimizationSystem.js - Performance Optimization and Monitoring System\n *\n * This system handles:\n * - Performance monitoring and profiling\n * - Memory management and garbage collection\n * - Rendering optimization\n * - Asset loading and caching\n * - Frame rate optimization\n * - Resource pooling and reuse\n */\n\nexport class PerformanceOptimizationSystem {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('PerformanceOptimizationSystem requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('PerformanceOptimizationSystem requires logger dependency');\n    }\n\n    // Performance state\n    this.performanceState = {\n      frameRate: 0,\n      frameTime: 0,\n      memoryUsage: 0,\n      cpuUsage: 0,\n      renderTime: 0,\n      updateTime: 0,\n      assetLoadTime: 0,\n      networkLatency: 0,\n      performanceLevel: 'high',\n      optimizationEnabled: true,\n      monitoringEnabled: true,\n      profilingEnabled: false,\n      metrics: new Map(),\n      thresholds: new Map(),\n      optimizations: new Map(),\n      resourcePools: new Map(),\n      assetCache: new Map(),\n      renderQueue: [],\n      updateQueue: [],\n    };\n\n    // Performance configuration\n    this.performanceConfig = {\n      targetFrameRate: 60,\n      maxFrameTime: 16.67, // 60 FPS\n      memoryThreshold: 0.8, // 80% of available memory\n      cpuThreshold: 0.7, // 70% CPU usage\n      renderThreshold: 8, // 8ms render time\n      updateThreshold: 8, // 8ms update time\n      assetCacheSize: 100, // 100 assets in cache\n      resourcePoolSize: 50, // 50 objects per pool\n      optimizationLevels: {\n        low: { maxFPS: 30, quality: 0.5, effects: false, shadows: false },\n        medium: { maxFPS: 45, quality: 0.7, effects: true, shadows: false },\n        high: { maxFPS: 60, quality: 1.0, effects: true, shadows: true }\n      },\n      monitoringInterval: 1000, // 1 second\n      profilingInterval: 100, // 100ms\n      garbageCollectionInterval: 5000, // 5 seconds\n    };\n\n    // Initialize performance systems\n    this.initializePerformanceMonitoring();\n    this.initializeMemoryManagement();\n    this.initializeRenderingOptimization();\n    this.initializeAssetManagement();\n    this.initializeResourcePooling();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('PerformanceOptimizationSystem initialized');\n  }\n\n  /**\n   * Initialize the system\n   */\n  async initialize() {\n    this.logger.info('Initializing PerformanceOptimizationSystem...');\n    \n    // Start performance monitoring\n    this.startPerformanceMonitoring();\n    \n    // Initialize resource pools\n    this.initializeResourcePools();\n    \n    // Set up asset cache\n    this.setupAssetCache();\n    \n    // Start optimization processes\n    this.startOptimizationProcesses();\n    \n    this.logger.info('PerformanceOptimizationSystem initialized successfully');\n  }\n\n  /**\n   * Cleanup the system\n   */\n  cleanup() {\n    this.logger.info('Cleaning up PerformanceOptimizationSystem...');\n    \n    // Stop performance monitoring\n    this.stopPerformanceMonitoring();\n    \n    // Stop optimization processes\n    this.stopOptimizationProcesses();\n    \n    // Clear resource pools\n    this.clearResourcePools();\n    \n    // Clear asset cache\n    this.clearAssetCache();\n    \n    // Clear state\n    this.performanceState.metrics.clear();\n    this.performanceState.thresholds.clear();\n    this.performanceState.optimizations.clear();\n    this.performanceState.resourcePools.clear();\n    this.performanceState.assetCache.clear();\n    this.performanceState.renderQueue = [];\n    this.performanceState.updateQueue = [];\n    \n    // Remove event listeners\n    this.removeEventHandlers();\n    \n    this.logger.info('PerformanceOptimizationSystem cleaned up');\n  }\n\n  /**\n   * Update the system\n   */\n  update(deltaTime, gameState) {\n    // Update performance metrics\n    this.updatePerformanceMetrics(deltaTime);\n    \n    // Check performance thresholds\n    this.checkPerformanceThresholds();\n    \n    // Apply optimizations\n    this.applyOptimizations(deltaTime);\n    \n    // Update resource pools\n    this.updateResourcePools(deltaTime);\n    \n    // Update asset cache\n    this.updateAssetCache(deltaTime);\n  }\n\n  /**\n   * Initialize performance monitoring\n   */\n  initializePerformanceMonitoring() {\n    this.performanceMonitor = {\n      frameCount: 0,\n      lastFrameTime: 0,\n      frameTimes: [],\n      maxFrameTimeHistory: 60,\n      memoryInfo: null,\n      performanceObserver: null,\n      metrics: {\n        frameRate: 0,\n        frameTime: 0,\n        memoryUsage: 0,\n        cpuUsage: 0,\n        renderTime: 0,\n        updateTime: 0\n      }\n    };\n  }\n\n  /**\n   * Initialize memory management\n   */\n  initializeMemoryManagement() {\n    this.memoryManager = {\n      allocatedObjects: new Map(),\n      objectPools: new Map(),\n      garbageCollectionThreshold: 1000,\n      lastGarbageCollection: 0,\n      memoryLeaks: new Map(),\n      memoryStats: {\n        totalAllocated: 0,\n        totalFreed: 0,\n        currentUsage: 0,\n        peakUsage: 0\n      }\n    };\n  }\n\n  /**\n   * Initialize rendering optimization\n   */\n  initializeRenderingOptimization() {\n    this.renderingOptimizer = {\n      cullingEnabled: true,\n      frustumCulling: true,\n      occlusionCulling: false,\n      levelOfDetail: true,\n      instancing: true,\n      batching: true,\n      textureAtlas: true,\n      shaderOptimization: true,\n      renderQueue: [],\n      visibleObjects: [],\n      culledObjects: []\n    };\n  }\n\n  /**\n   * Initialize asset management\n   */\n  initializeAssetManagement() {\n    this.assetManager = {\n      loadedAssets: new Map(),\n      loadingQueue: [],\n      cache: new Map(),\n      maxCacheSize: 100,\n      compressionEnabled: true,\n      lazyLoading: true,\n      preloading: true,\n      assetStats: {\n        totalLoaded: 0,\n        totalSize: 0,\n        cacheHits: 0,\n        cacheMisses: 0\n      }\n    };\n  }\n\n  /**\n   * Initialize resource pooling\n   */\n  initializeResourcePooling() {\n    this.resourcePooler = {\n      pools: new Map(),\n      maxPoolSize: 50,\n      poolStats: {\n        totalPools: 0,\n        totalObjects: 0,\n        activeObjects: 0,\n        pooledObjects: 0\n      }\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Performance events\n    this.eventBus.on('performance:metric', this.handlePerformanceMetric.bind(this));\n    this.eventBus.on('performance:threshold', this.handlePerformanceThreshold.bind(this));\n    this.eventBus.on('performance:optimize', this.handlePerformanceOptimize.bind(this));\n    \n    // Memory events\n    this.eventBus.on('memory:allocate', this.handleMemoryAllocate.bind(this));\n    this.eventBus.on('memory:free', this.handleMemoryFree.bind(this));\n    this.eventBus.on('memory:leak', this.handleMemoryLeak.bind(this));\n    \n    // Rendering events\n    this.eventBus.on('render:object', this.handleRenderObject.bind(this));\n    this.eventBus.on('render:batch', this.handleRenderBatch.bind(this));\n    this.eventBus.on('render:cull', this.handleRenderCull.bind(this));\n    \n    // Asset events\n    this.eventBus.on('asset:load', this.handleAssetLoad.bind(this));\n    this.eventBus.on('asset:unload', this.handleAssetUnload.bind(this));\n    this.eventBus.on('asset:cache', this.handleAssetCache.bind(this));\n    \n    // Resource events\n    this.eventBus.on('resource:create', this.handleResourceCreate.bind(this));\n    this.eventBus.on('resource:destroy', this.handleResourceDestroy.bind(this));\n    this.eventBus.on('resource:pool', this.handleResourcePool.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener('performance:metric', this.handlePerformanceMetric.bind(this));\n    this.eventBus.removeListener('performance:threshold', this.handlePerformanceThreshold.bind(this));\n    this.eventBus.removeListener('performance:optimize', this.handlePerformanceOptimize.bind(this));\n    this.eventBus.removeListener('memory:allocate', this.handleMemoryAllocate.bind(this));\n    this.eventBus.removeListener('memory:free', this.handleMemoryFree.bind(this));\n    this.eventBus.removeListener('memory:leak', this.handleMemoryLeak.bind(this));\n    this.eventBus.removeListener('render:object', this.handleRenderObject.bind(this));\n    this.eventBus.removeListener('render:batch', this.handleRenderBatch.bind(this));\n    this.eventBus.removeListener('render:cull', this.handleRenderCull.bind(this));\n    this.eventBus.removeListener('asset:load', this.handleAssetLoad.bind(this));\n    this.eventBus.removeListener('asset:unload', this.handleAssetUnload.bind(this));\n    this.eventBus.removeListener('asset:cache', this.handleAssetCache.bind(this));\n    this.eventBus.removeListener('resource:create', this.handleResourceCreate.bind(this));\n    this.eventBus.removeListener('resource:destroy', this.handleResourceDestroy.bind(this));\n    this.eventBus.removeListener('resource:pool', this.handleResourcePool.bind(this));\n  }\n\n  /**\n   * Start performance monitoring\n   */\n  startPerformanceMonitoring() {\n    if (!this.performanceConfig.monitoringEnabled) {\n      return;\n    }\n    \n    // Start frame rate monitoring\n    this.startFrameRateMonitoring();\n    \n    // Start memory monitoring\n    this.startMemoryMonitoring();\n    \n    // Start CPU monitoring\n    this.startCPUMonitoring();\n    \n    // Start profiling if enabled\n    if (this.performanceConfig.profilingEnabled) {\n      this.startProfiling();\n    }\n  }\n\n  /**\n   * Stop performance monitoring\n   */\n  stopPerformanceMonitoring() {\n    if (this.frameRateTimer) {\n      clearInterval(this.frameRateTimer);\n    }\n    \n    if (this.memoryTimer) {\n      clearInterval(this.memoryTimer);\n    }\n    \n    if (this.cpuTimer) {\n      clearInterval(this.cpuTimer);\n    }\n    \n    if (this.profilingTimer) {\n      clearInterval(this.profilingTimer);\n    }\n  }\n\n  /**\n   * Start frame rate monitoring\n   */\n  startFrameRateMonitoring() {\n    this.frameRateTimer = setInterval(() => {\n      this.updateFrameRate();\n    }, this.performanceConfig.monitoringInterval);\n  }\n\n  /**\n   * Start memory monitoring\n   */\n  startMemoryMonitoring() {\n    this.memoryTimer = setInterval(() => {\n      this.updateMemoryUsage();\n    }, this.performanceConfig.monitoringInterval);\n  }\n\n  /**\n   * Start CPU monitoring\n   */\n  startCPUMonitoring() {\n    this.cpuTimer = setInterval(() => {\n      this.updateCPUUsage();\n    }, this.performanceConfig.monitoringInterval);\n  }\n\n  /**\n   * Start profiling\n   */\n  startProfiling() {\n    this.profilingTimer = setInterval(() => {\n      this.updateProfiling();\n    }, this.performanceConfig.profilingInterval);\n  }\n\n  /**\n   * Update frame rate\n   */\n  updateFrameRate() {\n    const now = performance.now();\n    const deltaTime = now - this.performanceMonitor.lastFrameTime;\n    \n    this.performanceMonitor.frameCount++;\n    this.performanceMonitor.lastFrameTime = now;\n    \n    // Calculate frame rate\n    this.performanceState.frameRate = 1000 / deltaTime;\n    this.performanceState.frameTime = deltaTime;\n    \n    // Add to frame time history\n    this.performanceMonitor.frameTimes.push(deltaTime);\n    if (this.performanceMonitor.frameTimes.length > this.performanceMonitor.maxFrameTimeHistory) {\n      this.performanceMonitor.frameTimes.shift();\n    }\n    \n    // Update metrics\n    this.performanceMonitor.metrics.frameRate = this.performanceState.frameRate;\n    this.performanceMonitor.metrics.frameTime = this.performanceState.frameTime;\n  }\n\n  /**\n   * Update memory usage\n   */\n  updateMemoryUsage() {\n    if (performance.memory) {\n      this.performanceState.memoryUsage = performance.memory.usedJSHeapSize / performance.memory.totalJSHeapSize;\n      this.performanceMonitor.memoryInfo = {\n        used: performance.memory.usedJSHeapSize,\n        total: performance.memory.totalJSHeapSize,\n        limit: performance.memory.jsHeapSizeLimit\n      };\n    }\n    \n    this.performanceMonitor.metrics.memoryUsage = this.performanceState.memoryUsage;\n  }\n\n  /**\n   * Update CPU usage\n   */\n  updateCPUUsage() {\n    // This is a simplified CPU usage calculation\n    // In a real implementation, you'd use more sophisticated methods\n    const now = performance.now();\n    const deltaTime = now - (this.lastCPUUpdate || now);\n    \n    this.performanceState.cpuUsage = Math.min(1, deltaTime / this.performanceConfig.maxFrameTime);\n    this.lastCPUUpdate = now;\n    \n    this.performanceMonitor.metrics.cpuUsage = this.performanceState.cpuUsage;\n  }\n\n  /**\n   * Update profiling\n   */\n  updateProfiling() {\n    // Profile different parts of the system\n    this.profileRendering();\n    this.profileUpdates();\n    this.profileMemory();\n  }\n\n  /**\n   * Profile rendering\n   */\n  profileRendering() {\n    const startTime = performance.now();\n    \n    // Simulate rendering work\n    this.processRenderQueue();\n    \n    const endTime = performance.now();\n    this.performanceState.renderTime = endTime - startTime;\n    this.performanceMonitor.metrics.renderTime = this.performanceState.renderTime;\n  }\n\n  /**\n   * Profile updates\n   */\n  profileUpdates() {\n    const startTime = performance.now();\n    \n    // Simulate update work\n    this.processUpdateQueue();\n    \n    const endTime = performance.now();\n    this.performanceState.updateTime = endTime - startTime;\n    this.performanceMonitor.metrics.updateTime = this.performanceState.updateTime;\n  }\n\n  /**\n   * Profile memory\n   */\n  profileMemory() {\n    // Check for memory leaks\n    this.checkMemoryLeaks();\n    \n    // Update memory statistics\n    this.updateMemoryStatistics();\n  }\n\n  /**\n   * Check performance thresholds\n   */\n  checkPerformanceThresholds() {\n    const thresholds = this.performanceConfig;\n    \n    // Check frame rate\n    if (this.performanceState.frameRate < thresholds.targetFrameRate) {\n      this.handlePerformanceThreshold('frameRate', this.performanceState.frameRate);\n    }\n    \n    // Check frame time\n    if (this.performanceState.frameTime > thresholds.maxFrameTime) {\n      this.handlePerformanceThreshold('frameTime', this.performanceState.frameTime);\n    }\n    \n    // Check memory usage\n    if (this.performanceState.memoryUsage > thresholds.memoryThreshold) {\n      this.handlePerformanceThreshold('memory', this.performanceState.memoryUsage);\n    }\n    \n    // Check CPU usage\n    if (this.performanceState.cpuUsage > thresholds.cpuThreshold) {\n      this.handlePerformanceThreshold('cpu', this.performanceState.cpuUsage);\n    }\n    \n    // Check render time\n    if (this.performanceState.renderTime > thresholds.renderThreshold) {\n      this.handlePerformanceThreshold('render', this.performanceState.renderTime);\n    }\n    \n    // Check update time\n    if (this.performanceState.updateTime > thresholds.updateThreshold) {\n      this.handlePerformanceThreshold('update', this.performanceState.updateTime);\n    }\n  }\n\n  /**\n   * Apply optimizations\n   */\n  applyOptimizations(deltaTime) {\n    if (!this.performanceConfig.optimizationEnabled) {\n      return;\n    }\n    \n    // Apply frame rate optimizations\n    this.applyFrameRateOptimizations();\n    \n    // Apply memory optimizations\n    this.applyMemoryOptimizations();\n    \n    // Apply rendering optimizations\n    this.applyRenderingOptimizations();\n    \n    // Apply asset optimizations\n    this.applyAssetOptimizations();\n  }\n\n  /**\n   * Apply frame rate optimizations\n   */\n  applyFrameRateOptimizations() {\n    if (this.performanceState.frameRate < this.performanceConfig.targetFrameRate) {\n      // Reduce quality\n      this.reduceQuality();\n      \n      // Enable culling\n      this.enableCulling();\n      \n      // Reduce effects\n      this.reduceEffects();\n    }\n  }\n\n  /**\n   * Apply memory optimizations\n   */\n  applyMemoryOptimizations() {\n    if (this.performanceState.memoryUsage > this.performanceConfig.memoryThreshold) {\n      // Trigger garbage collection\n      this.triggerGarbageCollection();\n      \n      // Clear unused assets\n      this.clearUnusedAssets();\n      \n      // Reduce object pools\n      this.reduceObjectPools();\n    }\n  }\n\n  /**\n   * Apply rendering optimizations\n   */\n  applyRenderingOptimizations() {\n    if (this.performanceState.renderTime > this.performanceConfig.renderThreshold) {\n      // Enable batching\n      this.enableBatching();\n      \n      // Enable instancing\n      this.enableInstancing();\n      \n      // Reduce draw calls\n      this.reduceDrawCalls();\n    }\n  }\n\n  /**\n   * Apply asset optimizations\n   */\n  applyAssetOptimizations() {\n    // Implement lazy loading\n    this.implementLazyLoading();\n    \n    // Compress assets\n    this.compressAssets();\n    \n    // Use texture atlases\n    this.useTextureAtlases();\n  }\n\n  /**\n   * Initialize resource pools\n   */\n  initializeResourcePools() {\n    const poolTypes = [\n      'gameObject',\n      'particle',\n      'sound',\n      'texture',\n      'mesh',\n      'shader',\n      'buffer',\n      'texture'\n    ];\n    \n    poolTypes.forEach(type => {\n      this.createResourcePool(type);\n    });\n  }\n\n  /**\n   * Create resource pool\n   */\n  createResourcePool(type) {\n    const pool = {\n      type: type,\n      objects: [],\n      maxSize: this.performanceConfig.resourcePoolSize,\n      activeCount: 0,\n      stats: {\n        created: 0,\n        destroyed: 0,\n        pooled: 0,\n        reused: 0\n      }\n    };\n    \n    this.performanceState.resourcePools.set(type, pool);\n    this.resourcePooler.pools.set(type, pool);\n    this.resourcePooler.poolStats.totalPools++;\n  }\n\n  /**\n   * Get object from pool\n   */\n  getObjectFromPool(type) {\n    const pool = this.performanceState.resourcePools.get(type);\n    if (!pool) {\n      return null;\n    }\n    \n    if (pool.objects.length > 0) {\n      const object = pool.objects.pop();\n      pool.activeCount++;\n      pool.stats.reused++;\n      return object;\n    } else {\n      const object = this.createObject(type);\n      pool.activeCount++;\n      pool.stats.created++;\n      return object;\n    }\n  }\n\n  /**\n   * Return object to pool\n   */\n  returnObjectToPool(type, object) {\n    const pool = this.performanceState.resourcePools.get(type);\n    if (!pool) {\n      return;\n    }\n    \n    if (pool.objects.length < pool.maxSize) {\n      this.resetObject(object);\n      pool.objects.push(object);\n      pool.activeCount--;\n      pool.stats.pooled++;\n    } else {\n      this.destroyObject(object);\n      pool.activeCount--;\n      pool.stats.destroyed++;\n    }\n  }\n\n  /**\n   * Create object\n   */\n  createObject(type) {\n    // This would create the appropriate object type\n    return { type, id: Date.now(), active: true };\n  }\n\n  /**\n   * Reset object\n   */\n  resetObject(object) {\n    // Reset object to initial state\n    object.active = false;\n    object.id = Date.now();\n  }\n\n  /**\n   * Destroy object\n   */\n  destroyObject(object) {\n    // Clean up object resources\n    object.active = false;\n  }\n\n  /**\n   * Set up asset cache\n   */\n  setupAssetCache() {\n    this.assetCache = {\n      maxSize: this.performanceConfig.assetCacheSize,\n      assets: new Map(),\n      accessTimes: new Map(),\n      sizes: new Map(),\n      stats: {\n        hits: 0,\n        misses: 0,\n        evictions: 0\n      }\n    };\n  }\n\n  /**\n   * Load asset\n   */\n  async loadAsset(url, type) {\n    // Check cache first\n    if (this.assetCache.assets.has(url)) {\n      this.assetCache.stats.hits++;\n      this.assetCache.accessTimes.set(url, Date.now());\n      return this.assetCache.assets.get(url);\n    }\n    \n    this.assetCache.stats.misses++;\n    \n    // Load asset\n    const asset = await this.loadAssetFromURL(url, type);\n    \n    // Add to cache\n    this.addAssetToCache(url, asset);\n    \n    return asset;\n  }\n\n  /**\n   * Load asset from URL\n   */\n  async loadAssetFromURL(url, type) {\n    const startTime = performance.now();\n    \n    try {\n      let asset;\n      \n      switch (type) {\n        case 'image':\n          asset = await this.loadImage(url);\n          break;\n        case 'audio':\n          asset = await this.loadAudio(url);\n          break;\n        case 'json':\n          asset = await this.loadJSON(url);\n          break;\n        case 'text':\n          asset = await this.loadText(url);\n          break;\n        default:\n          throw new Error(`Unknown asset type: ${type}`);\n      }\n      \n      const loadTime = performance.now() - startTime;\n      this.performanceState.assetLoadTime = loadTime;\n      \n      return asset;\n    } catch (error) {\n      this.logger.error(`Failed to load asset: ${url}`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Load image\n   */\n  async loadImage(url) {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = reject;\n      img.src = url;\n    });\n  }\n\n  /**\n   * Load audio\n   */\n  async loadAudio(url) {\n    return new Promise((resolve, reject) => {\n      const audio = new Audio();\n      audio.oncanplaythrough = () => resolve(audio);\n      audio.onerror = reject;\n      audio.src = url;\n    });\n  }\n\n  /**\n   * Load JSON\n   */\n  async loadJSON(url) {\n    const response = await fetch(url);\n    return await response.json();\n  }\n\n  /**\n   * Load text\n   */\n  async loadText(url) {\n    const response = await fetch(url);\n    return await response.text();\n  }\n\n  /**\n   * Add asset to cache\n   */\n  addAssetToCache(url, asset) {\n    // Check cache size\n    if (this.assetCache.assets.size >= this.assetCache.maxSize) {\n      this.evictOldestAsset();\n    }\n    \n    this.assetCache.assets.set(url, asset);\n    this.assetCache.accessTimes.set(url, Date.now());\n    this.assetCache.sizes.set(url, this.getAssetSize(asset));\n  }\n\n  /**\n   * Evict oldest asset\n   */\n  evictOldestAsset() {\n    let oldestUrl = null;\n    let oldestTime = Infinity;\n    \n    for (const [url, time] of this.assetCache.accessTimes) {\n      if (time < oldestTime) {\n        oldestTime = time;\n        oldestUrl = url;\n      }\n    }\n    \n    if (oldestUrl) {\n      this.assetCache.assets.delete(oldestUrl);\n      this.assetCache.accessTimes.delete(oldestUrl);\n      this.assetCache.sizes.delete(oldestUrl);\n      this.assetCache.stats.evictions++;\n    }\n  }\n\n  /**\n   * Get asset size\n   */\n  getAssetSize(asset) {\n    if (asset instanceof Image) {\n      return asset.width * asset.height * 4; // RGBA\n    } else if (asset instanceof Audio) {\n      return asset.duration * 44100 * 2; // 44.1kHz, 16-bit\n    } else if (typeof asset === 'string') {\n      return asset.length * 2; // UTF-16\n    } else if (typeof asset === 'object') {\n      return JSON.stringify(asset).length * 2;\n    }\n    \n    return 0;\n  }\n\n  /**\n   * Start optimization processes\n   */\n  startOptimizationProcesses() {\n    // Start garbage collection timer\n    this.gcTimer = setInterval(() => {\n      this.triggerGarbageCollection();\n    }, this.performanceConfig.garbageCollectionInterval);\n    \n    // Start asset cleanup timer\n    this.assetCleanupTimer = setInterval(() => {\n      this.cleanupUnusedAssets();\n    }, this.performanceConfig.monitoringInterval * 2);\n  }\n\n  /**\n   * Stop optimization processes\n   */\n  stopOptimizationProcesses() {\n    if (this.gcTimer) {\n      clearInterval(this.gcTimer);\n    }\n    \n    if (this.assetCleanupTimer) {\n      clearInterval(this.assetCleanupTimer);\n    }\n  }\n\n  /**\n   * Trigger garbage collection\n   */\n  triggerGarbageCollection() {\n    if (typeof gc === 'function') {\n      gc();\n    }\n    \n    this.logger.info('Garbage collection triggered');\n  }\n\n  /**\n   * Cleanup unused assets\n   */\n  cleanupUnusedAssets() {\n    const now = Date.now();\n    const maxAge = 300000; // 5 minutes\n    \n    for (const [url, time] of this.assetCache.accessTimes) {\n      if (now - time > maxAge) {\n        this.assetCache.assets.delete(url);\n        this.assetCache.accessTimes.delete(url);\n        this.assetCache.sizes.delete(url);\n      }\n    }\n  }\n\n  /**\n   * Update performance metrics\n   */\n  updatePerformanceMetrics(deltaTime) {\n    // Update frame rate\n    this.performanceState.frameRate = 1000 / deltaTime;\n    this.performanceState.frameTime = deltaTime;\n    \n    // Update memory usage\n    this.updateMemoryUsage();\n    \n    // Update CPU usage\n    this.updateCPUUsage();\n  }\n\n  /**\n   * Update resource pools\n   */\n  updateResourcePools(deltaTime) {\n    // Update pool statistics\n    this.resourcePooler.poolStats.totalObjects = 0;\n    this.resourcePooler.poolStats.activeObjects = 0;\n    this.resourcePooler.poolStats.pooledObjects = 0;\n    \n    for (const pool of this.performanceState.resourcePools.values()) {\n      this.resourcePooler.poolStats.totalObjects += pool.objects.length + pool.activeCount;\n      this.resourcePooler.poolStats.activeObjects += pool.activeCount;\n      this.resourcePooler.poolStats.pooledObjects += pool.objects.length;\n    }\n  }\n\n  /**\n   * Update asset cache\n   */\n  updateAssetCache(deltaTime) {\n    // Update cache statistics\n    this.assetManager.assetStats.totalLoaded = this.assetCache.assets.size;\n    this.assetManager.assetStats.totalSize = Array.from(this.assetCache.sizes.values()).reduce((sum, size) => sum + size, 0);\n  }\n\n  /**\n   * Process render queue\n   */\n  processRenderQueue() {\n    // Process rendering queue\n    this.performanceState.renderQueue.forEach(object => {\n      this.renderObject(object);\n    });\n  }\n\n  /**\n   * Process update queue\n   */\n  processUpdateQueue() {\n    // Process update queue\n    this.performanceState.updateQueue.forEach(object => {\n      this.updateObject(object);\n    });\n  }\n\n  /**\n   * Render object\n   */\n  renderObject(object) {\n    // Render object\n  }\n\n  /**\n   * Update object\n   */\n  updateObject(object) {\n    // Update object\n  }\n\n  /**\n   * Check memory leaks\n   */\n  checkMemoryLeaks() {\n    // Check for memory leaks\n  }\n\n  /**\n   * Update memory statistics\n   */\n  updateMemoryStatistics() {\n    // Update memory statistics\n  }\n\n  /**\n   * Reduce quality\n   */\n  reduceQuality() {\n    this.logger.info('Reducing quality for performance');\n  }\n\n  /**\n   * Enable culling\n   */\n  enableCulling() {\n    this.renderingOptimizer.cullingEnabled = true;\n  }\n\n  /**\n   * Reduce effects\n   */\n  reduceEffects() {\n    this.logger.info('Reducing effects for performance');\n  }\n\n  /**\n   * Enable batching\n   */\n  enableBatching() {\n    this.renderingOptimizer.batching = true;\n  }\n\n  /**\n   * Enable instancing\n   */\n  enableInstancing() {\n    this.renderingOptimizer.instancing = true;\n  }\n\n  /**\n   * Reduce draw calls\n   */\n  reduceDrawCalls() {\n    this.logger.info('Reducing draw calls for performance');\n  }\n\n  /**\n   * Implement lazy loading\n   */\n  implementLazyLoading() {\n    this.assetManager.lazyLoading = true;\n  }\n\n  /**\n   * Compress assets\n   */\n  compressAssets() {\n    this.assetManager.compressionEnabled = true;\n  }\n\n  /**\n   * Use texture atlases\n   */\n  useTextureAtlases() {\n    this.renderingOptimizer.textureAtlas = true;\n  }\n\n  /**\n   * Clear unused assets\n   */\n  clearUnusedAssets() {\n    this.cleanupUnusedAssets();\n  }\n\n  /**\n   * Reduce object pools\n   */\n  reduceObjectPools() {\n    // Reduce pool sizes\n    for (const pool of this.performanceState.resourcePools.values()) {\n      if (pool.objects.length > pool.maxSize / 2) {\n        pool.objects = pool.objects.slice(0, pool.maxSize / 2);\n      }\n    }\n  }\n\n  /**\n   * Handle performance metric\n   */\n  handlePerformanceMetric(data) {\n    const { metric, value } = data;\n    this.performanceState.metrics.set(metric, value);\n  }\n\n  /**\n   * Handle performance threshold\n   */\n  handlePerformanceThreshold(threshold, value) {\n    this.logger.warn(`Performance threshold exceeded: ${threshold} (${value})`);\n    \n    this.eventBus.emit('performance:thresholdExceeded', {\n      threshold,\n      value,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle performance optimize\n   */\n  handlePerformanceOptimize(data) {\n    const { optimization, level } = data;\n    this.performanceState.optimizations.set(optimization, level);\n  }\n\n  /**\n   * Handle memory allocate\n   */\n  handleMemoryAllocate(data) {\n    const { object, size } = data;\n    this.memoryManager.allocatedObjects.set(object, size);\n    this.memoryManager.memoryStats.totalAllocated += size;\n    this.memoryManager.memoryStats.currentUsage += size;\n  }\n\n  /**\n   * Handle memory free\n   */\n  handleMemoryFree(data) {\n    const { object } = data;\n    const size = this.memoryManager.allocatedObjects.get(object);\n    if (size) {\n      this.memoryManager.allocatedObjects.delete(object);\n      this.memoryManager.memoryStats.totalFreed += size;\n      this.memoryManager.memoryStats.currentUsage -= size;\n    }\n  }\n\n  /**\n   * Handle memory leak\n   */\n  handleMemoryLeak(data) {\n    const { object, size } = data;\n    this.memoryManager.memoryLeaks.set(object, size);\n    this.logger.warn(`Memory leak detected: ${object} (${size} bytes)`);\n  }\n\n  /**\n   * Handle render object\n   */\n  handleRenderObject(data) {\n    const { object } = data;\n    this.performanceState.renderQueue.push(object);\n  }\n\n  /**\n   * Handle render batch\n   */\n  handleRenderBatch(data) {\n    const { objects } = data;\n    this.performanceState.renderQueue.push(...objects);\n  }\n\n  /**\n   * Handle render cull\n   */\n  handleRenderCull(data) {\n    const { objects } = data;\n    this.renderingOptimizer.culledObjects.push(...objects);\n  }\n\n  /**\n   * Handle asset load\n   */\n  handleAssetLoad(data) {\n    const { url, asset } = data;\n    this.assetManager.loadedAssets.set(url, asset);\n    this.assetManager.assetStats.totalLoaded++;\n  }\n\n  /**\n   * Handle asset unload\n   */\n  handleAssetUnload(data) {\n    const { url } = data;\n    this.assetManager.loadedAssets.delete(url);\n    this.assetManager.assetStats.totalLoaded--;\n  }\n\n  /**\n   * Handle asset cache\n   */\n  handleAssetCache(data) {\n    const { url, asset } = data;\n    this.addAssetToCache(url, asset);\n  }\n\n  /**\n   * Handle resource create\n   */\n  handleResourceCreate(data) {\n    const { type, object } = data;\n    this.getObjectFromPool(type);\n  }\n\n  /**\n   * Handle resource destroy\n   */\n  handleResourceDestroy(data) {\n    const { type, object } = data;\n    this.returnObjectToPool(type, object);\n  }\n\n  /**\n   * Handle resource pool\n   */\n  handleResourcePool(data) {\n    const { type, objects } = data;\n    const pool = this.performanceState.resourcePools.get(type);\n    if (pool) {\n      pool.objects.push(...objects);\n    }\n  }\n\n  /**\n   * Clear resource pools\n   */\n  clearResourcePools() {\n    for (const pool of this.performanceState.resourcePools.values()) {\n      pool.objects = [];\n      pool.activeCount = 0;\n    }\n  }\n\n  /**\n   * Clear asset cache\n   */\n  clearAssetCache() {\n    this.assetCache.assets.clear();\n    this.assetCache.accessTimes.clear();\n    this.assetCache.sizes.clear();\n  }\n\n  /**\n   * Get performance metrics\n   */\n  getPerformanceMetrics() {\n    return {\n      current: this.performanceState,\n      monitor: this.performanceMonitor.metrics,\n      thresholds: this.performanceConfig\n    };\n  }\n\n  /**\n   * Get memory statistics\n   */\n  getMemoryStatistics() {\n    return {\n      current: this.memoryManager.memoryStats,\n      allocated: this.memoryManager.allocatedObjects.size,\n      leaks: this.memoryManager.memoryLeaks.size\n    };\n  }\n\n  /**\n   * Get asset statistics\n   */\n  getAssetStatistics() {\n    return {\n      current: this.assetManager.assetStats,\n      cache: this.assetCache.stats,\n      loaded: this.assetManager.loadedAssets.size\n    };\n  }\n\n  /**\n   * Get resource pool statistics\n   */\n  getResourcePoolStatistics() {\n    return {\n      current: this.resourcePooler.poolStats,\n      pools: Array.from(this.performanceState.resourcePools.values())\n    };\n  }\n\n  /**\n   * Set performance level\n   */\n  setPerformanceLevel(level) {\n    this.performanceState.performanceLevel = level;\n    \n    const settings = this.performanceConfig.optimizationLevels[level];\n    if (settings) {\n      this.applyPerformanceSettings(settings);\n    }\n  }\n\n  /**\n   * Apply performance settings\n   */\n  applyPerformanceSettings(settings) {\n    // Apply performance settings\n    this.logger.info(`Applied performance settings: ${JSON.stringify(settings)}`);\n  }\n\n  /**\n   * Enable optimization\n   */\n  enableOptimization() {\n    this.performanceState.optimizationEnabled = true;\n  }\n\n  /**\n   * Disable optimization\n   */\n  disableOptimization() {\n    this.performanceState.optimizationEnabled = false;\n  }\n\n  /**\n   * Enable monitoring\n   */\n  enableMonitoring() {\n    this.performanceState.monitoringEnabled = true;\n    this.startPerformanceMonitoring();\n  }\n\n  /**\n   * Disable monitoring\n   */\n  disableMonitoring() {\n    this.performanceState.monitoringEnabled = false;\n    this.stopPerformanceMonitoring();\n  }\n\n  /**\n   * Enable profiling\n   */\n  enableProfiling() {\n    this.performanceState.profilingEnabled = true;\n    this.startProfiling();\n  }\n\n  /**\n   * Disable profiling\n   */\n  disableProfiling() {\n    this.performanceState.profilingEnabled = false;\n    this.stopProfiling();\n  }\n}\n\nexport default PerformanceOptimizationSystem;", "/**\n * ARPGIntegration.js - Complete ARPG System Integration\n *\n * This file integrates all ARPG systems and provides a unified interface:\n * - ARPG UI System with skill trees and character management\n * - Enhanced combat system with hordes and fluid movement\n * - Procedural area generation and exploration\n * - Advanced itemization with random modifiers\n * - Endgame content with replayable maps and PvP\n * - Player-driven economy with trading\n * - Comprehensive error handling and validation\n * - Mobile optimization and touch controls\n * - Performance optimization and monitoring\n */\n\nimport { ARPGUISystem } from './systems/ARPGUISystem.js';\nimport { CombatSystem } from './systems/CombatSystem.js';\nimport { ProceduralAreaSystem } from './systems/ProceduralAreaSystem.js';\nimport { ItemizationSystem } from './systems/ItemizationSystem.js';\nimport { EndgameSystem } from './systems/EndgameSystem.js';\nimport { TradingSystem } from './systems/TradingSystem.js';\nimport { ErrorHandlingSystem } from './systems/ErrorHandlingSystem.js';\nimport { MobileOptimizationSystem } from './systems/MobileOptimizationSystem.js';\nimport { PerformanceOptimizationSystem } from './systems/PerformanceOptimizationSystem.js';\nimport { EventBus } from './core/EventBus.js';\nimport { Logger } from './utils/Logger.js';\n\nexport class ARPGIntegration {\n  constructor(config = {}) {\n    // Validate and normalize config\n    this.config = this.validateConfig({\n      debug: false,\n      enableARPG: true,\n      enableCombat: true,\n      enableProcedural: true,\n      enableItemization: true,\n      enableEndgame: true,\n      enableTrading: true,\n      enableErrorHandling: true,\n      enableMobile: true,\n      enablePerformance: true,\n      ...config,\n    });\n\n    // Core systems\n    this.eventBus = new EventBus();\n    this.logger = new Logger(this.config.debug);\n\n    // ARPG systems\n    this.systems = {};\n    this.initializeSystems();\n\n    // Game state\n    this.gameState = {\n      isRunning: false,\n      isPaused: false,\n      currentArea: null,\n      player: null,\n      enemies: [],\n      items: [],\n      activeTrades: [],\n      performanceMetrics: {},\n      mobileState: {},\n      errorCount: 0,\n    };\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('ARPGIntegration initialized');\n  }\n\n  /**\n   * Initialize all ARPG systems\n   */\n  initializeSystems() {\n    const dependencies = {\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    };\n\n    // Initialize systems based on configuration\n    if (this.config.enableErrorHandling) {\n      this.systems.errorHandling = new ErrorHandlingSystem(dependencies);\n    }\n\n    if (this.config.enablePerformance) {\n      this.systems.performance = new PerformanceOptimizationSystem(dependencies);\n    }\n\n    if (this.config.enableMobile) {\n      this.systems.mobile = new MobileOptimizationSystem(dependencies);\n    }\n\n    if (this.config.enableARPG) {\n      this.systems.arpgUI = new ARPGUISystem(dependencies);\n    }\n\n    if (this.config.enableCombat) {\n      this.systems.combat = new CombatSystem(dependencies);\n    }\n\n    if (this.config.enableProcedural) {\n      this.systems.procedural = new ProceduralAreaSystem(dependencies);\n    }\n\n    if (this.config.enableItemization) {\n      this.systems.itemization = new ItemizationSystem(dependencies);\n    }\n\n    if (this.config.enableEndgame) {\n      this.systems.endgame = new EndgameSystem(dependencies);\n    }\n\n    if (this.config.enableTrading) {\n      this.systems.trading = new TradingSystem(dependencies);\n    }\n  }\n\n  /**\n   * Validate configuration\n   */\n  validateConfig(config) {\n    const validatedConfig = { ...config };\n\n    // Validate boolean values\n    Object.keys(validatedConfig).forEach(key => {\n      if (typeof validatedConfig[key] === 'boolean') {\n        validatedConfig[key] = Boolean(validatedConfig[key]);\n      }\n    });\n\n    return validatedConfig;\n  }\n\n  /**\n   * Initialize the ARPG integration\n   */\n  async initialize() {\n    this.logger.info('Initializing ARPG Integration...');\n\n    try {\n      // Initialize systems in order\n      const initOrder = [\n        'errorHandling',\n        'performance',\n        'mobile',\n        'arpgUI',\n        'combat',\n        'procedural',\n        'itemization',\n        'endgame',\n        'trading'\n      ];\n\n      for (const systemName of initOrder) {\n        if (this.systems[systemName]) {\n          await this.systems[systemName].initialize();\n          this.logger.info(`${systemName} system initialized`);\n        }\n      }\n\n      // Set up cross-system communication\n      this.setupCrossSystemCommunication();\n\n      this.logger.info('ARPG Integration initialized successfully');\n    } catch (error) {\n      this.logger.error('Failed to initialize ARPG Integration:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Set up cross-system communication\n   */\n  setupCrossSystemCommunication() {\n    // Combat and UI integration\n    if (this.systems.combat && this.systems.arpgUI) {\n      this.eventBus.on('combat:enemyDefeated', (data) => {\n        this.systems.arpgUI.handleEnemyDefeated(data);\n      });\n\n      this.eventBus.on('combat:playerDamaged', (data) => {\n        this.systems.arpgUI.handlePlayerDamaged(data);\n      });\n    }\n\n    // Itemization and UI integration\n    if (this.systems.itemization && this.systems.arpgUI) {\n      this.eventBus.on('item:generated', (data) => {\n        this.systems.arpgUI.handleItemGenerated(data);\n      });\n\n      this.eventBus.on('item:equipped', (data) => {\n        this.systems.arpgUI.handleItemEquipped(data);\n      });\n    }\n\n    // Trading and UI integration\n    if (this.systems.trading && this.systems.arpgUI) {\n      this.eventBus.on('trade:initiated', (data) => {\n        this.systems.arpgUI.handleTradeInitiated(data);\n      });\n\n      this.eventBus.on('trade:completed', (data) => {\n        this.systems.arpgUI.handleTradeCompleted(data);\n      });\n    }\n\n    // Procedural areas and combat integration\n    if (this.systems.procedural && this.systems.combat) {\n      this.eventBus.on('area:generated', (data) => {\n        this.systems.combat.handleAreaGenerated(data);\n      });\n\n      this.eventBus.on('area:explored', (data) => {\n        this.systems.combat.handleAreaExplored(data);\n      });\n    }\n\n    // Endgame and combat integration\n    if (this.systems.endgame && this.systems.combat) {\n      this.eventBus.on('boss:spawned', (data) => {\n        this.systems.combat.handleBossSpawned(data);\n      });\n\n      this.eventBus.on('boss:defeated', (data) => {\n        this.systems.combat.handleBossDefeated(data);\n      });\n    }\n\n    // Performance and all systems integration\n    if (this.systems.performance) {\n      this.eventBus.on('performance:thresholdExceeded', (data) => {\n        this.handlePerformanceThresholdExceeded(data);\n      });\n    }\n\n    // Error handling and all systems integration\n    if (this.systems.errorHandling) {\n      this.eventBus.on('error:occurred', (data) => {\n        this.handleSystemError(data);\n      });\n    }\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Game state events\n    this.eventBus.on('game:start', this.startGame.bind(this));\n    this.eventBus.on('game:pause', this.pauseGame.bind(this));\n    this.eventBus.on('game:resume', this.resumeGame.bind(this));\n    this.eventBus.on('game:stop', this.stopGame.bind(this));\n\n    // Player events\n    this.eventBus.on('player:created', this.handlePlayerCreated.bind(this));\n    this.eventBus.on('player:levelUp', this.handlePlayerLevelUp.bind(this));\n    this.eventBus.on('player:death', this.handlePlayerDeath.bind(this));\n\n    // System events\n    this.eventBus.on('system:error', this.handleSystemError.bind(this));\n    this.eventBus.on('system:performance', this.handleSystemPerformance.bind(this));\n  }\n\n  /**\n   * Start the game\n   */\n  async startGame() {\n    if (this.gameState.isRunning) {\n      this.logger.warn('Game is already running');\n      return;\n    }\n\n    try {\n      this.logger.info('Starting ARPG game...');\n\n      // Initialize game state\n      this.gameState.isRunning = true;\n      this.gameState.isPaused = false;\n      this.gameState.startTime = Date.now();\n\n      // Start all systems\n      for (const [name, system] of Object.entries(this.systems)) {\n        if (system.start) {\n          await system.start();\n        }\n      }\n\n      // Start game loop\n      this.startGameLoop();\n\n      this.eventBus.emit('game:started', {\n        timestamp: this.gameState.startTime,\n        systems: Object.keys(this.systems),\n      });\n\n      this.logger.info('ARPG game started successfully');\n    } catch (error) {\n      this.logger.error('Failed to start ARPG game:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Pause the game\n   */\n  pauseGame() {\n    if (!this.gameState.isRunning || this.gameState.isPaused) {\n      return;\n    }\n\n    this.gameState.isPaused = true;\n\n    // Pause all systems\n    for (const [name, system] of Object.entries(this.systems)) {\n      if (system.pause) {\n        system.pause();\n      }\n    }\n\n    this.eventBus.emit('game:paused', {\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('ARPG game paused');\n  }\n\n  /**\n   * Resume the game\n   */\n  resumeGame() {\n    if (!this.gameState.isRunning || !this.gameState.isPaused) {\n      return;\n    }\n\n    this.gameState.isPaused = false;\n\n    // Resume all systems\n    for (const [name, system] of Object.entries(this.systems)) {\n      if (system.resume) {\n        system.resume();\n      }\n    }\n\n    this.eventBus.emit('game:resumed', {\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('ARPG game resumed');\n  }\n\n  /**\n   * Stop the game\n   */\n  stopGame() {\n    if (!this.gameState.isRunning) {\n      return;\n    }\n\n    this.gameState.isRunning = false;\n    this.gameState.isPaused = false;\n\n    // Stop all systems\n    for (const [name, system] of Object.entries(this.systems)) {\n      if (system.stop) {\n        system.stop();\n      }\n    }\n\n    // Stop game loop\n    this.stopGameLoop();\n\n    this.eventBus.emit('game:stopped', {\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('ARPG game stopped');\n  }\n\n  /**\n   * Start game loop\n   */\n  startGameLoop() {\n    this.gameLoopId = requestAnimationFrame(this.gameLoop.bind(this));\n  }\n\n  /**\n   * Stop game loop\n   */\n  stopGameLoop() {\n    if (this.gameLoopId) {\n      cancelAnimationFrame(this.gameLoopId);\n      this.gameLoopId = null;\n    }\n  }\n\n  /**\n   * Main game loop\n   */\n  gameLoop(currentTime) {\n    if (!this.gameState.isRunning || this.gameState.isPaused) {\n      return;\n    }\n\n    const deltaTime = currentTime - (this.lastUpdateTime || currentTime);\n    this.lastUpdateTime = currentTime;\n\n    try {\n      // Update all systems\n      for (const [name, system] of Object.entries(this.systems)) {\n        if (system.update) {\n          system.update(deltaTime, this.gameState);\n        }\n      }\n\n      // Update game state\n      this.updateGameState(deltaTime);\n\n      // Continue game loop\n      this.gameLoopId = requestAnimationFrame(this.gameLoop.bind(this));\n    } catch (error) {\n      this.logger.error('Error in game loop:', error);\n      this.handleSystemError({ error, context: 'gameLoop' });\n    }\n  }\n\n  /**\n   * Update game state\n   */\n  updateGameState(deltaTime) {\n    // Update performance metrics\n    if (this.systems.performance) {\n      this.gameState.performanceMetrics = this.systems.performance.getPerformanceMetrics();\n    }\n\n    // Update mobile state\n    if (this.systems.mobile) {\n      this.gameState.mobileState = this.systems.mobile.getMobileState();\n    }\n\n    // Update error count\n    if (this.systems.errorHandling) {\n      const errorStats = this.systems.errorHandling.getErrorStatistics();\n      this.gameState.errorCount = errorStats.totalErrors;\n    }\n  }\n\n  /**\n   * Handle player created\n   */\n  handlePlayerCreated(data) {\n    this.gameState.player = data.player;\n    this.logger.info(`Player created: ${data.player.name}`);\n  }\n\n  /**\n   * Handle player level up\n   */\n  handlePlayerLevelUp(data) {\n    this.logger.info(`Player leveled up to level ${data.level}`);\n    \n    // Notify ARPG UI system\n    if (this.systems.arpgUI) {\n      this.systems.arpgUI.handlePlayerLevelUp(data);\n    }\n  }\n\n  /**\n   * Handle player death\n   */\n  handlePlayerDeath(data) {\n    this.logger.info('Player died');\n    \n    // Notify all systems\n    for (const [name, system] of Object.entries(this.systems)) {\n      if (system.handlePlayerDeath) {\n        system.handlePlayerDeath(data);\n      }\n    }\n  }\n\n  /**\n   * Handle system error\n   */\n  handleSystemError(data) {\n    this.logger.error('System error occurred:', data.error);\n    \n    // Notify error handling system\n    if (this.systems.errorHandling) {\n      this.systems.errorHandling.handleError(data);\n    }\n  }\n\n  /**\n   * Handle system performance\n   */\n  handleSystemPerformance(data) {\n    // Update performance metrics\n    if (this.systems.performance) {\n      this.systems.performance.handlePerformanceMetric(data);\n    }\n  }\n\n  /**\n   * Handle performance threshold exceeded\n   */\n  handlePerformanceThresholdExceeded(data) {\n    this.logger.warn(`Performance threshold exceeded: ${data.threshold}`);\n    \n    // Apply performance optimizations\n    if (this.systems.performance) {\n      this.systems.performance.handlePerformanceThreshold(data);\n    }\n  }\n\n  /**\n   * Get system by name\n   */\n  getSystem(name) {\n    return this.systems[name];\n  }\n\n  /**\n   * Get game state\n   */\n  getGameState() {\n    return { ...this.gameState };\n  }\n\n  /**\n   * Get all systems\n   */\n  getAllSystems() {\n    return { ...this.systems };\n  }\n\n  /**\n   * Get system status\n   */\n  getSystemStatus() {\n    const status = {};\n    \n    for (const [name, system] of Object.entries(this.systems)) {\n      status[name] = {\n        initialized: !!system,\n        running: system && system.isRunning ? system.isRunning() : false,\n        errorCount: system && system.getErrorCount ? system.getErrorCount() : 0,\n        performance: system && system.getPerformanceMetrics ? system.getPerformanceMetrics() : null\n      };\n    }\n    \n    return status;\n  }\n\n  /**\n   * Cleanup and destroy\n   */\n  destroy() {\n    this.logger.info('Destroying ARPG Integration...');\n\n    // Stop game\n    this.stopGame();\n\n    // Cleanup all systems\n    for (const [name, system] of Object.entries(this.systems)) {\n      if (system.cleanup) {\n        system.cleanup();\n      }\n    }\n\n    // Clear state\n    this.systems = {};\n    this.gameState = null;\n\n    // Clear event bus\n    this.eventBus.removeAllListeners();\n\n    this.logger.info('ARPG Integration destroyed');\n  }\n}\n\nexport default ARPGIntegration;"],
  "mappings": "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",
  "names": []
}
