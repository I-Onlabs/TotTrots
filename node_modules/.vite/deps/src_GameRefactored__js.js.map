{
  "version": 3,
  "sources": ["../../../src/managers/GameManager.js", "../../../src/managers/AchievementManager.js", "../../../src/managers/DailyChallengeManager.js", "../../../src/managers/AccessibilityManager.js", "../../../src/core/PerformanceMonitor.js", "../../../src/core/InputManager.js", "../../../src/utils/MobileTesting.js", "../../../src/ui/SettingsUI.js", "../../../src/systems/AudioSystem.js", "../../../src/GameRefactored.js"],
  "sourcesContent": ["/**\n * GameManager.js - Core game management with explicit lifecycle and dependency injection\n *\n * This manager handles:\n * - Game state management\n * - Level progression\n * - Score management\n * - Player management\n * - Game object lifecycle\n */\n\nexport class GameManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('GameManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('GameManager requires logger dependency');\n    }\n\n    // Game state\n    this.state = {\n      currentLevel: 1,\n      maxLevel: 10,\n      score: 0,\n      highScore: 0,\n      lives: 3,\n      levelStartTime: null,\n      levelCompleted: false,\n      gameOver: false,\n    };\n\n    // Level configuration\n    this.levelConfigs = this.initializeLevelConfigs();\n\n    // Event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('GameManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing GameManager...');\n\n    // Load saved game data\n    await this.loadGameData();\n\n    // Set up level\n    this.setupLevel(this.state.currentLevel);\n\n    this.logger.info('GameManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up GameManager...');\n\n    // Save game data\n    this.saveGameData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('GameManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Update level timer\n    if (this.state.levelStartTime && !this.state.levelCompleted) {\n      const levelTime = Date.now() - this.state.levelStartTime;\n\n      // Check for level timeout\n      const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n      if (levelConfig.timeLimit && levelTime > levelConfig.timeLimit) {\n        this.handleLevelTimeout();\n      }\n    }\n\n    // Update game objects based on level\n    this.updateLevelSpecificLogic(deltaTime, gameState);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Player events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Game events\n    this.eventBus.on('game:input', this.handleGameInput.bind(this));\n    this.eventBus.on('game:configChanged', this.handleConfigChange.bind(this));\n\n    // Achievement events\n    this.eventBus.on(\n      'achievement:unlocked',\n      this.handleAchievementUnlock.bind(this)\n    );\n    this.eventBus.on(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompletion.bind(this)\n    );\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.off(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.off(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n    this.eventBus.off(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.off(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.off('game:input', this.handleGameInput.bind(this));\n    this.eventBus.removeListener(\n      'game:configChanged',\n      this.handleConfigChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'achievement:unlocked',\n      this.handleAchievementUnlock.bind(this)\n    );\n    this.eventBus.removeListener(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompletion.bind(this)\n    );\n  }\n\n  /**\n   * Initialize level configurations\n   */\n  initializeLevelConfigs() {\n    return [\n      { timeLimit: 60000, targetScore: 1000, difficulty: 'easy' },\n      { timeLimit: 90000, targetScore: 2500, difficulty: 'easy' },\n      { timeLimit: 120000, targetScore: 5000, difficulty: 'medium' },\n      { timeLimit: 150000, targetScore: 7500, difficulty: 'medium' },\n      { timeLimit: 180000, targetScore: 10000, difficulty: 'hard' },\n      { timeLimit: 200000, targetScore: 15000, difficulty: 'hard' },\n      { timeLimit: 220000, targetScore: 20000, difficulty: 'expert' },\n      { timeLimit: 240000, targetScore: 25000, difficulty: 'expert' },\n      { timeLimit: 260000, targetScore: 30000, difficulty: 'master' },\n      { timeLimit: 300000, targetScore: 40000, difficulty: 'master' },\n    ];\n  }\n\n  /**\n   * Set up a level\n   */\n  setupLevel(levelNumber) {\n    this.state.currentLevel = levelNumber;\n    this.state.levelStartTime = Date.now();\n    this.state.levelCompleted = false;\n    this.state.gameOver = false;\n\n    const levelConfig = this.levelConfigs[levelNumber - 1];\n    if (!levelConfig) {\n      this.logger.error(`Invalid level number: ${levelNumber}`);\n      return;\n    }\n\n    this.logger.info(\n      `Setting up level ${levelNumber} (${levelConfig.difficulty})`\n    );\n\n    // Emit level start event\n    this.eventBus.emit('level:started', {\n      level: levelNumber,\n      config: levelConfig,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    this.state.score += data.scoreChange || 0;\n\n    // Update high score\n    if (this.state.score > this.state.highScore) {\n      this.state.highScore = this.state.score;\n    }\n\n    // Check level completion based on score\n    const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n    if (\n      levelConfig &&\n      this.state.score >= levelConfig.targetScore &&\n      !this.state.levelCompleted\n    ) {\n      this.completeLevel();\n    }\n\n    this.eventBus.emit('game:scoreUpdated', {\n      score: this.state.score,\n      highScore: this.state.highScore,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.state.lives -= data.damage || 1;\n\n    if (this.state.lives <= 0) {\n      this.gameOver();\n    } else {\n      this.eventBus.emit('game:livesUpdated', {\n        lives: this.state.lives,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    const scoreValue = data.scoreValue || 0;\n    this.handleScoreChange({ scoreChange: scoreValue });\n\n    this.logger.info(`Item collected: ${data.itemType}, +${scoreValue} points`);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.completeLevel();\n  }\n\n  /**\n   * Complete the current level\n   */\n  completeLevel() {\n    if (this.state.levelCompleted) {\n      return;\n    }\n\n    this.state.levelCompleted = true;\n    const levelTime = Date.now() - this.state.levelStartTime;\n\n    this.logger.info(\n      `Level ${this.state.currentLevel} completed in ${levelTime}ms`\n    );\n\n    // Emit level completion event\n    this.eventBus.emit('level:completed', {\n      level: this.state.currentLevel,\n      score: this.state.score,\n      time: levelTime,\n      timestamp: Date.now(),\n    });\n\n    // Check if game is complete\n    if (this.state.currentLevel >= this.state.maxLevel) {\n      this.completeGame();\n    } else {\n      // Advance to next level after delay\n      setTimeout(() => {\n        this.setupLevel(this.state.currentLevel + 1);\n      }, 2000);\n    }\n  }\n\n  /**\n   * Handle level timeout\n   */\n  handleLevelTimeout() {\n    this.logger.info(`Level ${this.state.currentLevel} timed out`);\n\n    this.eventBus.emit('level:timeout', {\n      level: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n\n    // Lose a life and restart level\n    this.handlePlayerDamaged({ damage: 1 });\n    if (!this.state.gameOver) {\n      this.setupLevel(this.state.currentLevel);\n    }\n  }\n\n  /**\n   * Complete the entire game\n   */\n  completeGame() {\n    this.logger.info('Game completed!');\n\n    this.eventBus.emit('game:completed', {\n      finalScore: this.state.score,\n      finalLevel: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle game over\n   */\n  gameOver() {\n    this.state.gameOver = true;\n\n    this.logger.info('Game Over');\n\n    this.eventBus.emit('game:gameOver', {\n      finalScore: this.state.score,\n      finalLevel: this.state.currentLevel,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle game input\n   */\n  handleGameInput(data) {\n    // Handle specific game inputs\n    switch (data.type) {\n      case 'restart':\n        this.restartGame();\n        break;\n      case 'nextLevel':\n        if (this.state.levelCompleted) {\n          this.setupLevel(this.state.currentLevel + 1);\n        }\n        break;\n      case 'pause':\n        this.eventBus.emit('game:pauseRequested', { timestamp: Date.now() });\n        break;\n    }\n  }\n\n  /**\n   * Handle config changes\n   */\n  handleConfigChange(data) {\n    this.config = { ...this.config, ...data.config };\n    this.logger.info('GameManager config updated');\n  }\n\n  /**\n   * Handle achievement unlock\n   */\n  handleAchievementUnlock(data) {\n    // Award bonus points for achievements\n    const bonusScore = data.bonusScore || 0;\n    if (bonusScore > 0) {\n      this.handleScoreChange({ scoreChange: bonusScore });\n    }\n\n    // Apply achievement effects\n    if (data.effects) {\n      this.applyAchievementEffects(data.effects);\n    }\n  }\n\n  /**\n   * Handle daily challenge completion\n   */\n  handleDailyChallengeCompletion(data) {\n    // Award bonus points for daily challenges\n    const bonusScore = data.bonusScore || 0;\n    if (bonusScore > 0) {\n      this.handleScoreChange({ scoreChange: bonusScore });\n    }\n\n    // Apply challenge effects\n    if (data.effects) {\n      this.applyChallengeEffects(data.effects);\n    }\n  }\n\n  /**\n   * Apply achievement effects\n   */\n  applyAchievementEffects(effects) {\n    if (effects.extraLives) {\n      this.state.lives += effects.extraLives;\n    }\n    if (effects.scoreMultiplier) {\n      // Apply score multiplier for a limited time\n      this.temporaryScoreMultiplier = effects.scoreMultiplier;\n      setTimeout(() => {\n        this.temporaryScoreMultiplier = 1;\n      }, effects.duration || 30000);\n    }\n  }\n\n  /**\n   * Apply challenge effects\n   */\n  applyChallengeEffects(effects) {\n    if (effects.temporaryPowerUp) {\n      this.eventBus.emit('game:powerUpActivated', {\n        type: effects.temporaryPowerUp,\n        duration: effects.duration || 30000,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Restart the game\n   */\n  restartGame() {\n    this.state = {\n      currentLevel: 1,\n      maxLevel: 10,\n      score: 0,\n      highScore: this.state.highScore, // Keep high score\n      lives: 3,\n      levelStartTime: null,\n      levelCompleted: false,\n      gameOver: false,\n    };\n\n    this.setupLevel(1);\n\n    this.eventBus.emit('game:restarted', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Update level-specific logic\n   */\n  updateLevelSpecificLogic(deltaTime, gameState) {\n    const levelConfig = this.levelConfigs[this.state.currentLevel - 1];\n    if (!levelConfig) return;\n\n    // Level-specific behaviors based on difficulty\n    switch (levelConfig.difficulty) {\n      case 'easy':\n        // Slower enemy spawn rates, easier patterns\n        break;\n      case 'medium':\n        // Moderate difficulty\n        break;\n      case 'hard':\n        // Faster spawn rates, complex patterns\n        break;\n      case 'expert':\n        // Very challenging\n        break;\n      case 'master':\n        // Maximum difficulty\n        break;\n    }\n  }\n\n  /**\n   * Load game data from storage\n   */\n  async loadGameData() {\n    try {\n      const savedData = localStorage.getItem('gameData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n        this.state.highScore = data.highScore || 0;\n        this.logger.info('Game data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load game data:', error);\n    }\n  }\n\n  /**\n   * Save game data to storage\n   */\n  saveGameData() {\n    try {\n      const data = {\n        highScore: this.state.highScore,\n        lastPlayed: Date.now(),\n      };\n      localStorage.setItem('gameData', JSON.stringify(data));\n      this.logger.info('Game data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save game data:', error);\n    }\n  }\n\n  /**\n   * Get current game state\n   */\n  getState() {\n    return { ...this.state };\n  }\n\n  /**\n   * Get level configuration\n   */\n  getLevelConfig(levelNumber) {\n    return this.levelConfigs[levelNumber - 1];\n  }\n\n  /**\n   * Set level configuration\n   */\n  setLevelConfig(levelNumber, config) {\n    if (levelNumber >= 1 && levelNumber <= this.levelConfigs.length) {\n      this.levelConfigs[levelNumber - 1] = {\n        ...this.levelConfigs[levelNumber - 1],\n        ...config,\n      };\n    }\n  }\n}\n\nexport default GameManager;\n", "/**\n * AchievementManager.js - Achievement system with gameplay integration\n *\n * This manager handles:\n * - Achievement definitions and tracking\n * - Progress monitoring\n * - Achievement unlocking\n * - Integration with gameplay events\n */\n\nexport class AchievementManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('AchievementManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('AchievementManager requires logger dependency');\n    }\n\n    // Achievement state\n    this.achievements = new Map();\n    this.unlockedAchievements = new Set();\n    this.progress = new Map();\n\n    // Initialize achievements\n    this.initializeAchievements();\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('AchievementManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing AchievementManager...');\n\n    // Load saved achievement data\n    await this.loadAchievementData();\n\n    this.logger.info('AchievementManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up AchievementManager...');\n\n    // Save achievement data\n    this.saveAchievementData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('AchievementManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Check for time-based achievements\n    this.checkTimeBasedAchievements(gameState);\n\n    // Check for combo achievements\n    this.checkComboAchievements(gameState);\n  }\n\n  /**\n   * Initialize achievement definitions\n   */\n  initializeAchievements() {\n    // Score-based achievements\n    this.defineAchievement('first_score', {\n      name: 'First Steps',\n      description: 'Score your first 100 points',\n      type: 'score',\n      target: 100,\n      reward: { score: 50, title: 'Beginner' },\n      icon: 'star',\n    });\n\n    this.defineAchievement('score_master', {\n      name: 'Score Master',\n      description: 'Reach 10,000 points',\n      type: 'score',\n      target: 10000,\n      reward: { score: 500, title: 'Score Master' },\n      icon: 'trophy',\n    });\n\n    this.defineAchievement('high_score_king', {\n      name: 'High Score King',\n      description: 'Reach 50,000 points',\n      type: 'score',\n      target: 50000,\n      reward: { score: 2000, title: 'High Score King' },\n      icon: 'crown',\n    });\n\n    // Level-based achievements\n    this.defineAchievement('level_5', {\n      name: 'Level 5 Complete',\n      description: 'Complete level 5',\n      type: 'level',\n      target: 5,\n      reward: { extraLives: 1, title: 'Level 5 Veteran' },\n      icon: 'medal',\n    });\n\n    this.defineAchievement('level_10', {\n      name: 'Level 10 Complete',\n      description: 'Complete level 10',\n      type: 'level',\n      target: 10,\n      reward: { score: 1000, title: 'Level 10 Master' },\n      icon: 'diamond',\n    });\n\n    // Collection achievements\n    this.defineAchievement('collector', {\n      name: 'Collector',\n      description: 'Collect 50 items',\n      type: 'collection',\n      target: 50,\n      reward: { score: 300, title: 'Collector' },\n      icon: 'bag',\n    });\n\n    this.defineAchievement('hoarder', {\n      name: 'Hoarder',\n      description: 'Collect 200 items',\n      type: 'collection',\n      target: 200,\n      reward: { score: 1000, title: 'Hoarder' },\n      icon: 'treasure',\n    });\n\n    // Time-based achievements\n    this.defineAchievement('speed_demon', {\n      name: 'Speed Demon',\n      description: 'Complete a level in under 30 seconds',\n      type: 'speed',\n      target: 30000, // 30 seconds in milliseconds\n      reward: { score: 500, title: 'Speed Demon' },\n      icon: 'lightning',\n    });\n\n    this.defineAchievement('marathon_runner', {\n      name: 'Marathon Runner',\n      description: 'Play for 30 minutes straight',\n      type: 'playtime',\n      target: 1800000, // 30 minutes in milliseconds\n      reward: { score: 1000, title: 'Marathon Runner' },\n      icon: 'clock',\n    });\n\n    // Combo achievements\n    this.defineAchievement('combo_master', {\n      name: 'Combo Master',\n      description: 'Achieve a 10x combo',\n      type: 'combo',\n      target: 10,\n      reward: { score: 200, title: 'Combo Master' },\n      icon: 'fire',\n    });\n\n    this.defineAchievement('combo_legend', {\n      name: 'Combo Legend',\n      description: 'Achieve a 25x combo',\n      type: 'combo',\n      target: 25,\n      reward: { score: 1000, title: 'Combo Legend' },\n      icon: 'explosion',\n    });\n\n    // Special achievements\n    this.defineAchievement('perfect_level', {\n      name: 'Perfect Level',\n      description: 'Complete a level without taking damage',\n      type: 'perfect',\n      target: 1,\n      reward: { score: 750, title: 'Perfect Player' },\n      icon: 'shield',\n    });\n\n    this.defineAchievement('comeback_kid', {\n      name: 'Comeback Kid',\n      description: 'Complete a level with only 1 life remaining',\n      type: 'comeback',\n      target: 1,\n      reward: { score: 500, title: 'Comeback Kid' },\n      icon: 'heart',\n    });\n  }\n\n  /**\n   * Define an achievement\n   */\n  defineAchievement(id, definition) {\n    this.achievements.set(id, {\n      id,\n      ...definition,\n      unlocked: false,\n      unlockedAt: null,\n      progress: 0,\n    });\n\n    // Initialize progress tracking\n    this.progress.set(id, 0);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Score events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n\n    // Level events\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Collection events\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Combo events\n    this.eventBus.on('player:comboChanged', this.handleComboChanged.bind(this));\n\n    // Damage events\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:comboChanged',\n      this.handleComboChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    const currentScore = this.gameState().score;\n    this.checkScoreAchievements(currentScore);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.checkLevelAchievements(data.level);\n    this.checkSpeedAchievements(data.time);\n    this.checkPerfectLevelAchievements(data);\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    this.checkCollectionAchievements(data.itemType);\n  }\n\n  /**\n   * Handle game start\n   */\n  handleGameStarted(data) {\n    this.gameStartTime = data.timestamp;\n  }\n\n  /**\n   * Handle combo changes\n   */\n  handleComboChanged(data) {\n    this.checkComboAchievements(data.combo);\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.currentLevelPerfect = false;\n  }\n\n  /**\n   * Check score-based achievements\n   */\n  checkScoreAchievements(currentScore) {\n    this.checkAchievementsByType('score', currentScore);\n  }\n\n  /**\n   * Check level-based achievements\n   */\n  checkLevelAchievements(level) {\n    this.checkAchievementsByType('level', level);\n  }\n\n  /**\n   * Check collection-based achievements\n   */\n  checkCollectionAchievements(itemType) {\n    // Increment collection count\n    const currentCount = this.progress.get('collector') || 0;\n    this.progress.set('collector', currentCount + 1);\n\n    this.checkAchievementsByType('collection', this.progress.get('collector'));\n  }\n\n  /**\n   * Check speed-based achievements\n   */\n  checkSpeedAchievements(levelTime) {\n    this.checkAchievementsByType('speed', levelTime);\n  }\n\n  /**\n   * Check combo-based achievements\n   */\n  checkComboAchievements(combo) {\n    this.checkAchievementsByType('combo', combo);\n  }\n\n  /**\n   * Check time-based achievements\n   */\n  checkTimeBasedAchievements(gameState) {\n    if (this.gameStartTime) {\n      const playTime = Date.now() - this.gameStartTime;\n      this.checkAchievementsByType('playtime', playTime);\n    }\n  }\n\n  /**\n   * Check combo achievements\n   */\n  checkComboAchievements(gameState) {\n    // This would check for combo achievements based on game state\n    // Implementation depends on how combos are tracked in the game\n  }\n\n  /**\n   * Check perfect level achievements\n   */\n  checkPerfectLevelAchievements(levelData) {\n    if (levelData.perfect) {\n      this.checkAchievementsByType('perfect', 1);\n    }\n  }\n\n  /**\n   * Check achievements by type\n   */\n  checkAchievementsByType(type, value) {\n    for (const [id, achievement] of this.achievements) {\n      if (achievement.type === type && !achievement.unlocked) {\n        if (value >= achievement.target) {\n          this.unlockAchievement(id);\n        } else {\n          // Update progress\n          this.progress.set(id, value);\n          achievement.progress = value;\n        }\n      }\n    }\n  }\n\n  /**\n   * Unlock an achievement\n   */\n  unlockAchievement(id) {\n    const achievement = this.achievements.get(id);\n    if (!achievement || achievement.unlocked) {\n      return;\n    }\n\n    achievement.unlocked = true;\n    achievement.unlockedAt = Date.now();\n    this.unlockedAchievements.add(id);\n\n    this.logger.info(`Achievement unlocked: ${achievement.name}`);\n\n    // Emit achievement unlocked event\n    this.eventBus.emit('achievement:unlocked', {\n      id,\n      name: achievement.name,\n      description: achievement.description,\n      reward: achievement.reward,\n      icon: achievement.icon,\n      timestamp: Date.now(),\n    });\n\n    // Apply reward\n    this.applyAchievementReward(achievement);\n  }\n\n  /**\n   * Apply achievement reward\n   */\n  applyAchievementReward(achievement) {\n    if (!achievement.reward) return;\n\n    const reward = achievement.reward;\n\n    // Score reward\n    if (reward.score) {\n      this.eventBus.emit('player:scoreChanged', {\n        scoreChange: reward.score,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Extra lives reward\n    if (reward.extraLives) {\n      this.eventBus.emit('player:livesChanged', {\n        livesChange: reward.extraLives,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Title reward\n    if (reward.title) {\n      this.eventBus.emit('player:titleChanged', {\n        title: reward.title,\n        source: 'achievement',\n        achievementId: achievement.id,\n      });\n    }\n\n    // Special effects\n    if (reward.effects) {\n      this.eventBus.emit('game:achievementEffect', {\n        effects: reward.effects,\n        achievementId: achievement.id,\n      });\n    }\n  }\n\n  /**\n   * Get achievement by ID\n   */\n  getAchievement(id) {\n    return this.achievements.get(id);\n  }\n\n  /**\n   * Get all achievements\n   */\n  getAllAchievements() {\n    return Array.from(this.achievements.values());\n  }\n\n  /**\n   * Get unlocked achievements\n   */\n  getUnlockedAchievements() {\n    return Array.from(this.achievements.values()).filter((a) => a.unlocked);\n  }\n\n  /**\n   * Get achievement progress\n   */\n  getAchievementProgress(id) {\n    const achievement = this.achievements.get(id);\n    if (!achievement) return null;\n\n    return {\n      id,\n      name: achievement.name,\n      description: achievement.description,\n      progress: achievement.progress,\n      target: achievement.target,\n      percentage: Math.min(\n        (achievement.progress / achievement.target) * 100,\n        100\n      ),\n      unlocked: achievement.unlocked,\n    };\n  }\n\n  /**\n   * Get all achievement progress\n   */\n  getAllAchievementProgress() {\n    const progress = [];\n    for (const [id, achievement] of this.achievements) {\n      progress.push(this.getAchievementProgress(id));\n    }\n    return progress;\n  }\n\n  /**\n   * Load achievement data from storage\n   */\n  async loadAchievementData() {\n    try {\n      const savedData = localStorage.getItem('achievementData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n\n        // Restore unlocked achievements\n        if (data.unlocked) {\n          data.unlocked.forEach((id) => {\n            if (this.achievements.has(id)) {\n              this.achievements.get(id).unlocked = true;\n              this.unlockedAchievements.add(id);\n            }\n          });\n        }\n\n        // Restore progress\n        if (data.progress) {\n          for (const [id, progress] of Object.entries(data.progress)) {\n            if (this.achievements.has(id)) {\n              this.achievements.get(id).progress = progress;\n              this.progress.set(id, progress);\n            }\n          }\n        }\n\n        this.logger.info('Achievement data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load achievement data:', error);\n    }\n  }\n\n  /**\n   * Save achievement data to storage\n   */\n  saveAchievementData() {\n    try {\n      const data = {\n        unlocked: Array.from(this.unlockedAchievements),\n        progress: Object.fromEntries(this.progress),\n      };\n      localStorage.setItem('achievementData', JSON.stringify(data));\n      this.logger.info('Achievement data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save achievement data:', error);\n    }\n  }\n\n  /**\n   * Reset all achievements\n   */\n  resetAchievements() {\n    this.unlockedAchievements.clear();\n    this.progress.clear();\n\n    for (const [id, achievement] of this.achievements) {\n      achievement.unlocked = false;\n      achievement.unlockedAt = null;\n      achievement.progress = 0;\n      this.progress.set(id, 0);\n    }\n\n    this.logger.info('All achievements reset');\n  }\n}\n\nexport default AchievementManager;\n", "/**\n * DailyChallengeManager.js - Daily challenge system with gameplay integration\n *\n * This manager handles:\n * - Daily challenge generation and rotation\n * - Challenge progress tracking\n * - Challenge completion rewards\n * - Integration with gameplay events\n */\n\nexport class DailyChallengeManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('DailyChallengeManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('DailyChallengeManager requires logger dependency');\n    }\n\n    // Challenge state\n    this.challenges = new Map();\n    this.activeChallenges = [];\n    this.completedChallenges = new Set();\n    this.challengeProgress = new Map();\n    this.lastChallengeDate = null;\n\n    // Challenge templates\n    this.challengeTemplates = this.initializeChallengeTemplates();\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('DailyChallengeManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing DailyChallengeManager...');\n\n    // Load saved challenge data\n    await this.loadChallengeData();\n\n    // Generate today's challenges\n    this.generateDailyChallenges();\n\n    this.logger.info('DailyChallengeManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up DailyChallengeManager...');\n\n    // Save challenge data\n    this.saveChallengeData();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    this.logger.info('DailyChallengeManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Check if we need to generate new daily challenges\n    this.checkDailyChallengeRotation();\n\n    // Update challenge progress\n    this.updateChallengeProgress(gameState);\n  }\n\n  /**\n   * Initialize challenge templates\n   */\n  initializeChallengeTemplates() {\n    return {\n      score: [\n        {\n          name: 'Score Hunter',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'easy',\n          target: 1000,\n          reward: { score: 200, coins: 10 },\n        },\n        {\n          name: 'Score Master',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'medium',\n          target: 5000,\n          reward: { score: 500, coins: 25 },\n        },\n        {\n          name: 'Score Legend',\n          description: 'Score {target} points in a single game',\n          type: 'score',\n          difficulty: 'hard',\n          target: 15000,\n          reward: { score: 1000, coins: 50 },\n        },\n      ],\n      level: [\n        {\n          name: 'Level Climber',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'easy',\n          target: 3,\n          reward: { score: 300, coins: 15 },\n        },\n        {\n          name: 'Level Master',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'medium',\n          target: 7,\n          reward: { score: 750, coins: 35 },\n        },\n        {\n          name: 'Level Legend',\n          description: 'Reach level {target}',\n          type: 'level',\n          difficulty: 'hard',\n          target: 10,\n          reward: { score: 1500, coins: 75 },\n        },\n      ],\n      collection: [\n        {\n          name: 'Item Collector',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'easy',\n          target: 10,\n          reward: { score: 150, coins: 8 },\n        },\n        {\n          name: 'Item Hoarder',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'medium',\n          target: 25,\n          reward: { score: 400, coins: 20 },\n        },\n        {\n          name: 'Item Master',\n          description: 'Collect {target} items in a single game',\n          type: 'collection',\n          difficulty: 'hard',\n          target: 50,\n          reward: { score: 800, coins: 40 },\n        },\n      ],\n      combo: [\n        {\n          name: 'Combo Starter',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'easy',\n          target: 5,\n          reward: { score: 100, coins: 5 },\n        },\n        {\n          name: 'Combo Master',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'medium',\n          target: 15,\n          reward: { score: 300, coins: 15 },\n        },\n        {\n          name: 'Combo Legend',\n          description: 'Achieve a {target}x combo',\n          type: 'combo',\n          difficulty: 'hard',\n          target: 30,\n          reward: { score: 600, coins: 30 },\n        },\n      ],\n      time: [\n        {\n          name: 'Speed Runner',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'easy',\n          target: 60,\n          reward: { score: 200, coins: 10 },\n        },\n        {\n          name: 'Speed Master',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'medium',\n          target: 30,\n          reward: { score: 500, coins: 25 },\n        },\n        {\n          name: 'Speed Legend',\n          description: 'Complete a level in under {target} seconds',\n          type: 'time',\n          difficulty: 'hard',\n          target: 15,\n          reward: { score: 1000, coins: 50 },\n        },\n      ],\n      survival: [\n        {\n          name: 'Survivor',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'easy',\n          target: 3,\n          reward: { score: 400, coins: 20 },\n        },\n        {\n          name: 'Survival Master',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'medium',\n          target: 7,\n          reward: { score: 1000, coins: 50 },\n        },\n        {\n          name: 'Survival Legend',\n          description: 'Complete {target} levels without dying',\n          type: 'survival',\n          difficulty: 'hard',\n          target: 10,\n          reward: { score: 2000, coins: 100 },\n        },\n      ],\n    };\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Score events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChange.bind(this));\n\n    // Level events\n    this.eventBus.on(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n\n    // Collection events\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Combo events\n    this.eventBus.on('player:comboChanged', this.handleComboChanged.bind(this));\n\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Damage events\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChange.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:levelCompleted',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:comboChanged',\n      this.handleComboChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n  }\n\n  /**\n   * Generate daily challenges\n   */\n  generateDailyChallenges() {\n    const today = new Date().toDateString();\n\n    // Check if we need to generate new challenges\n    if (this.lastChallengeDate === today) {\n      return;\n    }\n\n    // Clear previous challenges\n    this.activeChallenges = [];\n    this.completedChallenges.clear();\n    this.challengeProgress.clear();\n\n    // Generate 3 random challenges\n    const challengeTypes = Object.keys(this.challengeTemplates);\n    const selectedTypes = this.getRandomElements(challengeTypes, 3);\n\n    selectedTypes.forEach((type, index) => {\n      const template = this.getRandomElement(this.challengeTemplates[type]);\n      const challenge = this.createChallenge(template, index);\n      this.activeChallenges.push(challenge);\n      this.challenges.set(challenge.id, challenge);\n    });\n\n    this.lastChallengeDate = today;\n    this.logger.info(\n      `Generated ${this.activeChallenges.length} daily challenges for ${today}`\n    );\n\n    // Emit challenges generated event\n    this.eventBus.emit('dailyChallenges:generated', {\n      challenges: this.activeChallenges,\n      date: today,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Create a challenge from template\n   */\n  createChallenge(template, index) {\n    const id = `daily_${Date.now()}_${index}`;\n    const challenge = {\n      id,\n      name: template.name,\n      description: template.description.replace('{target}', template.target),\n      type: template.type,\n      difficulty: template.difficulty,\n      target: template.target,\n      reward: template.reward,\n      progress: 0,\n      completed: false,\n      completedAt: null,\n      createdAt: Date.now(),\n    };\n\n    return challenge;\n  }\n\n  /**\n   * Check daily challenge rotation\n   */\n  checkDailyChallengeRotation() {\n    const today = new Date().toDateString();\n    if (this.lastChallengeDate !== today) {\n      this.generateDailyChallenges();\n    }\n  }\n\n  /**\n   * Update challenge progress\n   */\n  updateChallengeProgress(gameState) {\n    // This method can be used for real-time progress updates\n    // that don't require specific events\n  }\n\n  /**\n   * Handle score changes\n   */\n  handleScoreChange(data) {\n    this.checkScoreChallenges(data.score);\n  }\n\n  /**\n   * Handle level completion\n   */\n  handleLevelCompleted(data) {\n    this.checkLevelChallenges(data.level);\n    this.checkTimeChallenges(data.time);\n    this.checkSurvivalChallenges(data);\n  }\n\n  /**\n   * Handle item collection\n   */\n  handleItemCollected(data) {\n    this.checkCollectionChallenges(data.itemType);\n  }\n\n  /**\n   * Handle combo changes\n   */\n  handleComboChanged(data) {\n    this.checkComboChallenges(data.combo);\n  }\n\n  /**\n   * Handle game start\n   */\n  handleGameStarted(data) {\n    this.gameStartTime = data.timestamp;\n    this.currentGameScore = 0;\n    this.currentGameLevel = 0;\n    this.currentGameItems = 0;\n    this.currentGameCombo = 0;\n    this.survivalCount = 0;\n  }\n\n  /**\n   * Handle player damage\n   */\n  handlePlayerDamaged(data) {\n    this.survivalCount = 0; // Reset survival count on damage\n  }\n\n  /**\n   * Check score-based challenges\n   */\n  checkScoreChallenges(currentScore) {\n    this.currentGameScore = currentScore;\n    this.checkChallengesByType('score', currentScore);\n  }\n\n  /**\n   * Check level-based challenges\n   */\n  checkLevelChallenges(level) {\n    this.currentGameLevel = level;\n    this.checkChallengesByType('level', level);\n  }\n\n  /**\n   * Check collection-based challenges\n   */\n  checkCollectionChallenges(itemType) {\n    this.currentGameItems++;\n    this.checkChallengesByType('collection', this.currentGameItems);\n  }\n\n  /**\n   * Check combo-based challenges\n   */\n  checkComboChallenges(combo) {\n    this.currentGameCombo = combo;\n    this.checkChallengesByType('combo', combo);\n  }\n\n  /**\n   * Check time-based challenges\n   */\n  checkTimeChallenges(levelTime) {\n    const timeInSeconds = Math.floor(levelTime / 1000);\n    this.checkChallengesByType('time', timeInSeconds);\n  }\n\n  /**\n   * Check survival challenges\n   */\n  checkSurvivalChallenges(levelData) {\n    this.survivalCount++;\n    this.checkChallengesByType('survival', this.survivalCount);\n  }\n\n  /**\n   * Check challenges by type\n   */\n  checkChallengesByType(type, value) {\n    for (const challenge of this.activeChallenges) {\n      if (challenge.type === type && !challenge.completed) {\n        if (value >= challenge.target) {\n          this.completeChallenge(challenge.id);\n        } else {\n          // Update progress\n          challenge.progress = value;\n          this.challengeProgress.set(challenge.id, value);\n        }\n      }\n    }\n  }\n\n  /**\n   * Complete a challenge\n   */\n  completeChallenge(challengeId) {\n    const challenge = this.challenges.get(challengeId);\n    if (!challenge || challenge.completed) {\n      return;\n    }\n\n    challenge.completed = true;\n    challenge.completedAt = Date.now();\n    this.completedChallenges.add(challengeId);\n\n    this.logger.info(`Daily challenge completed: ${challenge.name}`);\n\n    // Emit challenge completed event\n    this.eventBus.emit('dailyChallenge:completed', {\n      id: challengeId,\n      name: challenge.name,\n      description: challenge.description,\n      reward: challenge.reward,\n      timestamp: Date.now(),\n    });\n\n    // Apply reward\n    this.applyChallengeReward(challenge);\n  }\n\n  /**\n   * Apply challenge reward\n   */\n  applyChallengeReward(challenge) {\n    if (!challenge.reward) return;\n\n    const reward = challenge.reward;\n\n    // Score reward\n    if (reward.score) {\n      this.eventBus.emit('player:scoreChanged', {\n        scoreChange: reward.score,\n        source: 'dailyChallenge',\n        challengeId: challenge.id,\n      });\n    }\n\n    // Coins reward\n    if (reward.coins) {\n      this.eventBus.emit('player:coinsChanged', {\n        coinsChange: reward.coins,\n        source: 'dailyChallenge',\n        challengeId: challenge.id,\n      });\n    }\n\n    // Special effects\n    if (reward.effects) {\n      this.eventBus.emit('game:challengeEffect', {\n        effects: reward.effects,\n        challengeId: challenge.id,\n      });\n    }\n  }\n\n  /**\n   * Get active challenges\n   */\n  getActiveChallenges() {\n    return this.activeChallenges.filter((c) => !c.completed);\n  }\n\n  /**\n   * Get completed challenges\n   */\n  getCompletedChallenges() {\n    return this.activeChallenges.filter((c) => c.completed);\n  }\n\n  /**\n   * Get all challenges\n   */\n  getAllChallenges() {\n    return this.activeChallenges;\n  }\n\n  /**\n   * Get challenge progress\n   */\n  getChallengeProgress(challengeId) {\n    const challenge = this.challenges.get(challengeId);\n    if (!challenge) return null;\n\n    return {\n      id: challengeId,\n      name: challenge.name,\n      description: challenge.description,\n      progress: challenge.progress,\n      target: challenge.target,\n      percentage: Math.min((challenge.progress / challenge.target) * 100, 100),\n      completed: challenge.completed,\n      difficulty: challenge.difficulty,\n      reward: challenge.reward,\n    };\n  }\n\n  /**\n   * Get all challenge progress\n   */\n  getAllChallengeProgress() {\n    const progress = [];\n    for (const challenge of this.activeChallenges) {\n      progress.push(this.getChallengeProgress(challenge.id));\n    }\n    return progress;\n  }\n\n  /**\n   * Get random elements from array\n   */\n  getRandomElements(array, count) {\n    const shuffled = array.sort(() => 0.5 - Math.random());\n    return shuffled.slice(0, count);\n  }\n\n  /**\n   * Get random element from array\n   */\n  getRandomElement(array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  /**\n   * Load challenge data from storage\n   */\n  async loadChallengeData() {\n    try {\n      const savedData = localStorage.getItem('dailyChallengeData');\n      if (savedData) {\n        const data = JSON.parse(savedData);\n\n        // Restore last challenge date\n        this.lastChallengeDate = data.lastChallengeDate;\n\n        // Restore completed challenges\n        if (data.completed) {\n          data.completed.forEach((id) => {\n            this.completedChallenges.add(id);\n          });\n        }\n\n        // Restore progress\n        if (data.progress) {\n          for (const [id, progress] of Object.entries(data.progress)) {\n            this.challengeProgress.set(id, progress);\n          }\n        }\n\n        this.logger.info('Daily challenge data loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load daily challenge data:', error);\n    }\n  }\n\n  /**\n   * Save challenge data to storage\n   */\n  saveChallengeData() {\n    try {\n      const data = {\n        lastChallengeDate: this.lastChallengeDate,\n        completed: Array.from(this.completedChallenges),\n        progress: Object.fromEntries(this.challengeProgress),\n      };\n      localStorage.setItem('dailyChallengeData', JSON.stringify(data));\n      this.logger.info('Daily challenge data saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save daily challenge data:', error);\n    }\n  }\n\n  /**\n   * Reset all challenges\n   */\n  resetChallenges() {\n    this.activeChallenges = [];\n    this.completedChallenges.clear();\n    this.challengeProgress.clear();\n    this.lastChallengeDate = null;\n\n    this.logger.info('All daily challenges reset');\n  }\n}\n\nexport default DailyChallengeManager;\n", "/**\n * AccessibilityManager.js - Accessibility features with gameplay integration\n *\n * This manager handles:\n * - Screen reader support\n * - High contrast mode\n * - Colorblind support\n * - Keyboard navigation\n * - Audio cues and descriptions\n * - Text scaling\n * - Motion reduction\n */\n\nexport class AccessibilityManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.gameState = dependencies.gameState;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('AccessibilityManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('AccessibilityManager requires logger dependency');\n    }\n\n    // Accessibility settings\n    this.settings = {\n      screenReader: false,\n      highContrast: false,\n      colorblindMode: 'none', // 'none', 'protanopia', 'deuteranopia', 'tritanopia'\n      keyboardNavigation: false,\n      audioCues: true,\n      audioDescriptions: false,\n      textScaling: 1.0,\n      motionReduction: false,\n      reducedAnimations: false,\n      largeText: false,\n      focusIndicators: true,\n    };\n\n    // Audio context for sound cues\n    this.audioContext = null;\n    this.audioEnabled = true;\n\n    // Screen reader support\n    this.announcements = [];\n    this.announcementQueue = [];\n\n    // Set up event handlers\n    this.setupEventHandlers();\n\n    this.logger.info('AccessibilityManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing AccessibilityManager...');\n\n    // Load accessibility settings\n    await this.loadAccessibilitySettings();\n\n    // Initialize audio context\n    this.initializeAudio();\n\n    // Set up DOM accessibility features\n    this.setupDOMAccessibility();\n\n    this.logger.info('AccessibilityManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up AccessibilityManager...');\n\n    // Save accessibility settings\n    this.saveAccessibilitySettings();\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    // Clean up audio context\n    if (this.audioContext) {\n      this.audioContext.close();\n    }\n\n    this.logger.info('AccessibilityManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime, gameState) {\n    // Process announcement queue\n    this.processAnnouncementQueue();\n\n    // Update accessibility features based on game state\n    this.updateAccessibilityFeatures(gameState);\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Game state events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('game:paused', this.handleGamePaused.bind(this));\n    this.eventBus.on('game:resumed', this.handleGameResumed.bind(this));\n    this.eventBus.on('game:stopped', this.handleGameStopped.bind(this));\n\n    // Player events\n    this.eventBus.on('player:scoreChanged', this.handleScoreChanged.bind(this));\n    this.eventBus.on('player:damaged', this.handlePlayerDamaged.bind(this));\n    this.eventBus.on(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n\n    // Level events\n    this.eventBus.on('level:started', this.handleLevelStarted.bind(this));\n    this.eventBus.on('level:completed', this.handleLevelCompleted.bind(this));\n\n    // Achievement events\n    this.eventBus.on(\n      'achievement:unlocked',\n      this.handleAchievementUnlocked.bind(this)\n    );\n    this.eventBus.on(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompleted.bind(this)\n    );\n\n    // Input events\n    this.eventBus.on('game:input', this.handleInput.bind(this));\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    this.eventBus.removeListener(\n      'game:started',\n      this.handleGameStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:paused',\n      this.handleGamePaused.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:resumed',\n      this.handleGameResumed.bind(this)\n    );\n    this.eventBus.removeListener(\n      'game:stopped',\n      this.handleGameStopped.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:scoreChanged',\n      this.handleScoreChanged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:damaged',\n      this.handlePlayerDamaged.bind(this)\n    );\n    this.eventBus.removeListener(\n      'player:itemCollected',\n      this.handleItemCollected.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:started',\n      this.handleLevelStarted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'level:completed',\n      this.handleLevelCompleted.bind(this)\n    );\n    this.eventBus.removeListener(\n      'achievement:unlocked',\n      this.handleAchievementUnlocked.bind(this)\n    );\n    this.eventBus.removeListener(\n      'dailyChallenge:completed',\n      this.handleDailyChallengeCompleted.bind(this)\n    );\n    this.eventBus.removeListener('game:input', this.handleInput.bind(this));\n  }\n\n  /**\n   * Initialize audio context\n   */\n  initializeAudio() {\n    try {\n      this.audioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n      this.audioEnabled = true;\n    } catch (error) {\n      this.logger.warn('Audio context not available:', error);\n      this.audioEnabled = false;\n    }\n  }\n\n  /**\n   * Set up DOM accessibility features\n   */\n  setupDOMAccessibility() {\n    // Create announcement region for screen readers\n    this.createAnnouncementRegion();\n\n    // Set up keyboard navigation\n    this.setupKeyboardNavigation();\n\n    // Apply initial accessibility settings\n    this.applyAccessibilitySettings();\n  }\n\n  /**\n   * Create announcement region for screen readers\n   */\n  createAnnouncementRegion() {\n    const announcementRegion = document.createElement('div');\n    announcementRegion.id = 'accessibility-announcements';\n    announcementRegion.setAttribute('aria-live', 'polite');\n    announcementRegion.setAttribute('aria-atomic', 'true');\n    announcementRegion.style.cssText = `\n            position: absolute;\n            left: -10000px;\n            width: 1px;\n            height: 1px;\n            overflow: hidden;\n        `;\n    document.body.appendChild(announcementRegion);\n  }\n\n  /**\n   * Set up keyboard navigation\n   */\n  setupKeyboardNavigation() {\n    if (!this.settings.keyboardNavigation) return;\n\n    document.addEventListener('keydown', (event) => {\n      this.handleKeyboardNavigation(event);\n    });\n  }\n\n  /**\n   * Handle keyboard navigation\n   */\n  handleKeyboardNavigation(event) {\n    if (!this.settings.keyboardNavigation) return;\n\n    switch (event.key) {\n      case 'Tab':\n        // Ensure proper tab order\n        this.handleTabNavigation(event);\n        break;\n      case 'Enter':\n      case ' ':\n        // Handle activation\n        this.handleActivation(event);\n        break;\n      case 'Escape':\n        // Handle escape key\n        this.handleEscape(event);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        // Handle arrow key navigation\n        this.handleArrowNavigation(event);\n        break;\n    }\n  }\n\n  /**\n   * Handle tab navigation\n   */\n  handleTabNavigation(event) {\n    // Ensure focusable elements are properly ordered\n    const focusableElements = document.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n\n    // This would implement custom tab order logic\n    // based on game state and UI layout\n  }\n\n  /**\n   * Handle activation\n   */\n  handleActivation(event) {\n    const activeElement = document.activeElement;\n    if (activeElement && activeElement.click) {\n      activeElement.click();\n    }\n  }\n\n  /**\n   * Handle escape key\n   */\n  handleEscape(event) {\n    // Emit escape event for game to handle\n    this.eventBus.emit('accessibility:escape', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle arrow key navigation\n   */\n  handleArrowNavigation(event) {\n    // Emit arrow navigation event\n    this.eventBus.emit('accessibility:arrowNavigation', {\n      direction: event.key.replace('Arrow', '').toLowerCase(),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Apply accessibility settings\n   */\n  applyAccessibilitySettings() {\n    const root = document.documentElement;\n\n    // High contrast mode\n    if (this.settings.highContrast) {\n      root.classList.add('high-contrast');\n    } else {\n      root.classList.remove('high-contrast');\n    }\n\n    // Colorblind mode\n    root.classList.remove(\n      'colorblind-protanopia',\n      'colorblind-deuteranopia',\n      'colorblind-tritanopia'\n    );\n    if (this.settings.colorblindMode !== 'none') {\n      root.classList.add(`colorblind-${this.settings.colorblindMode}`);\n    }\n\n    // Text scaling\n    root.style.setProperty('--text-scale', this.settings.textScaling);\n\n    // Motion reduction\n    if (this.settings.motionReduction) {\n      root.classList.add('motion-reduced');\n    } else {\n      root.classList.remove('motion-reduced');\n    }\n\n    // Large text\n    if (this.settings.largeText) {\n      root.classList.add('large-text');\n    } else {\n      root.classList.remove('large-text');\n    }\n\n    // Focus indicators\n    if (this.settings.focusIndicators) {\n      root.classList.add('focus-indicators');\n    } else {\n      root.classList.remove('focus-indicators');\n    }\n  }\n\n  /**\n   * Update accessibility settings\n   */\n  updateSettings(newSettings) {\n    this.settings = { ...this.settings, ...newSettings };\n    this.applyAccessibilitySettings();\n\n    this.logger.info('Accessibility settings updated');\n\n    // Emit settings changed event\n    this.eventBus.emit('accessibility:settingsChanged', {\n      settings: this.settings,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Get current settings\n   */\n  getSettings() {\n    return { ...this.settings };\n  }\n\n  /**\n   * Announce text to screen readers\n   */\n  announce(text, priority = 'polite') {\n    if (!this.settings.screenReader) return;\n\n    const announcement = {\n      text,\n      priority,\n      timestamp: Date.now(),\n    };\n\n    this.announcementQueue.push(announcement);\n  }\n\n  /**\n   * Process announcement queue\n   */\n  processAnnouncementQueue() {\n    if (this.announcementQueue.length === 0) return;\n\n    const announcement = this.announcementQueue.shift();\n    const announcementRegion = document.getElementById(\n      'accessibility-announcements'\n    );\n\n    if (announcementRegion) {\n      announcementRegion.setAttribute('aria-live', announcement.priority);\n      announcementRegion.textContent = announcement.text;\n    }\n  }\n\n  /**\n   * Play audio cue\n   */\n  playAudioCue(cueType, frequency = 440, duration = 200) {\n    if (!this.settings.audioCues || !this.audioEnabled || !this.audioContext)\n      return;\n\n    try {\n      const oscillator = this.audioContext.createOscillator();\n      const gainNode = this.audioContext.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(this.audioContext.destination);\n\n      oscillator.frequency.setValueAtTime(\n        frequency,\n        this.audioContext.currentTime\n      );\n      oscillator.type = 'sine';\n\n      gainNode.gain.setValueAtTime(0, this.audioContext.currentTime);\n      gainNode.gain.linearRampToValueAtTime(\n        0.1,\n        this.audioContext.currentTime + 0.01\n      );\n      gainNode.gain.linearRampToValueAtTime(\n        0,\n        this.audioContext.currentTime + duration / 1000\n      );\n\n      oscillator.start(this.audioContext.currentTime);\n      oscillator.stop(this.audioContext.currentTime + duration / 1000);\n    } catch (error) {\n      this.logger.warn('Failed to play audio cue:', error);\n    }\n  }\n\n  /**\n   * Handle game started\n   */\n  handleGameStarted(data) {\n    this.announce('Game started');\n    this.playAudioCue('gameStart', 523, 300);\n  }\n\n  /**\n   * Handle game paused\n   */\n  handleGamePaused(data) {\n    this.announce('Game paused');\n    this.playAudioCue('pause', 330, 200);\n  }\n\n  /**\n   * Handle game resumed\n   */\n  handleGameResumed(data) {\n    this.announce('Game resumed');\n    this.playAudioCue('resume', 523, 200);\n  }\n\n  /**\n   * Handle game stopped\n   */\n  handleGameStopped(data) {\n    this.announce('Game stopped');\n    this.playAudioCue('gameOver', 220, 500);\n  }\n\n  /**\n   * Handle score changed\n   */\n  handleScoreChanged(data) {\n    if (data.scoreChange > 0) {\n      this.announce(\n        `Score increased by ${data.scoreChange}. Total score: ${data.score}`\n      );\n      this.playAudioCue('score', 659, 100);\n    }\n  }\n\n  /**\n   * Handle player damaged\n   */\n  handlePlayerDamaged(data) {\n    this.announce(`Player damaged. Lives remaining: ${data.lives}`);\n    this.playAudioCue('damage', 220, 300);\n  }\n\n  /**\n   * Handle item collected\n   */\n  handleItemCollected(data) {\n    this.announce(`Item collected: ${data.itemType}`);\n    this.playAudioCue('item', 880, 150);\n  }\n\n  /**\n   * Handle level started\n   */\n  handleLevelStarted(data) {\n    this.announce(`Level ${data.level} started`);\n    this.playAudioCue('levelStart', 523, 400);\n  }\n\n  /**\n   * Handle level completed\n   */\n  handleLevelCompleted(data) {\n    this.announce(\n      `Level ${data.level} completed in ${Math.floor(data.time / 1000)} seconds`\n    );\n    this.playAudioCue('levelComplete', 1047, 600);\n  }\n\n  /**\n   * Handle achievement unlocked\n   */\n  handleAchievementUnlocked(data) {\n    this.announce(`Achievement unlocked: ${data.name}`);\n    this.playAudioCue('achievement', 1319, 800);\n  }\n\n  /**\n   * Handle daily challenge completed\n   */\n  handleDailyChallengeCompleted(data) {\n    this.announce(`Daily challenge completed: ${data.name}`);\n    this.playAudioCue('challenge', 1047, 500);\n  }\n\n  /**\n   * Handle input\n   */\n  handleInput(data) {\n    if (this.settings.audioCues) {\n      this.playAudioCue('input', 440, 50);\n    }\n  }\n\n  /**\n   * Update accessibility features based on game state\n   */\n  updateAccessibilityFeatures(gameState) {\n    // Update focus management based on game state\n    if (gameState.isPaused) {\n      this.manageFocusOnPause();\n    } else if (gameState.isRunning) {\n      this.manageFocusDuringGameplay();\n    }\n  }\n\n  /**\n   * Manage focus when game is paused\n   */\n  manageFocusOnPause() {\n    // Ensure focus is on pause menu\n    const pauseMenu = document.querySelector('.pause-menu');\n    if (pauseMenu && pauseMenu.focus) {\n      pauseMenu.focus();\n    }\n  }\n\n  /**\n   * Manage focus during gameplay\n   */\n  manageFocusDuringGameplay() {\n    // Ensure focus is on game canvas or main game area\n    const gameArea = document.querySelector('.game-area');\n    if (gameArea && gameArea.focus) {\n      gameArea.focus();\n    }\n  }\n\n  /**\n   * Load accessibility settings from storage\n   */\n  async loadAccessibilitySettings() {\n    try {\n      const savedSettings = localStorage.getItem('accessibilitySettings');\n      if (savedSettings) {\n        const settings = JSON.parse(savedSettings);\n        this.settings = { ...this.settings, ...settings };\n        this.applyAccessibilitySettings();\n        this.logger.info('Accessibility settings loaded from storage');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load accessibility settings:', error);\n    }\n  }\n\n  /**\n   * Save accessibility settings to storage\n   */\n  saveAccessibilitySettings() {\n    try {\n      localStorage.setItem(\n        'accessibilitySettings',\n        JSON.stringify(this.settings)\n      );\n      this.logger.info('Accessibility settings saved to storage');\n    } catch (error) {\n      this.logger.error('Failed to save accessibility settings:', error);\n    }\n  }\n\n  /**\n   * Reset accessibility settings to defaults\n   */\n  resetSettings() {\n    this.settings = {\n      screenReader: false,\n      highContrast: false,\n      colorblindMode: 'none',\n      keyboardNavigation: false,\n      audioCues: true,\n      audioDescriptions: false,\n      textScaling: 1.0,\n      motionReduction: false,\n      reducedAnimations: false,\n      largeText: false,\n      focusIndicators: true,\n    };\n\n    this.applyAccessibilitySettings();\n    this.logger.info('Accessibility settings reset to defaults');\n  }\n}\n\nexport default AccessibilityManager;\n", "/**\n * PerformanceMonitor.js - Comprehensive performance monitoring and optimization system\n *\n * This monitor handles:\n * - FPS monitoring and frame time analysis\n * - Memory usage tracking and leak detection\n * - Audio context performance monitoring\n * - Rendering performance analysis\n * - Input lag measurement\n * - Network performance tracking\n * - Performance bottleneck identification\n * - Automatic optimization suggestions\n */\n\nexport class PerformanceMonitor {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('PerformanceMonitor requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('PerformanceMonitor requires logger dependency');\n    }\n\n    // Performance configuration\n    this.config = {\n      enableFPSMonitoring: true,\n      enableMemoryMonitoring: true,\n      enableAudioMonitoring: true,\n      enableRenderingMonitoring: true,\n      enableInputMonitoring: true,\n      enableNetworkMonitoring: true,\n      enableAutoOptimization: true,\n      fpsTarget: 60,\n      fpsWarningThreshold: 45,\n      fpsCriticalThreshold: 30,\n      memoryWarningThreshold: 100 * 1024 * 1024, // 100MB\n      memoryCriticalThreshold: 200 * 1024 * 1024, // 200MB\n      frameTimeWarningThreshold: 16.67, // 60fps = 16.67ms per frame\n      frameTimeCriticalThreshold: 33.33, // 30fps = 33.33ms per frame\n      reportInterval: 5000, // Report every 5 seconds\n      maxHistorySize: 1000,\n      ...dependencies.config,\n    };\n\n    // Performance metrics\n    this.metrics = {\n      fps: {\n        current: 0,\n        average: 0,\n        min: Infinity,\n        max: 0,\n        history: [],\n        droppedFrames: 0,\n      },\n      frameTime: {\n        current: 0,\n        average: 0,\n        min: Infinity,\n        max: 0,\n        history: [],\n      },\n      memory: {\n        used: 0,\n        total: 0,\n        available: 0,\n        history: [],\n        leakDetected: false,\n        leakCount: 0,\n      },\n      audio: {\n        contextState: 'suspended',\n        contextRecreations: 0,\n        bufferUnderruns: 0,\n        latency: 0,\n        performanceScore: 0,\n      },\n      rendering: {\n        drawCalls: 0,\n        triangles: 0,\n        textures: 0,\n        shaders: 0,\n        batchCount: 0,\n        cullingTime: 0,\n        lightingTime: 0,\n        postProcessingTime: 0,\n      },\n      input: {\n        lag: 0,\n        eventCount: 0,\n        droppedEvents: 0,\n        averageResponseTime: 0,\n      },\n      network: {\n        latency: 0,\n        bandwidth: 0,\n        packetLoss: 0,\n        connectionQuality: 'good',\n      },\n    };\n\n    // Performance state\n    this.isMonitoring = false;\n    this.lastFrameTime = 0;\n    this.frameCount = 0;\n    this.lastReportTime = 0;\n    this.optimizationSuggestions = [];\n    this.performanceAlerts = [];\n\n    // Performance observers\n    this.observers = {\n      fps: null,\n      memory: null,\n      audio: null,\n      rendering: null,\n      input: null,\n      network: null,\n    };\n\n    // Set up performance monitoring\n    this.setupPerformanceMonitoring();\n    this.setupEventHandlers();\n\n    this.logger.info('PerformanceMonitor initialized');\n  }\n\n  /**\n   * Initialize the monitor\n   */\n  async initialize() {\n    this.logger.info('Initializing PerformanceMonitor...');\n\n    // Start monitoring if enabled\n    if (this.config.enableFPSMonitoring || this.config.enableMemoryMonitoring) {\n      this.startMonitoring();\n    }\n\n    this.logger.info('PerformanceMonitor initialized successfully');\n  }\n\n  /**\n   * Cleanup the monitor\n   */\n  cleanup() {\n    this.logger.info('Cleaning up PerformanceMonitor...');\n\n    // Stop monitoring\n    this.stopMonitoring();\n\n    // Disconnect observers\n    this.disconnectObservers();\n\n    this.logger.info('PerformanceMonitor cleaned up');\n  }\n\n  /**\n   * Set up performance monitoring\n   */\n  setupPerformanceMonitoring() {\n    // Set up FPS monitoring\n    if (this.config.enableFPSMonitoring) {\n      this.setupFPSMonitoring();\n    }\n\n    // Set up memory monitoring\n    if (this.config.enableMemoryMonitoring) {\n      this.setupMemoryMonitoring();\n    }\n\n    // Set up audio monitoring\n    if (this.config.enableAudioMonitoring) {\n      this.setupAudioMonitoring();\n    }\n\n    // Set up rendering monitoring\n    if (this.config.enableRenderingMonitoring) {\n      this.setupRenderingMonitoring();\n    }\n\n    // Set up input monitoring\n    if (this.config.enableInputMonitoring) {\n      this.setupInputMonitoring();\n    }\n\n    // Set up network monitoring\n    if (this.config.enableNetworkMonitoring) {\n      this.setupNetworkMonitoring();\n    }\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Game events\n    this.eventBus.on('game:started', this.handleGameStarted.bind(this));\n    this.eventBus.on('game:paused', this.handleGamePaused.bind(this));\n    this.eventBus.on('game:resumed', this.handleGameResumed.bind(this));\n    this.eventBus.on('game:stopped', this.handleGameStopped.bind(this));\n\n    // Performance events\n    this.eventBus.on('performance:frame', this.handleFrame.bind(this));\n    this.eventBus.on('performance:memory', this.handleMemoryUpdate.bind(this));\n    this.eventBus.on('performance:audio', this.handleAudioUpdate.bind(this));\n    this.eventBus.on('performance:rendering', this.handleRenderingUpdate.bind(this));\n    this.eventBus.on('performance:input', this.handleInputUpdate.bind(this));\n    this.eventBus.on('performance:network', this.handleNetworkUpdate.bind(this));\n  }\n\n  /**\n   * Set up FPS monitoring\n   */\n  setupFPSMonitoring() {\n    this.lastFrameTime = performance.now();\n    this.frameCount = 0;\n\n    const measureFPS = (currentTime) => {\n      if (!this.isMonitoring) return;\n\n      const deltaTime = currentTime - this.lastFrameTime;\n      this.lastFrameTime = currentTime;\n\n      // Calculate FPS\n      const fps = 1000 / deltaTime;\n      this.updateFPSMetrics(fps, deltaTime);\n\n      // Continue monitoring\n      requestAnimationFrame(measureFPS);\n    };\n\n    this.observers.fps = measureFPS;\n  }\n\n  /**\n   * Set up memory monitoring\n   */\n  setupMemoryMonitoring() {\n    if (!performance.memory) {\n      this.logger.warn('Performance.memory API not available');\n      return;\n    }\n\n    const measureMemory = () => {\n      if (!this.isMonitoring) return;\n\n      const memory = performance.memory;\n      this.updateMemoryMetrics(memory);\n\n      // Check for memory leaks\n      this.detectMemoryLeaks();\n\n      // Continue monitoring\n      setTimeout(measureMemory, 1000);\n    };\n\n    this.observers.memory = measureMemory;\n  }\n\n  /**\n   * Set up audio monitoring\n   */\n  setupAudioMonitoring() {\n    // Monitor audio context state\n    const measureAudio = () => {\n      if (!this.isMonitoring) return;\n\n      // Check for audio context recreations\n      this.checkAudioContextHealth();\n\n      // Continue monitoring\n      setTimeout(measureAudio, 2000);\n    };\n\n    this.observers.audio = measureAudio;\n  }\n\n  /**\n   * Set up rendering monitoring\n   */\n  setupRenderingMonitoring() {\n    // This would integrate with the rendering system\n    // For now, we'll set up basic monitoring\n    const measureRendering = () => {\n      if (!this.isMonitoring) return;\n\n      // Monitor rendering performance\n      this.updateRenderingMetrics();\n\n      // Continue monitoring\n      requestAnimationFrame(measureRendering);\n    };\n\n    this.observers.rendering = measureRendering;\n  }\n\n  /**\n   * Set up input monitoring\n   */\n  setupInputMonitoring() {\n    let inputEventCount = 0;\n    let lastInputTime = 0;\n\n    const measureInput = (event) => {\n      if (!this.isMonitoring) return;\n\n      const currentTime = performance.now();\n      const responseTime = currentTime - lastInputTime;\n\n      inputEventCount++;\n      this.updateInputMetrics(responseTime);\n\n      lastInputTime = currentTime;\n    };\n\n    // Listen for input events\n    document.addEventListener('keydown', measureInput);\n    document.addEventListener('mousedown', measureInput);\n    document.addEventListener('touchstart', measureInput);\n\n    this.observers.input = measureInput;\n  }\n\n  /**\n   * Set up network monitoring\n   */\n  setupNetworkMonitoring() {\n    const measureNetwork = () => {\n      if (!this.isMonitoring) return;\n\n      // Monitor network performance\n      this.updateNetworkMetrics();\n\n      // Continue monitoring\n      setTimeout(measureNetwork, 5000);\n    };\n\n    this.observers.network = measureNetwork;\n  }\n\n  /**\n   * Start monitoring\n   */\n  startMonitoring() {\n    if (this.isMonitoring) return;\n\n    this.isMonitoring = true;\n    this.lastReportTime = performance.now();\n\n    // Start FPS monitoring\n    if (this.observers.fps) {\n      requestAnimationFrame(this.observers.fps);\n    }\n\n    // Start other monitoring\n    if (this.observers.memory) {\n      this.observers.memory();\n    }\n    if (this.observers.audio) {\n      this.observers.audio();\n    }\n    if (this.observers.rendering) {\n      requestAnimationFrame(this.observers.rendering);\n    }\n    if (this.observers.network) {\n      this.observers.network();\n    }\n\n    this.logger.info('Performance monitoring started');\n  }\n\n  /**\n   * Stop monitoring\n   */\n  stopMonitoring() {\n    if (!this.isMonitoring) return;\n\n    this.isMonitoring = false;\n\n    this.logger.info('Performance monitoring stopped');\n  }\n\n  /**\n   * Disconnect observers\n   */\n  disconnectObservers() {\n    // Remove input event listeners\n    if (this.observers.input) {\n      document.removeEventListener('keydown', this.observers.input);\n      document.removeEventListener('mousedown', this.observers.input);\n      document.removeEventListener('touchstart', this.observers.input);\n    }\n  }\n\n  /**\n   * Update FPS metrics\n   */\n  updateFPSMetrics(fps, frameTime) {\n    this.metrics.fps.current = fps;\n    this.metrics.fps.history.push(fps);\n    this.metrics.fps.min = Math.min(this.metrics.fps.min, fps);\n    this.metrics.fps.max = Math.max(this.metrics.fps.max, fps);\n\n    // Calculate average FPS\n    if (this.metrics.fps.history.length > 0) {\n      this.metrics.fps.average = this.metrics.fps.history.reduce((a, b) => a + b, 0) / this.metrics.fps.history.length;\n    }\n\n    // Update frame time metrics\n    this.metrics.frameTime.current = frameTime;\n    this.metrics.frameTime.history.push(frameTime);\n    this.metrics.frameTime.min = Math.min(this.metrics.frameTime.min, frameTime);\n    this.metrics.frameTime.max = Math.max(this.metrics.frameTime.max, frameTime);\n\n    if (this.metrics.frameTime.history.length > 0) {\n      this.metrics.frameTime.average = this.metrics.frameTime.history.reduce((a, b) => a + b, 0) / this.metrics.frameTime.history.length;\n    }\n\n    // Check for dropped frames\n    if (frameTime > this.config.frameTimeCriticalThreshold) {\n      this.metrics.fps.droppedFrames++;\n    }\n\n    // Maintain history size\n    if (this.metrics.fps.history.length > this.config.maxHistorySize) {\n      this.metrics.fps.history.shift();\n      this.metrics.frameTime.history.shift();\n    }\n\n    // Check for performance issues\n    this.checkFPSPerformance();\n  }\n\n  /**\n   * Update memory metrics\n   */\n  updateMemoryMetrics(memory) {\n    this.metrics.memory.used = memory.usedJSHeapSize;\n    this.metrics.memory.total = memory.totalJSHeapSize;\n    this.metrics.memory.available = memory.jsHeapSizeLimit - memory.usedJSHeapSize;\n\n    this.metrics.memory.history.push({\n      used: memory.usedJSHeapSize,\n      total: memory.totalJSHeapSize,\n      timestamp: performance.now(),\n    });\n\n    // Maintain history size\n    if (this.metrics.memory.history.length > this.config.maxHistorySize) {\n      this.metrics.memory.history.shift();\n    }\n\n    // Check for memory issues\n    this.checkMemoryPerformance();\n  }\n\n  /**\n   * Update audio metrics\n   */\n  updateAudioMetrics(audioData) {\n    this.metrics.audio = { ...this.metrics.audio, ...audioData };\n\n    // Check for audio performance issues\n    this.checkAudioPerformance();\n  }\n\n  /**\n   * Update rendering metrics\n   */\n  updateRenderingMetrics() {\n    // This would be populated by the rendering system\n    // For now, we'll use placeholder values\n    this.metrics.rendering.drawCalls = 0;\n    this.metrics.rendering.triangles = 0;\n    this.metrics.rendering.textures = 0;\n    this.metrics.rendering.shaders = 0;\n  }\n\n  /**\n   * Update input metrics\n   */\n  updateInputMetrics(responseTime) {\n    this.metrics.input.eventCount++;\n    this.metrics.input.lag = responseTime;\n\n    // Calculate average response time\n    if (this.metrics.input.eventCount > 0) {\n      this.metrics.input.averageResponseTime = \n        (this.metrics.input.averageResponseTime * (this.metrics.input.eventCount - 1) + responseTime) / this.metrics.input.eventCount;\n    }\n\n    // Check for input performance issues\n    this.checkInputPerformance();\n  }\n\n  /**\n   * Update network metrics\n   */\n  updateNetworkMetrics() {\n    // This would integrate with network monitoring\n    // For now, we'll use placeholder values\n    this.metrics.network.latency = 0;\n    this.metrics.network.bandwidth = 0;\n    this.metrics.network.packetLoss = 0;\n    this.metrics.network.connectionQuality = 'good';\n  }\n\n  /**\n   * Check FPS performance\n   */\n  checkFPSPerformance() {\n    const fps = this.metrics.fps.current;\n    const frameTime = this.metrics.frameTime.current;\n\n    if (fps < this.config.fpsCriticalThreshold) {\n      this.addPerformanceAlert('critical', 'FPS critically low', { fps, threshold: this.config.fpsCriticalThreshold });\n      this.suggestOptimization('fps', 'Consider reducing graphics quality or disabling non-essential features');\n    } else if (fps < this.config.fpsWarningThreshold) {\n      this.addPerformanceAlert('warning', 'FPS below target', { fps, threshold: this.config.fpsWarningThreshold });\n    }\n\n    if (frameTime > this.config.frameTimeCriticalThreshold) {\n      this.addPerformanceAlert('critical', 'Frame time too high', { frameTime, threshold: this.config.frameTimeCriticalThreshold });\n    } else if (frameTime > this.config.frameTimeWarningThreshold) {\n      this.addPerformanceAlert('warning', 'Frame time above target', { frameTime, threshold: this.config.frameTimeWarningThreshold });\n    }\n  }\n\n  /**\n   * Check memory performance\n   */\n  checkMemoryPerformance() {\n    const used = this.metrics.memory.used;\n\n    if (used > this.config.memoryCriticalThreshold) {\n      this.addPerformanceAlert('critical', 'Memory usage critically high', { used, threshold: this.config.memoryCriticalThreshold });\n      this.suggestOptimization('memory', 'Consider reducing texture quality or clearing unused assets');\n    } else if (used > this.config.memoryWarningThreshold) {\n      this.addPerformanceAlert('warning', 'Memory usage high', { used, threshold: this.config.memoryWarningThreshold });\n    }\n  }\n\n  /**\n   * Check audio performance\n   */\n  checkAudioPerformance() {\n    if (this.metrics.audio.contextRecreations > 5) {\n      this.addPerformanceAlert('warning', 'Audio context recreated multiple times', { recreations: this.metrics.audio.contextRecreations });\n      this.suggestOptimization('audio', 'Consider implementing audio context pooling or lazy initialization');\n    }\n\n    if (this.metrics.audio.bufferUnderruns > 10) {\n      this.addPerformanceAlert('warning', 'Audio buffer underruns detected', { underruns: this.metrics.audio.bufferUnderruns });\n    }\n  }\n\n  /**\n   * Check input performance\n   */\n  checkInputPerformance() {\n    const lag = this.metrics.input.lag;\n\n    if (lag > 100) {\n      this.addPerformanceAlert('warning', 'Input lag detected', { lag });\n      this.suggestOptimization('input', 'Consider optimizing input handling or reducing input processing overhead');\n    }\n  }\n\n  /**\n   * Detect memory leaks\n   */\n  detectMemoryLeaks() {\n    const history = this.metrics.memory.history;\n    if (history.length < 10) return;\n\n    // Check if memory usage is consistently increasing\n    const recent = history.slice(-10);\n    const isIncreasing = recent.every((entry, index) => {\n      if (index === 0) return true;\n      return entry.used > recent[index - 1].used;\n    });\n\n    if (isIncreasing) {\n      this.metrics.memory.leakDetected = true;\n      this.metrics.memory.leakCount++;\n      this.addPerformanceAlert('warning', 'Potential memory leak detected', { leakCount: this.metrics.memory.leakCount });\n      this.suggestOptimization('memory', 'Check for circular references or unremoved event listeners');\n    }\n  }\n\n  /**\n   * Check audio context health\n   */\n  checkAudioContextHealth() {\n    // This would check the actual audio context state\n    // For now, we'll simulate the check\n    const contextState = 'running'; // This would be the actual context state\n\n    if (contextState !== this.metrics.audio.contextState) {\n      if (this.metrics.audio.contextState === 'suspended' && contextState === 'running') {\n        this.metrics.audio.contextRecreations++;\n        this.addPerformanceAlert('info', 'Audio context recreated', { recreations: this.metrics.audio.contextRecreations });\n      }\n      this.metrics.audio.contextState = contextState;\n    }\n  }\n\n  /**\n   * Add performance alert\n   */\n  addPerformanceAlert(level, message, data) {\n    const alert = {\n      level,\n      message,\n      data,\n      timestamp: performance.now(),\n    };\n\n    this.performanceAlerts.push(alert);\n\n    // Emit alert event\n    this.eventBus.emit('performance:alert', alert);\n\n    // Log alert\n    switch (level) {\n      case 'critical':\n        this.logger.error(`Performance Alert: ${message}`, data);\n        break;\n      case 'warning':\n        this.logger.warn(`Performance Alert: ${message}`, data);\n        break;\n      case 'info':\n        this.logger.info(`Performance Alert: ${message}`, data);\n        break;\n    }\n  }\n\n  /**\n   * Suggest optimization\n   */\n  suggestOptimization(category, suggestion) {\n    const optimization = {\n      category,\n      suggestion,\n      timestamp: performance.now(),\n    };\n\n    this.optimizationSuggestions.push(optimization);\n\n    // Emit optimization event\n    this.eventBus.emit('performance:optimization', optimization);\n\n    this.logger.info(`Performance Optimization: ${suggestion}`);\n  }\n\n  /**\n   * Get performance report\n   */\n  getPerformanceReport() {\n    return {\n      metrics: this.metrics,\n      alerts: this.performanceAlerts,\n      suggestions: this.optimizationSuggestions,\n      timestamp: performance.now(),\n    };\n  }\n\n  /**\n   * Get performance score\n   */\n  getPerformanceScore() {\n    let score = 100;\n\n    // FPS score\n    const fps = this.metrics.fps.current;\n    if (fps < this.config.fpsCriticalThreshold) {\n      score -= 40;\n    } else if (fps < this.config.fpsWarningThreshold) {\n      score -= 20;\n    }\n\n    // Memory score\n    const memoryUsage = this.metrics.memory.used / this.metrics.memory.total;\n    if (memoryUsage > 0.9) {\n      score -= 30;\n    } else if (memoryUsage > 0.7) {\n      score -= 15;\n    }\n\n    // Frame time score\n    const frameTime = this.metrics.frameTime.current;\n    if (frameTime > this.config.frameTimeCriticalThreshold) {\n      score -= 20;\n    } else if (frameTime > this.config.frameTimeWarningThreshold) {\n      score -= 10;\n    }\n\n    return Math.max(0, Math.min(100, score));\n  }\n\n  /**\n   * Handle game started\n   */\n  handleGameStarted(data) {\n    this.startMonitoring();\n  }\n\n  /**\n   * Handle game paused\n   */\n  handleGamePaused(data) {\n    // Continue monitoring but reduce frequency\n  }\n\n  /**\n   * Handle game resumed\n   */\n  handleGameResumed(data) {\n    // Resume normal monitoring\n  }\n\n  /**\n   * Handle game stopped\n   */\n  handleGameStopped(data) {\n    this.stopMonitoring();\n  }\n\n  /**\n   * Handle frame event\n   */\n  handleFrame(data) {\n    // This would be called by the rendering system\n  }\n\n  /**\n   * Handle memory update\n   */\n  handleMemoryUpdate(data) {\n    this.updateMemoryMetrics(data);\n  }\n\n  /**\n   * Handle audio update\n   */\n  handleAudioUpdate(data) {\n    this.updateAudioMetrics(data);\n  }\n\n  /**\n   * Handle rendering update\n   */\n  handleRenderingUpdate(data) {\n    this.metrics.rendering = { ...this.metrics.rendering, ...data };\n  }\n\n  /**\n   * Handle input update\n   */\n  handleInputUpdate(data) {\n    this.updateInputMetrics(data.responseTime);\n  }\n\n  /**\n   * Handle network update\n   */\n  handleNetworkUpdate(data) {\n    this.metrics.network = { ...this.metrics.network, ...data };\n  }\n\n  /**\n   * Update configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n  }\n\n  /**\n   * Get current metrics\n   */\n  getMetrics() {\n    return this.metrics;\n  }\n\n  /**\n   * Get alerts\n   */\n  getAlerts() {\n    return this.performanceAlerts;\n  }\n\n  /**\n   * Get optimization suggestions\n   */\n  getOptimizationSuggestions() {\n    return this.optimizationSuggestions;\n  }\n\n  /**\n   * Clear alerts\n   */\n  clearAlerts() {\n    this.performanceAlerts = [];\n  }\n\n  /**\n   * Clear optimization suggestions\n   */\n  clearOptimizationSuggestions() {\n    this.optimizationSuggestions = [];\n  }\n}\n\nexport default PerformanceMonitor;", "/**\n * InputManager.js - Comprehensive input handling with accessibility support\n *\n * This manager handles:\n * - Keyboard input with accessibility support\n * - Mouse input and touch events\n * - Gamepad support\n * - Input mapping and customization\n * - Accessibility features (keyboard navigation, focus management)\n * - Input event normalization\n */\n\nexport class InputManager {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.config = dependencies.config;\n\n    // Validate required dependencies\n    if (!this.eventBus) {\n      throw new Error('InputManager requires eventBus dependency');\n    }\n    if (!this.logger) {\n      throw new Error('InputManager requires logger dependency');\n    }\n\n    // Input state\n    this.keys = new Map();\n    this.mouse = {\n      x: 0,\n      y: 0,\n      buttons: new Map(),\n      wheel: 0,\n    };\n    this.touch = {\n      touches: new Map(),\n      gestures: new Map(),\n      activeGestures: new Map(),\n      lastTapTime: 0,\n      lastTapPosition: { x: 0, y: 0 },\n      longPressTimer: null,\n      doubleTapTimer: null,\n    };\n\n    // Mobile UI state\n    this.mobileUI = {\n      virtualJoystick: {\n        active: false,\n        center: { x: 0, y: 0 },\n        position: { x: 0, y: 0 },\n        radius: 60,\n        touchId: null,\n      },\n      actionButtons: new Map(),\n      isVisible: false,\n      orientation: 'portrait',\n    };\n    this.gamepad = {\n      controllers: new Map(),\n      lastUpdate: 0,\n    };\n\n    // Input mapping\n    this.keyMappings = new Map();\n    this.mouseMappings = new Map();\n    this.gamepadMappings = new Map();\n    this.touchMappings = new Map();\n\n    // Accessibility features\n    this.accessibility = {\n      keyboardNavigation: false,\n      focusManagement: true,\n      tabOrder: [],\n      currentFocusIndex: 0,\n      focusableElements: new Set(),\n      skipLinks: new Map(),\n    };\n\n    // Input configuration\n    this.settings = {\n      mouseSensitivity: 1.0,\n      keyboardLayout: 'qwerty',\n      enableMouseLook: true,\n      enableKeyboardNavigation: true,\n      enableGamepad: true,\n      enableTouch: true,\n      invertY: false,\n      deadzone: 0.1,\n      repeatDelay: 500,\n      repeatRate: 50,\n      // Mobile-specific settings\n      mobileControls: {\n        enabled: true,\n        layout: 'default', // 'default', 'compact', 'custom'\n        size: 'medium', // 'small', 'medium', 'large'\n        opacity: 0.8,\n        position: 'bottom', // 'bottom', 'top', 'left', 'right', 'custom'\n        showLabels: true,\n        hapticFeedback: true,\n        gestureSensitivity: 1.0,\n        touchDeadzone: 0.05,\n        multiTouch: true,\n        pinchToZoom: true,\n        swipeThreshold: 50,\n        longPressDelay: 500,\n        doubleTapDelay: 300,\n      },\n      // Touch gesture settings\n      gestures: {\n        enableSwipe: true,\n        enablePinch: true,\n        enableRotate: true,\n        enableLongPress: true,\n        enableDoubleTap: true,\n        swipeDirections: ['up', 'down', 'left', 'right'],\n        pinchThreshold: 0.1,\n        rotateThreshold: 5, // degrees\n      },\n      // Mobile UI controls\n      mobileUI: {\n        showVirtualJoystick: true,\n        showActionButtons: true,\n        showMenuButton: true,\n        showPauseButton: true,\n        buttonSpacing: 10,\n        buttonSize: 60,\n        joystickSize: 120,\n        joystickDeadzone: 0.1,\n        buttonOpacity: 0.8,\n        buttonPressScale: 0.9,\n        enableButtonHaptics: true,\n      },\n    };\n\n    // Event handling\n    this.boundHandlers = new Map();\n    this.isEnabled = true;\n    this.isCaptured = false;\n\n    // Initialize input system\n    this.initializeInputMappings();\n    this.setupEventHandlers();\n    this.setupAccessibility();\n    this.setupMobileControls();\n\n    this.logger.info('InputManager initialized');\n  }\n\n  /**\n   * Initialize the manager\n   */\n  async initialize() {\n    this.logger.info('Initializing InputManager...');\n\n    // Load input settings from config\n    if (this.config) {\n      this.loadSettingsFromConfig();\n    }\n\n    // Set up focus management\n    this.setupFocusManagement();\n\n    this.logger.info('InputManager initialized successfully');\n  }\n\n  /**\n   * Cleanup the manager\n   */\n  cleanup() {\n    this.logger.info('Cleaning up InputManager...');\n\n    // Remove event listeners\n    this.removeEventHandlers();\n\n    // Clear state\n    this.keys.clear();\n    this.mouse.buttons.clear();\n    this.touch.touches.clear();\n    this.gamepad.controllers.clear();\n\n    this.logger.info('InputManager cleaned up');\n  }\n\n  /**\n   * Update the manager\n   */\n  update(deltaTime) {\n    if (!this.isEnabled) return;\n\n    // Update gamepad state\n    this.updateGamepadState();\n\n    // Update accessibility features\n    this.updateAccessibilityFeatures();\n\n    // Process input events\n    this.processInputEvents();\n  }\n\n  /**\n   * Initialize input mappings\n   */\n  initializeInputMappings() {\n    // Keyboard mappings\n    this.keyMappings.set('moveUp', ['KeyW', 'ArrowUp']);\n    this.keyMappings.set('moveDown', ['KeyS', 'ArrowDown']);\n    this.keyMappings.set('moveLeft', ['KeyA', 'ArrowLeft']);\n    this.keyMappings.set('moveRight', ['KeyD', 'ArrowRight']);\n    this.keyMappings.set('jump', ['Space']);\n    this.keyMappings.set('crouch', ['KeyC', 'ShiftLeft']);\n    this.keyMappings.set('run', ['ShiftLeft']);\n    this.keyMappings.set('interact', ['KeyE', 'Enter']);\n    this.keyMappings.set('pause', ['Escape', 'KeyP']);\n    this.keyMappings.set('inventory', ['KeyI', 'Tab']);\n    this.keyMappings.set('menu', ['Escape', 'KeyM']);\n    this.keyMappings.set('confirm', ['Enter', 'Space']);\n    this.keyMappings.set('cancel', ['Escape', 'Backspace']);\n    this.keyMappings.set('next', ['Tab', 'ArrowDown']);\n    this.keyMappings.set('previous', ['ShiftLeft+Tab', 'ArrowUp']);\n\n    // Mouse mappings\n    this.mouseMappings.set('leftClick', 0);\n    this.mouseMappings.set('rightClick', 2);\n    this.mouseMappings.set('middleClick', 1);\n    this.mouseMappings.set('scrollUp', 'wheelUp');\n    this.mouseMappings.set('scrollDown', 'wheelDown');\n\n    // Gamepad mappings\n    this.gamepadMappings.set('moveUp', 'dpadUp');\n    this.gamepadMappings.set('moveDown', 'dpadDown');\n    this.gamepadMappings.set('moveLeft', 'dpadLeft');\n    this.gamepadMappings.set('moveRight', 'dpadRight');\n    this.gamepadMappings.set('jump', 'buttonA');\n    this.gamepadMappings.set('interact', 'buttonX');\n    this.gamepadMappings.set('pause', 'buttonStart');\n    this.gamepadMappings.set('menu', 'buttonSelect');\n    this.gamepadMappings.set('confirm', 'buttonA');\n    this.gamepadMappings.set('cancel', 'buttonB');\n\n    // Touch mappings\n    this.touchMappings.set('tap', 'tap');\n    this.touchMappings.set('doubleTap', 'doubleTap');\n    this.touchMappings.set('longPress', 'longPress');\n    this.touchMappings.set('swipe', 'swipe');\n    this.touchMappings.set('pinch', 'pinch');\n    this.touchMappings.set('rotate', 'rotate');\n  }\n\n  /**\n   * Set up event handlers\n   */\n  setupEventHandlers() {\n    // Keyboard events\n    this.boundHandlers.set('keydown', this.handleKeyDown.bind(this));\n    this.boundHandlers.set('keyup', this.handleKeyUp.bind(this));\n    this.boundHandlers.set('keypress', this.handleKeyPress.bind(this));\n\n    // Mouse events\n    this.boundHandlers.set('mousedown', this.handleMouseDown.bind(this));\n    this.boundHandlers.set('mouseup', this.handleMouseUp.bind(this));\n    this.boundHandlers.set('mousemove', this.handleMouseMove.bind(this));\n    this.boundHandlers.set('wheel', this.handleWheel.bind(this));\n    this.boundHandlers.set('contextmenu', this.handleContextMenu.bind(this));\n\n    // Touch events\n    this.boundHandlers.set('touchstart', this.handleTouchStart.bind(this));\n    this.boundHandlers.set('touchend', this.handleTouchEnd.bind(this));\n    this.boundHandlers.set('touchmove', this.handleTouchMove.bind(this));\n    this.boundHandlers.set('touchcancel', this.handleTouchCancel.bind(this));\n\n    // Gamepad events\n    this.boundHandlers.set(\n      'gamepadconnected',\n      this.handleGamepadConnected.bind(this)\n    );\n    this.boundHandlers.set(\n      'gamepaddisconnected',\n      this.handleGamepadDisconnected.bind(this)\n    );\n\n    // Focus events\n    this.boundHandlers.set('focusin', this.handleFocusIn.bind(this));\n    this.boundHandlers.set('focusout', this.handleFocusOut.bind(this));\n\n    // Add event listeners\n    this.addEventListeners();\n  }\n\n  /**\n   * Add event listeners\n   */\n  addEventListeners() {\n    for (const [event, handler] of this.boundHandlers) {\n      document.addEventListener(event, handler, { passive: false });\n    }\n  }\n\n  /**\n   * Remove event handlers\n   */\n  removeEventHandlers() {\n    for (const [event, handler] of this.boundHandlers) {\n      document.removeEventListener(event, handler);\n    }\n    this.boundHandlers.clear();\n  }\n\n  /**\n   * Set up accessibility features\n   */\n  setupAccessibility() {\n    // Set up keyboard navigation\n    if (this.settings.enableKeyboardNavigation) {\n      this.accessibility.keyboardNavigation = true;\n    }\n\n    // Set up focus management\n    this.setupFocusManagement();\n  }\n\n  /**\n   * Set up focus management\n   */\n  setupFocusManagement() {\n    // Find all focusable elements\n    this.updateFocusableElements();\n\n    // Set up tab order\n    this.updateTabOrder();\n\n    // Set up skip links\n    this.setupSkipLinks();\n  }\n\n  /**\n   * Update focusable elements\n   */\n  updateFocusableElements() {\n    this.accessibility.focusableElements.clear();\n\n    const focusableSelectors = [\n      'button:not([disabled])',\n      'input:not([disabled])',\n      'select:not([disabled])',\n      'textarea:not([disabled])',\n      'a[href]',\n      '[tabindex]:not([tabindex=\"-1\"])',\n      '[role=\"button\"]:not([disabled])',\n      '[role=\"link\"]',\n      '[role=\"menuitem\"]',\n      '[role=\"tab\"]',\n      '[role=\"option\"]',\n    ];\n\n    const elements = document.querySelectorAll(focusableSelectors.join(', '));\n    elements.forEach((element) => {\n      this.accessibility.focusableElements.add(element);\n    });\n  }\n\n  /**\n   * Update tab order\n   */\n  updateTabOrder() {\n    this.accessibility.tabOrder = Array.from(\n      this.accessibility.focusableElements\n    ).sort((a, b) => {\n      const aTabIndex = parseInt(a.getAttribute('tabindex') || '0');\n      const bTabIndex = parseInt(b.getAttribute('tabindex') || '0');\n      return aTabIndex - bTabIndex;\n    });\n  }\n\n  /**\n   * Set up skip links\n   */\n  setupSkipLinks() {\n    // Create skip links for accessibility\n    const skipLinks = [\n      { id: 'skip-main', text: 'Skip to main content', target: 'main' },\n      { id: 'skip-nav', text: 'Skip to navigation', target: 'nav' },\n      { id: 'skip-content', text: 'Skip to content', target: 'content' },\n    ];\n\n    skipLinks.forEach((link) => {\n      this.accessibility.skipLinks.set(link.id, link);\n    });\n  }\n\n  /**\n   * Set up mobile controls\n   */\n  setupMobileControls() {\n    if (!this.settings.enableTouch || !this.settings.mobileControls.enabled) {\n      return;\n    }\n\n    // Skip mobile controls setup in test environments\n    if (typeof window !== 'undefined' && window.navigator && window.navigator.userAgent.includes('jsdom')) {\n      this.logger.info('Skipping mobile controls setup in test environment');\n      return;\n    }\n\n    // Detect mobile device\n    this.detectMobileDevice();\n\n    // Create mobile UI elements\n    this.createMobileUI();\n\n    // Set up orientation handling\n    this.setupOrientationHandling();\n\n    // Set up gesture recognition\n    this.setupGestureRecognition();\n\n    this.logger.info('Mobile controls initialized');\n  }\n\n  /**\n   * Detect mobile device\n   */\n  detectMobileDevice() {\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    \n    this.isMobile = isMobile || isTouch;\n    \n    if (this.isMobile) {\n      this.logger.info('Mobile device detected');\n    }\n  }\n\n  /**\n   * Create mobile UI elements\n   */\n  createMobileUI() {\n    if (!this.isMobile) return;\n\n    // Create mobile controls container\n    this.mobileControlsContainer = document.createElement('div');\n    this.mobileControlsContainer.id = 'mobile-controls';\n    this.mobileControlsContainer.className = 'mobile-controls';\n    this.mobileControlsContainer.style.cssText = `\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      height: 200px;\n      pointer-events: none;\n      z-index: 1000;\n      display: ${this.settings.mobileControls.enabled ? 'block' : 'none'};\n    `;\n    \n    // Ensure the element is properly initialized\n    if (!this.mobileControlsContainer.nodeType) {\n      this.mobileControlsContainer = null;\n      return;\n    }\n\n    // Create virtual joystick\n    if (this.settings.mobileUI.showVirtualJoystick) {\n      this.createVirtualJoystick();\n    }\n\n    // Create action buttons\n    if (this.settings.mobileUI.showActionButtons) {\n      this.createActionButtons();\n    }\n\n    // Create menu button\n    if (this.settings.mobileUI.showMenuButton) {\n      this.createMenuButton();\n    }\n\n    // Create pause button\n    if (this.settings.mobileUI.showPauseButton) {\n      this.createPauseButton();\n    }\n\n    if (document.body) {\n      document.body.appendChild(this.mobileControlsContainer);\n    }\n  }\n\n  /**\n   * Create virtual joystick\n   */\n  createVirtualJoystick() {\n    const joystickContainer = document.createElement('div');\n    joystickContainer.className = 'virtual-joystick';\n    joystickContainer.style.cssText = `\n      position: absolute;\n      left: 20px;\n      bottom: 20px;\n      width: ${this.settings.mobileUI.joystickSize}px;\n      height: ${this.settings.mobileUI.joystickSize}px;\n      pointer-events: auto;\n    `;\n\n    const joystickBase = document.createElement('div');\n    joystickBase.className = 'joystick-base';\n    joystickBase.style.cssText = `\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n      border: 2px solid rgba(0, 0, 0, 0.3);\n      position: relative;\n    `;\n\n    const joystickKnob = document.createElement('div');\n    joystickKnob.className = 'joystick-knob';\n    joystickKnob.style.cssText = `\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      background: rgba(0, 0, 0, 0.5);\n      transform: translate(-50%, -50%);\n      transition: transform 0.1s ease;\n    `;\n\n    joystickBase.appendChild(joystickKnob);\n    joystickContainer.appendChild(joystickBase);\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(joystickContainer);\n    }\n\n    // Store references\n    this.mobileUI.virtualJoystick.element = joystickContainer;\n    this.mobileUI.virtualJoystick.base = joystickBase;\n    this.mobileUI.virtualJoystick.knob = joystickKnob;\n    this.mobileUI.virtualJoystick.center = {\n      x: this.settings.mobileUI.joystickSize / 2,\n      y: this.settings.mobileUI.joystickSize / 2,\n    };\n  }\n\n  /**\n   * Create action buttons\n   */\n  createActionButtons() {\n    const buttonContainer = document.createElement('div');\n    buttonContainer.className = 'action-buttons';\n    buttonContainer.style.cssText = `\n      position: absolute;\n      right: 20px;\n      bottom: 20px;\n      display: flex;\n      flex-direction: column;\n      gap: ${this.settings.mobileUI.buttonSpacing}px;\n      pointer-events: auto;\n    `;\n\n    const buttons = [\n      { id: 'jump', label: 'Jump', key: 'Space' },\n      { id: 'interact', label: 'Interact', key: 'KeyE' },\n      { id: 'crouch', label: 'Crouch', key: 'KeyC' },\n      { id: 'run', label: 'Run', key: 'ShiftLeft' },\n    ];\n\n    buttons.forEach((button) => {\n      const buttonElement = document.createElement('button');\n      buttonElement.className = `action-button ${button.id}`;\n      buttonElement.textContent = this.settings.mobileControls.showLabels ? button.label : '';\n      buttonElement.style.cssText = `\n        width: ${this.settings.mobileUI.buttonSize}px;\n        height: ${this.settings.mobileUI.buttonSize}px;\n        border-radius: 50%;\n        background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n        border: 2px solid rgba(0, 0, 0, 0.3);\n        color: #000;\n        font-size: 12px;\n        font-weight: bold;\n        cursor: pointer;\n        user-select: none;\n        transition: transform 0.1s ease;\n      `;\n\n      // Add touch event handlers\n      buttonElement.addEventListener('touchstart', (e) => {\n        e.preventDefault();\n        this.handleMobileButtonPress(button.id, button.key, 'down');\n        buttonElement.style.transform = `scale(${this.settings.mobileUI.buttonPressScale})`;\n      });\n\n      buttonElement.addEventListener('touchend', (e) => {\n        e.preventDefault();\n        this.handleMobileButtonPress(button.id, button.key, 'up');\n        buttonElement.style.transform = 'scale(1)';\n      });\n\n      buttonContainer.appendChild(buttonElement);\n      this.mobileUI.actionButtons.set(button.id, buttonElement);\n    });\n\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(buttonContainer);\n    }\n  }\n\n  /**\n   * Create menu button\n   */\n  createMenuButton() {\n    const menuButton = document.createElement('button');\n    menuButton.className = 'menu-button';\n    menuButton.innerHTML = '';\n    menuButton.style.cssText = `\n      position: absolute;\n      top: 20px;\n      right: 20px;\n      width: ${this.settings.mobileUI.buttonSize}px;\n      height: ${this.settings.mobileUI.buttonSize}px;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n      border: 2px solid rgba(0, 0, 0, 0.3);\n      color: #000;\n      font-size: 20px;\n      cursor: pointer;\n      pointer-events: auto;\n      user-select: none;\n    `;\n\n    menuButton.addEventListener('touchstart', (e) => {\n      e.preventDefault();\n      this.handleMobileButtonPress('menu', 'KeyM', 'down');\n    });\n\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(menuButton);\n    }\n  }\n\n  /**\n   * Create pause button\n   */\n  createPauseButton() {\n    const pauseButton = document.createElement('button');\n    pauseButton.className = 'pause-button';\n    pauseButton.innerHTML = '';\n    pauseButton.style.cssText = `\n      position: absolute;\n      top: 20px;\n      left: 20px;\n      width: ${this.settings.mobileUI.buttonSize}px;\n      height: ${this.settings.mobileUI.buttonSize}px;\n      border-radius: 50%;\n      background: rgba(255, 255, 255, ${this.settings.mobileUI.buttonOpacity});\n      border: 2px solid rgba(0, 0, 0, 0.3);\n      color: #000;\n      font-size: 20px;\n      cursor: pointer;\n      pointer-events: auto;\n      user-select: none;\n    `;\n\n    pauseButton.addEventListener('touchstart', (e) => {\n      e.preventDefault();\n      this.handleMobileButtonPress('pause', 'Escape', 'down');\n    });\n\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.appendChild(pauseButton);\n    }\n  }\n\n  /**\n   * Set up orientation handling\n   */\n  setupOrientationHandling() {\n    const updateOrientation = () => {\n      const isPortrait = window.innerHeight > window.innerWidth;\n      this.mobileUI.orientation = isPortrait ? 'portrait' : 'landscape';\n      \n      // Adjust mobile controls for orientation\n      this.adjustMobileControlsForOrientation();\n    };\n\n    window.addEventListener('orientationchange', updateOrientation);\n    window.addEventListener('resize', updateOrientation);\n    updateOrientation();\n  }\n\n  /**\n   * Adjust mobile controls for orientation\n   */\n  adjustMobileControlsForOrientation() {\n    if (!this.mobileControlsContainer) return;\n\n    if (this.mobileUI.orientation === 'landscape') {\n      // Adjust for landscape mode\n      this.mobileControlsContainer.style.height = '150px';\n    } else {\n      // Adjust for portrait mode\n      this.mobileControlsContainer.style.height = '200px';\n    }\n  }\n\n  /**\n   * Set up gesture recognition\n   */\n  setupGestureRecognition() {\n    if (!this.settings.gestures.enableSwipe && \n        !this.settings.gestures.enablePinch && \n        !this.settings.gestures.enableRotate) {\n      return;\n    }\n\n    // This would integrate with a gesture recognition library\n    // For now, we'll implement basic gesture detection\n    this.setupBasicGestureDetection();\n  }\n\n  /**\n   * Set up basic gesture detection\n   */\n  setupBasicGestureDetection() {\n    let startTouches = [];\n    let startDistance = 0;\n    let startAngle = 0;\n\n    const handleTouchStart = (e) => {\n      startTouches = Array.from(e.touches);\n      if (startTouches.length === 2) {\n        startDistance = this.getDistance(startTouches[0], startTouches[1]);\n        startAngle = this.getAngle(startTouches[0], startTouches[1]);\n      }\n    };\n\n    const handleTouchMove = (e) => {\n      if (e.touches.length === 2 && this.settings.gestures.enablePinch) {\n        const currentDistance = this.getDistance(e.touches[0], e.touches[1]);\n        const scale = currentDistance / startDistance;\n        \n        if (Math.abs(scale - 1) > this.settings.gestures.pinchThreshold) {\n          this.handlePinchGesture(scale);\n        }\n      }\n\n      if (e.touches.length === 2 && this.settings.gestures.enableRotate) {\n        const currentAngle = this.getAngle(e.touches[0], e.touches[1]);\n        const rotation = currentAngle - startAngle;\n        \n        if (Math.abs(rotation) > this.settings.gestures.rotateThreshold) {\n          this.handleRotateGesture(rotation);\n        }\n      }\n    };\n\n    const handleTouchEnd = (e) => {\n      if (e.touches.length === 0 && startTouches.length === 1) {\n        // Single touch ended - check for swipe\n        this.checkForSwipe(startTouches[0], e.changedTouches[0]);\n      }\n    };\n\n    document.addEventListener('touchstart', handleTouchStart, { passive: true });\n    document.addEventListener('touchmove', handleTouchMove, { passive: true });\n    document.addEventListener('touchend', handleTouchEnd, { passive: true });\n  }\n\n  /**\n   * Handle keyboard down events\n   */\n  handleKeyDown(event) {\n    if (!this.isEnabled) return;\n\n    const key = event.code;\n    const keyName = this.getKeyName(key);\n\n    // Update key state\n    this.keys.set(key, {\n      pressed: true,\n      timestamp: Date.now(),\n      repeat: this.keys.has(key),\n    });\n\n    // Handle accessibility features\n    if (this.accessibility.keyboardNavigation) {\n      this.handleAccessibilityKeyDown(event);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:keyDown', {\n      key,\n      keyName,\n      code: event.code,\n      keyCode: event.keyCode,\n      repeat: this.keys.get(key).repeat,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('keyboard', key, 'down', event);\n  }\n\n  /**\n   * Handle keyboard up events\n   */\n  handleKeyUp(event) {\n    if (!this.isEnabled) return;\n\n    const key = event.code;\n    const keyName = this.getKeyName(key);\n\n    // Update key state\n    this.keys.set(key, {\n      pressed: false,\n      timestamp: Date.now(),\n      repeat: false,\n    });\n\n    // Emit input event\n    this.eventBus.emit('input:keyUp', {\n      key,\n      keyName,\n      code: event.code,\n      keyCode: event.keyCode,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('keyboard', key, 'up', event);\n  }\n\n  /**\n   * Handle keyboard press events\n   */\n  handleKeyPress(event) {\n    if (!this.isEnabled) return;\n\n    const key = event.key;\n    const charCode = event.charCode;\n\n    // Emit input event\n    this.eventBus.emit('input:keyPress', {\n      key,\n      charCode,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle mouse down events\n   */\n  handleMouseDown(event) {\n    if (!this.isEnabled) return;\n\n    const button = event.button;\n    const buttonName = this.getMouseButtonName(button);\n\n    // Update mouse state\n    this.mouse.buttons.set(button, {\n      pressed: true,\n      timestamp: Date.now(),\n    });\n\n    // Update mouse position\n    this.mouse.x = event.clientX;\n    this.mouse.y = event.clientY;\n\n    // Emit input event\n    this.eventBus.emit('input:mouseDown', {\n      button,\n      buttonName,\n      x: event.clientX,\n      y: event.clientY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('mouse', button, 'down', event);\n  }\n\n  /**\n   * Handle mouse up events\n   */\n  handleMouseUp(event) {\n    if (!this.isEnabled) return;\n\n    const button = event.button;\n    const buttonName = this.getMouseButtonName(button);\n\n    // Update mouse state\n    this.mouse.buttons.set(button, {\n      pressed: false,\n      timestamp: Date.now(),\n    });\n\n    // Update mouse position\n    this.mouse.x = event.clientX;\n    this.mouse.y = event.clientY;\n\n    // Emit input event\n    this.eventBus.emit('input:mouseUp', {\n      button,\n      buttonName,\n      x: event.clientX,\n      y: event.clientY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('mouse', button, 'up', event);\n  }\n\n  /**\n   * Handle mouse move events\n   */\n  handleMouseMove(event) {\n    if (!this.isEnabled) return;\n\n    // Update mouse position\n    const deltaX = event.clientX - this.mouse.x;\n    const deltaY = event.clientY - this.mouse.y;\n\n    this.mouse.x = event.clientX;\n    this.mouse.y = event.clientY;\n\n    // Apply sensitivity\n    const sensitivity = this.settings.mouseSensitivity;\n    const adjustedDeltaX = deltaX * sensitivity;\n    const adjustedDeltaY = this.settings.invertY\n      ? -deltaY * sensitivity\n      : deltaY * sensitivity;\n\n    // Emit input event\n    this.eventBus.emit('input:mouseMove', {\n      x: event.clientX,\n      y: event.clientY,\n      deltaX: adjustedDeltaX,\n      deltaY: adjustedDeltaY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle wheel events\n   */\n  handleWheel(event) {\n    if (!this.isEnabled) return;\n\n    const deltaY = event.deltaY;\n    const direction = deltaY > 0 ? 'down' : 'up';\n\n    this.mouse.wheel = deltaY;\n\n    // Emit input event\n    this.eventBus.emit('input:wheel', {\n      deltaY,\n      direction,\n      x: event.clientX,\n      y: event.clientY,\n      ctrlKey: event.ctrlKey,\n      shiftKey: event.shiftKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      timestamp: Date.now(),\n    });\n\n    // Handle mapped actions\n    this.handleMappedAction('mouse', direction, 'wheel', event);\n  }\n\n  /**\n   * Handle context menu events\n   */\n  handleContextMenu(event) {\n    if (!this.isEnabled) return;\n\n    // Prevent context menu if needed\n    if (this.isCaptured) {\n      event.preventDefault();\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:contextMenu', {\n      x: event.clientX,\n      y: event.clientY,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch start events\n   */\n  handleTouchStart(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Prevent default to avoid mouse events\n    event.preventDefault();\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      this.touch.touches.set(touch.identifier, {\n        x: touch.clientX,\n        y: touch.clientY,\n        startX: touch.clientX,\n        startY: touch.clientY,\n        startTime: Date.now(),\n        pressure: touch.force || 1.0,\n      });\n\n      // Handle mobile-specific touch events\n      if (this.isMobile) {\n        this.handleMobileTouchStart(touch, event);\n      }\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchStart', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n        pressure: touch.force || 1.0,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch end events\n   */\n  handleTouchEnd(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Prevent default\n    event.preventDefault();\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      // Handle mobile-specific touch events\n      if (this.isMobile) {\n        this.handleMobileTouchEnd(touch, event);\n      }\n\n      this.touch.touches.delete(touch.identifier);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchEnd', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch move events\n   */\n  handleTouchMove(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Prevent default to avoid scrolling\n    event.preventDefault();\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      if (this.touch.touches.has(touch.identifier)) {\n        const touchData = this.touch.touches.get(touch.identifier);\n        touchData.x = touch.clientX;\n        touchData.y = touch.clientY;\n\n        // Handle mobile-specific touch events\n        if (this.isMobile) {\n          this.handleMobileTouchMove(touch, event);\n        }\n      }\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchMove', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n        pressure: touch.force || 1.0,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle touch cancel events\n   */\n  handleTouchCancel(event) {\n    if (!this.isEnabled || !this.settings.enableTouch) return;\n\n    // Update touch state\n    for (const touch of event.changedTouches) {\n      this.touch.touches.delete(touch.identifier);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:touchCancel', {\n      touches: Array.from(event.changedTouches).map((touch) => ({\n        id: touch.identifier,\n        x: touch.clientX,\n        y: touch.clientY,\n      })),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle gamepad connected events\n   */\n  handleGamepadConnected(event) {\n    if (!this.settings.enableGamepad) return;\n\n    const gamepad = event.gamepad;\n    this.gamepad.controllers.set(gamepad.index, {\n      id: gamepad.id,\n      index: gamepad.index,\n      connected: true,\n      buttons: new Map(),\n      axes: new Map(),\n    });\n\n    this.logger.info(`Gamepad connected: ${gamepad.id}`);\n\n    // Emit input event\n    this.eventBus.emit('input:gamepadConnected', {\n      id: gamepad.id,\n      index: gamepad.index,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle gamepad disconnected events\n   */\n  handleGamepadDisconnected(event) {\n    const gamepad = event.gamepad;\n    this.gamepad.controllers.delete(gamepad.index);\n\n    this.logger.info(`Gamepad disconnected: ${gamepad.id}`);\n\n    // Emit input event\n    this.eventBus.emit('input:gamepadDisconnected', {\n      id: gamepad.id,\n      index: gamepad.index,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle focus in events\n   */\n  handleFocusIn(event) {\n    if (!this.accessibility.focusManagement) return;\n\n    const element = event.target;\n    const index = this.accessibility.tabOrder.indexOf(element);\n\n    if (index !== -1) {\n      this.accessibility.currentFocusIndex = index;\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:focusIn', {\n      element,\n      index,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle focus out events\n   */\n  handleFocusOut(event) {\n    if (!this.accessibility.focusManagement) return;\n\n    const element = event.target;\n\n    // Emit input event\n    this.eventBus.emit('input:focusOut', {\n      element,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle accessibility key down events\n   */\n  handleAccessibilityKeyDown(event) {\n    const key = event.key;\n\n    switch (key) {\n      case 'Tab':\n        this.handleTabNavigation(event);\n        break;\n      case 'Enter':\n      case ' ':\n        this.handleActivation(event);\n        break;\n      case 'Escape':\n        this.handleEscape(event);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'ArrowLeft':\n      case 'ArrowRight':\n        this.handleArrowNavigation(event);\n        break;\n    }\n  }\n\n  /**\n   * Handle tab navigation\n   */\n  handleTabNavigation(event) {\n    if (this.accessibility.tabOrder.length === 0) return;\n\n    const direction = event.shiftKey ? -1 : 1;\n    const newIndex =\n      (this.accessibility.currentFocusIndex +\n        direction +\n        this.accessibility.tabOrder.length) %\n      this.accessibility.tabOrder.length;\n\n    const nextElement = this.accessibility.tabOrder[newIndex];\n    if (nextElement) {\n      nextElement.focus();\n      this.accessibility.currentFocusIndex = newIndex;\n    }\n  }\n\n  /**\n   * Handle activation\n   */\n  handleActivation(event) {\n    const element = document.activeElement;\n    if (element && element.click) {\n      element.click();\n    }\n  }\n\n  /**\n   * Handle escape key\n   */\n  handleEscape(event) {\n    // Emit escape event for game to handle\n    this.eventBus.emit('input:escape', {\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Handle arrow navigation\n   */\n  handleArrowNavigation(event) {\n    // Emit arrow navigation event\n    this.eventBus.emit('input:arrowNavigation', {\n      direction: event.key.replace('Arrow', '').toLowerCase(),\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Update gamepad state\n   */\n  updateGamepadState() {\n    if (!this.settings.enableGamepad) return;\n\n    const gamepads = navigator.getGamepads();\n\n    for (let i = 0; i < gamepads.length; i++) {\n      const gamepad = gamepads[i];\n      if (!gamepad) continue;\n\n      const controller = this.gamepad.controllers.get(i);\n      if (!controller) continue;\n\n      // Update button states\n      for (let j = 0; j < gamepad.buttons.length; j++) {\n        const button = gamepad.buttons[j];\n        const wasPressed = controller.buttons.get(j)?.pressed || false;\n        const isPressed = button.pressed;\n\n        if (isPressed !== wasPressed) {\n          controller.buttons.set(j, {\n            pressed: isPressed,\n            value: button.value,\n            timestamp: Date.now(),\n          });\n\n          // Emit button event\n          this.eventBus.emit('input:gamepadButton', {\n            controller: i,\n            button: j,\n            pressed: isPressed,\n            value: button.value,\n            timestamp: Date.now(),\n          });\n        }\n      }\n\n      // Update axis states\n      for (let j = 0; j < gamepad.axes.length; j++) {\n        const axis = gamepad.axes[j];\n        const previousAxis = controller.axes.get(j) || 0;\n\n        // Apply deadzone\n        const deadzone = this.settings.deadzone;\n        const adjustedAxis = Math.abs(axis) < deadzone ? 0 : axis;\n\n        if (Math.abs(adjustedAxis - previousAxis) > 0.01) {\n          controller.axes.set(j, adjustedAxis);\n\n          // Emit axis event\n          this.eventBus.emit('input:gamepadAxis', {\n            controller: i,\n            axis: j,\n            value: adjustedAxis,\n            timestamp: Date.now(),\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Update accessibility features\n   */\n  updateAccessibilityFeatures() {\n    // Update focusable elements if DOM has changed\n    this.updateFocusableElements();\n    this.updateTabOrder();\n  }\n\n  /**\n   * Process input events\n   */\n  processInputEvents() {\n    // Process any queued input events\n    // This could include input buffering, input prediction, etc.\n  }\n\n  /**\n   * Handle mapped actions\n   */\n  handleMappedAction(inputType, input, action, event) {\n    let mapping;\n\n    switch (inputType) {\n      case 'keyboard':\n        mapping = this.keyMappings;\n        break;\n      case 'mouse':\n        mapping = this.mouseMappings;\n        break;\n      case 'gamepad':\n        mapping = this.gamepadMappings;\n        break;\n      case 'touch':\n        mapping = this.touchMappings;\n        break;\n      default:\n        return;\n    }\n\n    // Find mapped action\n    for (const [actionName, inputs] of mapping) {\n      if (inputs.includes(input)) {\n        this.eventBus.emit('input:action', {\n          action: actionName,\n          inputType,\n          input,\n          state: action,\n          event,\n          timestamp: Date.now(),\n        });\n      }\n    }\n  }\n\n  /**\n   * Get key name from key code\n   */\n  getKeyName(keyCode) {\n    const keyNames = {\n      KeyA: 'A',\n      KeyB: 'B',\n      KeyC: 'C',\n      KeyD: 'D',\n      KeyE: 'E',\n      KeyF: 'F',\n      KeyG: 'G',\n      KeyH: 'H',\n      KeyI: 'I',\n      KeyJ: 'J',\n      KeyK: 'K',\n      KeyL: 'L',\n      KeyM: 'M',\n      KeyN: 'N',\n      KeyO: 'O',\n      KeyP: 'P',\n      KeyQ: 'Q',\n      KeyR: 'R',\n      KeyS: 'S',\n      KeyT: 'T',\n      KeyU: 'U',\n      KeyV: 'V',\n      KeyW: 'W',\n      KeyX: 'X',\n      KeyY: 'Y',\n      KeyZ: 'Z',\n      Digit0: '0',\n      Digit1: '1',\n      Digit2: '2',\n      Digit3: '3',\n      Digit4: '4',\n      Digit5: '5',\n      Digit6: '6',\n      Digit7: '7',\n      Digit8: '8',\n      Digit9: '9',\n      Space: 'Space',\n      Enter: 'Enter',\n      Escape: 'Escape',\n      Backspace: 'Backspace',\n      Tab: 'Tab',\n      ShiftLeft: 'Left Shift',\n      ShiftRight: 'Right Shift',\n      ControlLeft: 'Left Ctrl',\n      ControlRight: 'Right Ctrl',\n      AltLeft: 'Left Alt',\n      AltRight: 'Right Alt',\n      ArrowUp: 'Up Arrow',\n      ArrowDown: 'Down Arrow',\n      ArrowLeft: 'Left Arrow',\n      ArrowRight: 'Right Arrow',\n    };\n\n    return keyNames[keyCode] || keyCode;\n  }\n\n  /**\n   * Get mouse button name\n   */\n  getMouseButtonName(button) {\n    const buttonNames = {\n      0: 'Left',\n      1: 'Middle',\n      2: 'Right',\n      3: 'Back',\n      4: 'Forward',\n    };\n\n    return buttonNames[button] || `Button ${button}`;\n  }\n\n  /**\n   * Load settings from config\n   */\n  loadSettingsFromConfig() {\n    if (!this.config) return;\n\n    this.settings = {\n      ...this.settings,\n      mouseSensitivity:\n        this.config.getConfigValue('input.mouseSensitivity') ||\n        this.settings.mouseSensitivity,\n      keyboardLayout:\n        this.config.getConfigValue('input.keyboardLayout') ||\n        this.settings.keyboardLayout,\n      enableMouseLook:\n        this.config.getConfigValue('input.enableMouseLook') ??\n        this.settings.enableMouseLook,\n      enableKeyboardNavigation:\n        this.config.getConfigValue('input.enableKeyboardNavigation') ??\n        this.settings.enableKeyboardNavigation,\n      enableGamepad:\n        this.config.getConfigValue('input.enableGamepad') ??\n        this.settings.enableGamepad,\n      enableTouch:\n        this.config.getConfigValue('input.enableTouch') ??\n        this.settings.enableTouch,\n      invertY:\n        this.config.getConfigValue('input.invertY') ?? this.settings.invertY,\n      deadzone:\n        this.config.getConfigValue('input.deadzone') || this.settings.deadzone,\n    };\n  }\n\n  /**\n   * Enable input\n   */\n  enable() {\n    this.isEnabled = true;\n    this.logger.info('Input enabled');\n  }\n\n  /**\n   * Disable input\n   */\n  disable() {\n    this.isEnabled = false;\n    this.logger.info('Input disabled');\n  }\n\n  /**\n   * Capture input\n   */\n  capture() {\n    this.isCaptured = true;\n    document.body.style.cursor = 'none';\n    this.logger.info('Input captured');\n  }\n\n  /**\n   * Release input\n   */\n  release() {\n    this.isCaptured = false;\n    document.body.style.cursor = 'default';\n    this.logger.info('Input released');\n  }\n\n  /**\n   * Get input state\n   */\n  getInputState() {\n    return {\n      keyboard: Object.fromEntries(this.keys),\n      mouse: this.mouse,\n      touch: Object.fromEntries(this.touch.touches),\n      gamepad: Object.fromEntries(this.gamepad.controllers),\n      accessibility: this.accessibility,\n    };\n  }\n\n  /**\n   * Set key mapping\n   */\n  setKeyMapping(action, keys) {\n    this.keyMappings.set(action, keys);\n  }\n\n  /**\n   * Get key mapping\n   */\n  getKeyMapping(action) {\n    return this.keyMappings.get(action) || [];\n  }\n\n  /**\n   * Check if key is pressed\n   */\n  isKeyPressed(key) {\n    const keyState = this.keys.get(key);\n    return keyState ? keyState.pressed : false;\n  }\n\n  /**\n   * Check if mouse button is pressed\n   */\n  isMouseButtonPressed(button) {\n    const buttonState = this.mouse.buttons.get(button);\n    return buttonState ? buttonState.pressed : false;\n  }\n\n  /**\n   * Get mouse position\n   */\n  getMousePosition() {\n    return { x: this.mouse.x, y: this.mouse.y };\n  }\n\n  /**\n   * Get gamepad state\n   */\n  getGamepadState(index) {\n    return this.gamepad.controllers.get(index);\n  }\n\n  /**\n   * Get all gamepads\n   */\n  getAllGamepads() {\n    return Array.from(this.gamepad.controllers.values());\n  }\n\n  /**\n   * Handle mobile touch start\n   */\n  handleMobileTouchStart(touch, event) {\n    // Check if touch is on virtual joystick\n    if (this.isTouchOnVirtualJoystick(touch)) {\n      this.activateVirtualJoystick(touch);\n      return;\n    }\n\n    // Check if touch is on action buttons\n    const button = this.getTouchedButton(touch);\n    if (button) {\n      this.handleMobileButtonPress(button.id, button.key, 'down');\n      return;\n    }\n\n    // Handle gesture recognition\n    this.handleGestureStart(touch, event);\n  }\n\n  /**\n   * Handle mobile touch move\n   */\n  handleMobileTouchMove(touch, event) {\n    // Update virtual joystick if active\n    if (this.mobileUI.virtualJoystick.active && \n        this.mobileUI.virtualJoystick.touchId === touch.identifier) {\n      this.updateVirtualJoystick(touch);\n    }\n\n    // Handle gesture recognition\n    this.handleGestureMove(touch, event);\n  }\n\n  /**\n   * Handle mobile touch end\n   */\n  handleMobileTouchEnd(touch, event) {\n    // Deactivate virtual joystick if it was active\n    if (this.mobileUI.virtualJoystick.active && \n        this.mobileUI.virtualJoystick.touchId === touch.identifier) {\n      this.deactivateVirtualJoystick();\n    }\n\n    // Handle gesture recognition\n    this.handleGestureEnd(touch, event);\n  }\n\n  /**\n   * Check if touch is on virtual joystick\n   */\n  isTouchOnVirtualJoystick(touch) {\n    if (!this.mobileUI.virtualJoystick.element) return false;\n\n    const rect = this.mobileUI.virtualJoystick.element.getBoundingClientRect();\n    return touch.clientX >= rect.left && \n           touch.clientX <= rect.right && \n           touch.clientY >= rect.top && \n           touch.clientY <= rect.bottom;\n  }\n\n  /**\n   * Activate virtual joystick\n   */\n  activateVirtualJoystick(touch) {\n    this.mobileUI.virtualJoystick.active = true;\n    this.mobileUI.virtualJoystick.touchId = touch.identifier;\n    \n    const rect = this.mobileUI.virtualJoystick.element.getBoundingClientRect();\n    this.mobileUI.virtualJoystick.center = {\n      x: rect.left + rect.width / 2,\n      y: rect.top + rect.height / 2,\n    };\n\n    this.logger.info('Virtual joystick activated');\n  }\n\n  /**\n   * Update virtual joystick\n   */\n  updateVirtualJoystick(touch) {\n    if (!this.mobileUI.virtualJoystick.active) return;\n\n    const center = this.mobileUI.virtualJoystick.center;\n    const deltaX = touch.clientX - center.x;\n    const deltaY = touch.clientY - center.y;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const maxDistance = this.settings.mobileUI.joystickSize / 2;\n\n    // Clamp to joystick radius\n    const clampedDistance = Math.min(distance, maxDistance);\n    const angle = Math.atan2(deltaY, deltaX);\n\n    const knobX = Math.cos(angle) * clampedDistance;\n    const knobY = Math.sin(angle) * clampedDistance;\n\n    // Update knob position\n    if (this.mobileUI.virtualJoystick.knob) {\n      this.mobileUI.virtualJoystick.knob.style.transform = \n        `translate(calc(-50% + ${knobX}px), calc(-50% + ${knobY}px))`;\n    }\n\n    // Calculate normalized values\n    const normalizedX = deltaX / maxDistance;\n    const normalizedY = deltaY / maxDistance;\n\n    // Apply deadzone\n    const deadzone = this.settings.mobileUI.joystickDeadzone;\n    const finalX = Math.abs(normalizedX) < deadzone ? 0 : normalizedX;\n    const finalY = Math.abs(normalizedY) < deadzone ? 0 : normalizedY;\n\n    // Emit joystick movement event\n    this.eventBus.emit('input:joystickMove', {\n      x: finalX,\n      y: finalY,\n      angle: angle * 180 / Math.PI,\n      distance: clampedDistance / maxDistance,\n      timestamp: Date.now(),\n    });\n\n    // Map to keyboard events for compatibility\n    this.mapJoystickToKeyboard(finalX, finalY);\n  }\n\n  /**\n   * Deactivate virtual joystick\n   */\n  deactivateVirtualJoystick() {\n    this.mobileUI.virtualJoystick.active = false;\n    this.mobileUI.virtualJoystick.touchId = null;\n\n    // Reset knob position\n    if (this.mobileUI.virtualJoystick.knob) {\n      this.mobileUI.virtualJoystick.knob.style.transform = 'translate(-50%, -50%)';\n    }\n\n    // Emit joystick release event\n    this.eventBus.emit('input:joystickRelease', {\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('Virtual joystick deactivated');\n  }\n\n  /**\n   * Map joystick movement to keyboard events\n   */\n  mapJoystickToKeyboard(x, y) {\n    const threshold = 0.3;\n\n    // Horizontal movement\n    if (x > threshold) {\n      this.handleMappedAction('keyboard', 'KeyD', 'down', { synthetic: true });\n    } else if (x < -threshold) {\n      this.handleMappedAction('keyboard', 'KeyA', 'down', { synthetic: true });\n    }\n\n    // Vertical movement\n    if (y > threshold) {\n      this.handleMappedAction('keyboard', 'KeyS', 'down', { synthetic: true });\n    } else if (y < -threshold) {\n      this.handleMappedAction('keyboard', 'KeyW', 'down', { synthetic: true });\n    }\n  }\n\n  /**\n   * Get touched button\n   */\n  getTouchedButton(touch) {\n    for (const [id, button] of this.mobileUI.actionButtons) {\n      const rect = button.getBoundingClientRect();\n      if (touch.clientX >= rect.left && \n          touch.clientX <= rect.right && \n          touch.clientY >= rect.top && \n          touch.clientY <= rect.bottom) {\n        return { id, key: this.getButtonKey(id) };\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Get button key mapping\n   */\n  getButtonKey(buttonId) {\n    const keyMap = {\n      jump: 'Space',\n      interact: 'KeyE',\n      crouch: 'KeyC',\n      run: 'ShiftLeft',\n      menu: 'KeyM',\n      pause: 'Escape',\n    };\n    return keyMap[buttonId] || null;\n  }\n\n  /**\n   * Handle mobile button press\n   */\n  handleMobileButtonPress(buttonId, key, action) {\n    // Emit haptic feedback if enabled\n    if (this.settings.mobileControls.hapticFeedback && navigator.vibrate) {\n      navigator.vibrate(50);\n    }\n\n    // Emit input event\n    this.eventBus.emit('input:mobileButton', {\n      buttonId,\n      key,\n      action,\n      timestamp: Date.now(),\n    });\n\n    // Map to keyboard event for compatibility\n    if (key) {\n      this.handleMappedAction('keyboard', key, action, { synthetic: true });\n    }\n\n    this.logger.info(`Mobile button ${action}: ${buttonId}`);\n  }\n\n  /**\n   * Handle gesture start\n   */\n  handleGestureStart(touch, event) {\n    const currentTime = Date.now();\n    \n    // Check for double tap\n    if (this.settings.gestures.enableDoubleTap) {\n      const timeDiff = currentTime - this.touch.lastTapTime;\n      const distance = this.getDistance(touch, this.touch.lastTapPosition);\n      \n      if (timeDiff < this.settings.mobileControls.doubleTapDelay && distance < 50) {\n        this.handleDoubleTap(touch);\n        return;\n      }\n    }\n\n    // Set up long press timer\n    if (this.settings.gestures.enableLongPress) {\n      this.touch.longPressTimer = setTimeout(() => {\n        this.handleLongPress(touch);\n      }, this.settings.mobileControls.longPressDelay);\n    }\n\n    // Update last tap info\n    this.touch.lastTapTime = currentTime;\n    this.touch.lastTapPosition = { x: touch.clientX, y: touch.clientY };\n  }\n\n  /**\n   * Handle gesture move\n   */\n  handleGestureMove(touch, event) {\n    // Clear long press timer if moving\n    if (this.touch.longPressTimer) {\n      clearTimeout(this.touch.longPressTimer);\n      this.touch.longPressTimer = null;\n    }\n  }\n\n  /**\n   * Handle gesture end\n   */\n  handleGestureEnd(touch, event) {\n    // Clear long press timer\n    if (this.touch.longPressTimer) {\n      clearTimeout(this.touch.longPressTimer);\n      this.touch.longPressTimer = null;\n    }\n\n    // Check for swipe\n    if (this.settings.gestures.enableSwipe) {\n      this.checkForSwipe(touch, touch);\n    }\n  }\n\n  /**\n   * Check for swipe gesture\n   */\n  checkForSwipe(startTouch, endTouch) {\n    const deltaX = endTouch.clientX - startTouch.startX;\n    const deltaY = endTouch.clientY - startTouch.startY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    \n    if (distance < this.settings.mobileControls.swipeThreshold) {\n      return; // Not a swipe\n    }\n\n    const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\n    let direction = '';\n\n    if (angle > -45 && angle <= 45) {\n      direction = 'right';\n    } else if (angle > 45 && angle <= 135) {\n      direction = 'down';\n    } else if (angle > 135 || angle <= -135) {\n      direction = 'left';\n    } else if (angle > -135 && angle <= -45) {\n      direction = 'up';\n    }\n\n    if (this.settings.gestures.swipeDirections.includes(direction)) {\n      this.handleSwipeGesture(direction, distance);\n    }\n  }\n\n  /**\n   * Handle swipe gesture\n   */\n  handleSwipeGesture(direction, distance) {\n    this.eventBus.emit('input:swipe', {\n      direction,\n      distance,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info(`Swipe detected: ${direction}`);\n  }\n\n  /**\n   * Handle pinch gesture\n   */\n  handlePinchGesture(scale) {\n    this.eventBus.emit('input:pinch', {\n      scale,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info(`Pinch detected: ${scale.toFixed(2)}`);\n  }\n\n  /**\n   * Handle rotate gesture\n   */\n  handleRotateGesture(rotation) {\n    this.eventBus.emit('input:rotate', {\n      rotation,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info(`Rotate detected: ${rotation.toFixed(2)}`);\n  }\n\n  /**\n   * Handle double tap\n   */\n  handleDoubleTap(touch) {\n    this.eventBus.emit('input:doubleTap', {\n      x: touch.clientX,\n      y: touch.clientY,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('Double tap detected');\n  }\n\n  /**\n   * Handle long press\n   */\n  handleLongPress(touch) {\n    this.eventBus.emit('input:longPress', {\n      x: touch.clientX,\n      y: touch.clientY,\n      timestamp: Date.now(),\n    });\n\n    this.logger.info('Long press detected');\n  }\n\n  /**\n   * Get distance between two touch points\n   */\n  getDistance(touch1, touch2) {\n    const dx = touch1.clientX - touch2.clientX;\n    const dy = touch1.clientY - touch2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Get angle between two touch points\n   */\n  getAngle(touch1, touch2) {\n    return Math.atan2(touch2.clientY - touch1.clientY, touch2.clientX - touch1.clientX);\n  }\n\n  /**\n   * Update mobile controls visibility\n   */\n  updateMobileControlsVisibility(visible) {\n    this.mobileUI.isVisible = visible;\n    \n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.style.display = visible ? 'block' : 'none';\n    }\n  }\n\n  /**\n   * Update mobile controls settings\n   */\n  updateMobileSettings(newSettings) {\n    this.settings.mobileControls = { ...this.settings.mobileControls, ...newSettings };\n    this.settings.gestures = { ...this.settings.gestures, ...newSettings.gestures };\n    this.settings.mobileUI = { ...this.settings.mobileUI, ...newSettings.mobileUI };\n\n    // Recreate mobile UI if needed\n    if (this.mobileControlsContainer) {\n      this.mobileControlsContainer.remove();\n      this.createMobileUI();\n    }\n\n    this.logger.info('Mobile settings updated');\n  }\n\n  /**\n   * Get mobile controls state\n   */\n  getMobileControlsState() {\n    return {\n      isMobile: this.isMobile,\n      isVisible: this.mobileUI.isVisible,\n      orientation: this.mobileUI.orientation,\n      virtualJoystick: {\n        active: this.mobileUI.virtualJoystick.active,\n        position: this.mobileUI.virtualJoystick.position,\n      },\n      settings: {\n        mobileControls: this.settings.mobileControls,\n        gestures: this.settings.gestures,\n        mobileUI: this.settings.mobileUI,\n      },\n    };\n  }\n}\n\nexport default InputManager;\n", "/**\n * MobileTesting.js - Mobile UX testing and validation utilities\n *\n * This utility provides:\n * - Mobile device detection and testing\n * - Touch gesture validation\n * - Mobile controls testing\n * - Performance testing on mobile devices\n * - Accessibility testing for mobile\n * - Mobile-specific UI validation\n */\n\nexport class MobileTesting {\n  constructor(dependencies = {}) {\n    // Dependency injection\n    this.eventBus = dependencies.eventBus;\n    this.logger = dependencies.logger;\n    this.inputManager = dependencies.inputManager;\n    this.performanceMonitor = dependencies.performanceMonitor;\n\n    // Test configuration\n    this.config = {\n      enableAutoTesting: true,\n      testInterval: 5000,\n      gestureTestTimeout: 2000,\n      performanceTestDuration: 10000,\n      enableAccessibilityTesting: true,\n      enablePerformanceTesting: true,\n      enableGestureTesting: true,\n      enableControlTesting: true,\n      ...dependencies.config,\n    };\n\n    // Test state\n    this.isTesting = false;\n    this.testResults = {\n      device: null,\n      gestures: new Map(),\n      controls: new Map(),\n      performance: null,\n      accessibility: null,\n      overall: null,\n    };\n\n    // Test listeners\n    this.testListeners = new Map();\n\n    this.logger.info('MobileTesting initialized');\n  }\n\n  /**\n   * Initialize the testing utility\n   */\n  async initialize() {\n    this.logger.info('Initializing MobileTesting...');\n\n    // Detect mobile device\n    this.detectMobileDevice();\n\n    // Set up test listeners\n    this.setupTestListeners();\n\n    // Start auto-testing if enabled\n    if (this.config.enableAutoTesting) {\n      this.startAutoTesting();\n    }\n\n    this.logger.info('MobileTesting initialized successfully');\n  }\n\n  /**\n   * Cleanup the testing utility\n   */\n  cleanup() {\n    this.logger.info('Cleaning up MobileTesting...');\n\n    // Stop auto-testing\n    this.stopAutoTesting();\n\n    // Remove test listeners\n    this.removeTestListeners();\n\n    this.logger.info('MobileTesting cleaned up');\n  }\n\n  /**\n   * Detect mobile device and capabilities\n   */\n  detectMobileDevice() {\n    const userAgent = navigator.userAgent;\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);\n    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    const isTablet = /iPad|Android/i.test(userAgent) && 'ontouchstart' in window;\n\n    this.testResults.device = {\n      isMobile,\n      isTouch,\n      isTablet,\n      userAgent,\n      screenWidth: window.screen.width,\n      screenHeight: window.screen.height,\n      viewportWidth: window.innerWidth,\n      viewportHeight: window.innerHeight,\n      pixelRatio: window.devicePixelRatio || 1,\n      orientation: window.innerHeight > window.innerWidth ? 'portrait' : 'landscape',\n      maxTouchPoints: navigator.maxTouchPoints || 0,\n      hasVibration: 'vibrate' in navigator,\n      hasHaptics: 'vibrate' in navigator,\n      hasGeolocation: 'geolocation' in navigator,\n      hasCamera: 'mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices,\n      hasAccelerometer: 'DeviceMotionEvent' in window,\n      hasGyroscope: 'DeviceOrientationEvent' in window,\n    };\n\n    this.logger.info('Mobile device detected:', this.testResults.device);\n  }\n\n  /**\n   * Set up test listeners\n   */\n  setupTestListeners() {\n    // Gesture test listeners\n    if (this.config.enableGestureTesting) {\n      this.setupGestureTestListeners();\n    }\n\n    // Control test listeners\n    if (this.config.enableControlTesting) {\n      this.setupControlTestListeners();\n    }\n\n    // Performance test listeners\n    if (this.config.enablePerformanceTesting) {\n      this.setupPerformanceTestListeners();\n    }\n\n    // Accessibility test listeners\n    if (this.config.enableAccessibilityTesting) {\n      this.setupAccessibilityTestListeners();\n    }\n  }\n\n  /**\n   * Set up gesture test listeners\n   */\n  setupGestureTestListeners() {\n    const gestureTests = [\n      { name: 'tap', test: this.testTapGesture.bind(this) },\n      { name: 'doubleTap', test: this.testDoubleTapGesture.bind(this) },\n      { name: 'longPress', test: this.testLongPressGesture.bind(this) },\n      { name: 'swipe', test: this.testSwipeGesture.bind(this) },\n      { name: 'pinch', test: this.testPinchGesture.bind(this) },\n      { name: 'rotate', test: this.testRotateGesture.bind(this) },\n    ];\n\n    gestureTests.forEach(({ name, test }) => {\n      this.testListeners.set(`gesture:${name}`, test);\n    });\n  }\n\n  /**\n   * Set up control test listeners\n   */\n  setupControlTestListeners() {\n    const controlTests = [\n      { name: 'virtualJoystick', test: this.testVirtualJoystick.bind(this) },\n      { name: 'actionButtons', test: this.testActionButtons.bind(this) },\n      { name: 'menuButton', test: this.testMenuButton.bind(this) },\n      { name: 'pauseButton', test: this.testPauseButton.bind(this) },\n    ];\n\n    controlTests.forEach(({ name, test }) => {\n      this.testListeners.set(`control:${name}`, test);\n    });\n  }\n\n  /**\n   * Set up performance test listeners\n   */\n  setupPerformanceTestListeners() {\n    this.testListeners.set('performance:test', this.testPerformance.bind(this));\n  }\n\n  /**\n   * Set up accessibility test listeners\n   */\n  setupAccessibilityTestListeners() {\n    this.testListeners.set('accessibility:test', this.testAccessibility.bind(this));\n  }\n\n  /**\n   * Remove test listeners\n   */\n  removeTestListeners() {\n    this.testListeners.clear();\n  }\n\n  /**\n   * Start auto-testing\n   */\n  startAutoTesting() {\n    if (this.isTesting) return;\n\n    this.isTesting = true;\n    this.autoTestInterval = setInterval(() => {\n      this.runAllTests();\n    }, this.config.testInterval);\n\n    this.logger.info('Auto-testing started');\n  }\n\n  /**\n   * Stop auto-testing\n   */\n  stopAutoTesting() {\n    if (!this.isTesting) return;\n\n    this.isTesting = false;\n    if (this.autoTestInterval) {\n      clearInterval(this.autoTestInterval);\n      this.autoTestInterval = null;\n    }\n\n    this.logger.info('Auto-testing stopped');\n  }\n\n  /**\n   * Run all tests\n   */\n  async runAllTests() {\n    this.logger.info('Running mobile tests...');\n\n    try {\n      // Test gestures\n      if (this.config.enableGestureTesting) {\n        await this.testAllGestures();\n      }\n\n      // Test controls\n      if (this.config.enableControlTesting) {\n        await this.testAllControls();\n      }\n\n      // Test performance\n      if (this.config.enablePerformanceTesting) {\n        await this.testPerformance();\n      }\n\n      // Test accessibility\n      if (this.config.enableAccessibilityTesting) {\n        await this.testAccessibility();\n      }\n\n      // Calculate overall score\n      this.calculateOverallScore();\n\n      // Emit test results\n      this.eventBus.emit('mobileTesting:results', this.testResults);\n\n      this.logger.info('Mobile tests completed');\n    } catch (error) {\n      this.logger.error('Error running mobile tests:', error);\n    }\n  }\n\n  /**\n   * Test all gestures\n   */\n  async testAllGestures() {\n    const gestureNames = ['tap', 'doubleTap', 'longPress', 'swipe', 'pinch', 'rotate'];\n    \n    for (const gestureName of gestureNames) {\n      try {\n        const result = await this.testGesture(gestureName);\n        this.testResults.gestures.set(gestureName, result);\n      } catch (error) {\n        this.logger.error(`Error testing gesture ${gestureName}:`, error);\n        this.testResults.gestures.set(gestureName, { success: false, error: error.message });\n      }\n    }\n  }\n\n  /**\n   * Test a specific gesture\n   */\n  async testGesture(gestureName) {\n    const testFunction = this.testListeners.get(`gesture:${gestureName}`);\n    if (!testFunction) {\n      throw new Error(`No test function found for gesture: ${gestureName}`);\n    }\n\n    return await testFunction();\n  }\n\n  /**\n   * Test tap gesture\n   */\n  async testTapGesture() {\n    return new Promise((resolve) => {\n      let tapDetected = false;\n      let startTime = Date.now();\n\n      const handleTap = () => {\n        tapDetected = true;\n        const responseTime = Date.now() - startTime;\n        document.removeEventListener('touchstart', handleTap);\n        resolve({\n          success: true,\n          responseTime,\n          timestamp: Date.now(),\n        });\n      };\n\n      document.addEventListener('touchstart', handleTap, { once: true });\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        if (!tapDetected) {\n          document.removeEventListener('touchstart', handleTap);\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test double tap gesture\n   */\n  async testDoubleTapGesture() {\n    return new Promise((resolve) => {\n      let tapCount = 0;\n      let lastTapTime = 0;\n      let startTime = Date.now();\n\n      const handleTap = () => {\n        const currentTime = Date.now();\n        tapCount++;\n\n        if (tapCount === 1) {\n          lastTapTime = currentTime;\n        } else if (tapCount === 2) {\n          const timeDiff = currentTime - lastTapTime;\n          const success = timeDiff < 500; // Double tap within 500ms\n          \n          document.removeEventListener('touchstart', handleTap);\n          resolve({\n            success,\n            timeDiff,\n            timestamp: Date.now(),\n          });\n        }\n      };\n\n      document.addEventListener('touchstart', handleTap);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTap);\n        resolve({\n          success: false,\n          error: 'Timeout',\n          timestamp: Date.now(),\n        });\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test long press gesture\n   */\n  async testLongPressGesture() {\n    return new Promise((resolve) => {\n      let longPressDetected = false;\n      let startTime = Date.now();\n\n      const handleTouchStart = () => {\n        startTime = Date.now();\n      };\n\n      const handleTouchEnd = () => {\n        const duration = Date.now() - startTime;\n        const success = duration >= 500; // Long press >= 500ms\n        \n        if (success) {\n          longPressDetected = true;\n          resolve({\n            success: true,\n            duration,\n            timestamp: Date.now(),\n          });\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchend', handleTouchEnd);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchend', handleTouchEnd);\n        \n        if (!longPressDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test swipe gesture\n   */\n  async testSwipeGesture() {\n    return new Promise((resolve) => {\n      let swipeDetected = false;\n      let startTouch = null;\n\n      const handleTouchStart = (e) => {\n        startTouch = e.touches[0];\n      };\n\n      const handleTouchEnd = (e) => {\n        if (!startTouch) return;\n\n        const endTouch = e.changedTouches[0];\n        const deltaX = endTouch.clientX - startTouch.clientX;\n        const deltaY = endTouch.clientY - startTouch.clientY;\n        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n        \n        const success = distance >= 50; // Swipe distance >= 50px\n        \n        if (success) {\n          swipeDetected = true;\n          resolve({\n            success: true,\n            distance,\n            direction: Math.atan2(deltaY, deltaX) * 180 / Math.PI,\n            timestamp: Date.now(),\n          });\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchend', handleTouchEnd);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchend', handleTouchEnd);\n        \n        if (!swipeDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test pinch gesture\n   */\n  async testPinchGesture() {\n    return new Promise((resolve) => {\n      let pinchDetected = false;\n      let startTouches = [];\n\n      const handleTouchStart = (e) => {\n        if (e.touches.length === 2) {\n          startTouches = Array.from(e.touches);\n        }\n      };\n\n      const handleTouchMove = (e) => {\n        if (e.touches.length === 2 && startTouches.length === 2) {\n          const currentTouches = Array.from(e.touches);\n          const startDistance = this.getDistance(startTouches[0], startTouches[1]);\n          const currentDistance = this.getDistance(currentTouches[0], currentTouches[1]);\n          const scale = currentDistance / startDistance;\n          \n          if (Math.abs(scale - 1) > 0.1) { // Pinch threshold\n            pinchDetected = true;\n            resolve({\n              success: true,\n              scale,\n              timestamp: Date.now(),\n            });\n          }\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchmove', handleTouchMove);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchmove', handleTouchMove);\n        \n        if (!pinchDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test rotate gesture\n   */\n  async testRotateGesture() {\n    return new Promise((resolve) => {\n      let rotateDetected = false;\n      let startTouches = [];\n\n      const handleTouchStart = (e) => {\n        if (e.touches.length === 2) {\n          startTouches = Array.from(e.touches);\n        }\n      };\n\n      const handleTouchMove = (e) => {\n        if (e.touches.length === 2 && startTouches.length === 2) {\n          const currentTouches = Array.from(e.touches);\n          const startAngle = this.getAngle(startTouches[0], startTouches[1]);\n          const currentAngle = this.getAngle(currentTouches[0], currentTouches[1]);\n          const rotation = currentAngle - startAngle;\n          \n          if (Math.abs(rotation) > 0.1) { // Rotation threshold\n            rotateDetected = true;\n            resolve({\n              success: true,\n              rotation: rotation * 180 / Math.PI,\n              timestamp: Date.now(),\n            });\n          }\n        }\n      };\n\n      document.addEventListener('touchstart', handleTouchStart);\n      document.addEventListener('touchmove', handleTouchMove);\n\n      // Timeout after 2 seconds\n      setTimeout(() => {\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchmove', handleTouchMove);\n        \n        if (!rotateDetected) {\n          resolve({\n            success: false,\n            error: 'Timeout',\n            timestamp: Date.now(),\n          });\n        }\n      }, this.config.gestureTestTimeout);\n    });\n  }\n\n  /**\n   * Test all controls\n   */\n  async testAllControls() {\n    const controlNames = ['virtualJoystick', 'actionButtons', 'menuButton', 'pauseButton'];\n    \n    for (const controlName of controlNames) {\n      try {\n        const result = await this.testControl(controlName);\n        this.testResults.controls.set(controlName, result);\n      } catch (error) {\n        this.logger.error(`Error testing control ${controlName}:`, error);\n        this.testResults.controls.set(controlName, { success: false, error: error.message });\n      }\n    }\n  }\n\n  /**\n   * Test a specific control\n   */\n  async testControl(controlName) {\n    const testFunction = this.testListeners.get(`control:${controlName}`);\n    if (!testFunction) {\n      throw new Error(`No test function found for control: ${controlName}`);\n    }\n\n    return await testFunction();\n  }\n\n  /**\n   * Test virtual joystick\n   */\n  async testVirtualJoystick() {\n    if (!this.inputManager || !this.inputManager.mobileUI.virtualJoystick.element) {\n      return {\n        success: false,\n        error: 'Virtual joystick not available',\n        timestamp: Date.now(),\n      };\n    }\n\n    const joystick = this.inputManager.mobileUI.virtualJoystick;\n    const rect = joystick.element.getBoundingClientRect();\n    \n    return {\n      success: true,\n      position: {\n        x: rect.left,\n        y: rect.top,\n        width: rect.width,\n        height: rect.height,\n      },\n      active: joystick.active,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test action buttons\n   */\n  async testActionButtons() {\n    if (!this.inputManager || !this.inputManager.mobileUI.actionButtons) {\n      return {\n        success: false,\n        error: 'Action buttons not available',\n        timestamp: Date.now(),\n      };\n    }\n\n    const buttons = Array.from(this.inputManager.mobileUI.actionButtons.entries()).map(([id, button]) => {\n      const rect = button.getBoundingClientRect();\n      return {\n        id,\n        position: {\n          x: rect.left,\n          y: rect.top,\n          width: rect.width,\n          height: rect.height,\n        },\n        visible: button.offsetParent !== null,\n      };\n    });\n\n    return {\n      success: true,\n      buttons,\n      count: buttons.length,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test menu button\n   */\n  async testMenuButton() {\n    const menuButton = document.querySelector('.menu-button');\n    \n    if (!menuButton) {\n      return {\n        success: false,\n        error: 'Menu button not found',\n        timestamp: Date.now(),\n      };\n    }\n\n    const rect = menuButton.getBoundingClientRect();\n    \n    return {\n      success: true,\n      position: {\n        x: rect.left,\n        y: rect.top,\n        width: rect.width,\n        height: rect.height,\n      },\n      visible: menuButton.offsetParent !== null,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test pause button\n   */\n  async testPauseButton() {\n    const pauseButton = document.querySelector('.pause-button');\n    \n    if (!pauseButton) {\n      return {\n        success: false,\n        error: 'Pause button not found',\n        timestamp: Date.now(),\n      };\n    }\n\n    const rect = pauseButton.getBoundingClientRect();\n    \n    return {\n      success: true,\n      position: {\n        x: rect.left,\n        y: rect.top,\n        width: rect.width,\n        height: rect.height,\n      },\n      visible: pauseButton.offsetParent !== null,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Test performance\n   */\n  async testPerformance() {\n    if (!this.performanceMonitor) {\n      return {\n        success: false,\n        error: 'Performance monitor not available',\n        timestamp: Date.now(),\n      };\n    }\n\n    const metrics = this.performanceMonitor.getMetrics();\n    const score = this.performanceMonitor.getPerformanceScore();\n    \n    this.testResults.performance = {\n      success: true,\n      score,\n      metrics: {\n        fps: metrics.fps.current,\n        frameTime: metrics.frameTime.current,\n        memory: metrics.memory.used,\n        audio: metrics.audio.contextState,\n      },\n      timestamp: Date.now(),\n    };\n\n    return this.testResults.performance;\n  }\n\n  /**\n   * Test accessibility\n   */\n  async testAccessibility() {\n    const accessibilityTests = [\n      this.testScreenReaderSupport(),\n      this.testKeyboardNavigation(),\n      this.testHighContrast(),\n      this.testTextScaling(),\n    ];\n\n    const results = await Promise.all(accessibilityTests);\n    \n    this.testResults.accessibility = {\n      success: true,\n      tests: results,\n      overallScore: results.reduce((sum, test) => sum + (test.success ? 1 : 0), 0) / results.length,\n      timestamp: Date.now(),\n    };\n\n    return this.testResults.accessibility;\n  }\n\n  /**\n   * Test screen reader support\n   */\n  async testScreenReaderSupport() {\n    const hasScreenReader = 'speechSynthesis' in window;\n    const hasAriaSupport = document.querySelector('[aria-label]') !== null;\n    \n    return {\n      name: 'screenReader',\n      success: hasScreenReader && hasAriaSupport,\n      details: {\n        hasScreenReader,\n        hasAriaSupport,\n      },\n    };\n  }\n\n  /**\n   * Test keyboard navigation\n   */\n  async testKeyboardNavigation() {\n    const focusableElements = document.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n    \n    return {\n      name: 'keyboardNavigation',\n      success: focusableElements.length > 0,\n      details: {\n        focusableElements: focusableElements.length,\n      },\n    };\n  }\n\n  /**\n   * Test high contrast\n   */\n  async testHighContrast() {\n    const hasHighContrast = document.documentElement.classList.contains('high-contrast');\n    \n    return {\n      name: 'highContrast',\n      success: true, // Always available\n      details: {\n        enabled: hasHighContrast,\n      },\n    };\n  }\n\n  /**\n   * Test text scaling\n   */\n  async testTextScaling() {\n    const textScale = getComputedStyle(document.documentElement).getPropertyValue('--text-scale') || '1';\n    \n    return {\n      name: 'textScaling',\n      success: true, // Always available\n      details: {\n        scale: parseFloat(textScale),\n      },\n    };\n  }\n\n  /**\n   * Calculate overall score\n   */\n  calculateOverallScore() {\n    let totalScore = 0;\n    let testCount = 0;\n\n    // Device score (always 1 if mobile detected)\n    if (this.testResults.device?.isMobile) {\n      totalScore += 1;\n      testCount += 1;\n    }\n\n    // Gesture scores\n    for (const [name, result] of this.testResults.gestures) {\n      totalScore += result.success ? 1 : 0;\n      testCount += 1;\n    }\n\n    // Control scores\n    for (const [name, result] of this.testResults.controls) {\n      totalScore += result.success ? 1 : 0;\n      testCount += 1;\n    }\n\n    // Performance score\n    if (this.testResults.performance) {\n      totalScore += this.testResults.performance.score / 100;\n      testCount += 1;\n    }\n\n    // Accessibility score\n    if (this.testResults.accessibility) {\n      totalScore += this.testResults.accessibility.overallScore;\n      testCount += 1;\n    }\n\n    this.testResults.overall = {\n      score: testCount > 0 ? totalScore / testCount : 0,\n      totalTests: testCount,\n      passedTests: Math.round(totalScore),\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Get distance between two touch points\n   */\n  getDistance(touch1, touch2) {\n    const dx = touch1.clientX - touch2.clientX;\n    const dy = touch1.clientY - touch2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  /**\n   * Get angle between two touch points\n   */\n  getAngle(touch1, touch2) {\n    return Math.atan2(touch2.clientY - touch1.clientY, touch2.clientX - touch1.clientX);\n  }\n\n  /**\n   * Get test results\n   */\n  getTestResults() {\n    return this.testResults;\n  }\n\n  /**\n   * Get test report\n   */\n  getTestReport() {\n    return {\n      device: this.testResults.device,\n      gestures: Object.fromEntries(this.testResults.gestures),\n      controls: Object.fromEntries(this.testResults.controls),\n      performance: this.testResults.performance,\n      accessibility: this.testResults.accessibility,\n      overall: this.testResults.overall,\n      timestamp: Date.now(),\n    };\n  }\n\n  /**\n   * Export test results\n   */\n  exportTestResults() {\n    return JSON.stringify(this.getTestReport(), null, 2);\n  }\n\n  /**\n   * Update test configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n  }\n}\n\nexport default MobileTesting;", "/**\n * SettingsUI.js - Settings user interface component\n * \n * Provides a comprehensive settings interface with proper UI-to-system contracts\n * for managing game settings, audio preferences, and accessibility options.\n */\n\nimport { EventBus } from '../core/EventBus.js';\nimport { Logger } from '../utils/Logger.js';\n\nexport class SettingsUI {\n  constructor(config = {}) {\n    // Validate required dependencies\n    if (!config.eventBus || !(config.eventBus instanceof EventBus)) {\n      throw new Error('SettingsUI: eventBus is required and must be an EventBus instance');\n    }\n    if (!config.logger || !(config.logger instanceof Logger)) {\n      throw new Error('SettingsUI: logger is required and must be a Logger instance');\n    }\n\n    this.eventBus = config.eventBus;\n    this.logger = config.logger;\n    this.container = config.container || document.body;\n    this.isVisible = false;\n    this.settings = this.getDefaultSettings();\n    \n    // Bind methods\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.updateSetting = this.updateSetting.bind(this);\n    this.resetToDefaults = this.resetToDefaults.bind(this);\n    this.saveSettings = this.saveSettings.bind(this);\n    this.loadSettings = this.loadSettings.bind(this);\n\n    // Initialize UI\n    this.initializeUI();\n    this.setupEventListeners();\n    this.loadSettings();\n\n    this.logger.info('SettingsUI initialized');\n  }\n\n  /**\n   * Get default settings configuration\n   */\n  getDefaultSettings() {\n    return {\n      // Audio settings\n      audio: {\n        masterVolume: 1.0,\n        musicVolume: 0.8,\n        sfxVolume: 0.9,\n        muteAll: false,\n        muteMusic: false,\n        muteSfx: false\n      },\n      // Graphics settings\n      graphics: {\n        quality: 'high', // low, medium, high, ultra\n        fullscreen: false,\n        vsync: true,\n        particleEffects: true,\n        shadows: true,\n        antiAliasing: true\n      },\n      // Gameplay settings\n      gameplay: {\n        difficulty: 'normal', // easy, normal, hard, expert\n        autoSave: true,\n        autoPause: true,\n        showFPS: false,\n        showDebugInfo: false,\n        tutorialEnabled: true\n      },\n      // Accessibility settings\n      accessibility: {\n        highContrast: false,\n        largeText: false,\n        screenReader: false,\n        colorBlindMode: 'none', // none, protanopia, deuteranopia, tritanopia\n        reducedMotion: false,\n        keyboardNavigation: true\n      },\n      // Controls settings\n      controls: {\n        keyBindings: this.getDefaultKeyBindings(),\n        mouseSensitivity: 1.0,\n        invertY: false,\n        autoAim: false\n      }\n    };\n  }\n\n  /**\n   * Get default key bindings\n   */\n  getDefaultKeyBindings() {\n    return {\n      moveUp: 'KeyW',\n      moveDown: 'KeyS',\n      moveLeft: 'KeyA',\n      moveRight: 'KeyD',\n      jump: 'Space',\n      action: 'KeyE',\n      pause: 'Escape',\n      inventory: 'KeyI',\n      map: 'KeyM',\n      chat: 'KeyT'\n    };\n  }\n\n  /**\n   * Initialize the settings UI DOM structure\n   */\n  initializeUI() {\n    // Create main settings container\n    this.settingsContainer = document.createElement('div');\n    this.settingsContainer.className = 'settings-container';\n    this.settingsContainer.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      display: none;\n      z-index: 1000;\n      overflow-y: auto;\n    `;\n\n    // Create settings panel\n    this.settingsPanel = document.createElement('div');\n    this.settingsPanel.className = 'settings-panel';\n    this.settingsPanel.style.cssText = `\n      position: relative;\n      max-width: 800px;\n      margin: 2rem auto;\n      background: #1a1a1a;\n      border-radius: 8px;\n      padding: 2rem;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n    `;\n\n    // Create header\n    this.createHeader();\n    \n    // Create settings sections\n    this.createAudioSection();\n    this.createGraphicsSection();\n    this.createGameplaySection();\n    this.createAccessibilitySection();\n    this.createControlsSection();\n    \n    // Create footer with action buttons\n    this.createFooter();\n\n    this.settingsContainer.appendChild(this.settingsPanel);\n    this.container.appendChild(this.settingsContainer);\n  }\n\n  /**\n   * Create settings header\n   */\n  createHeader() {\n    const header = document.createElement('div');\n    header.className = 'settings-header';\n    header.style.cssText = `\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 2rem;\n      padding-bottom: 1rem;\n      border-bottom: 1px solid #333;\n    `;\n\n    const title = document.createElement('h2');\n    title.textContent = 'Game Settings';\n    title.style.cssText = `\n      color: #fff;\n      margin: 0;\n      font-size: 1.5rem;\n    `;\n\n    const closeButton = document.createElement('button');\n    closeButton.textContent = '';\n    closeButton.className = 'settings-close';\n    closeButton.style.cssText = `\n      background: none;\n      border: none;\n      color: #fff;\n      font-size: 2rem;\n      cursor: pointer;\n      padding: 0;\n      width: 40px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    `;\n    closeButton.addEventListener('click', this.hide);\n\n    header.appendChild(title);\n    header.appendChild(closeButton);\n    this.settingsPanel.appendChild(header);\n  }\n\n  /**\n   * Create audio settings section\n   */\n  createAudioSection() {\n    const section = this.createSection('Audio Settings', 'audio');\n    \n    // Master volume\n    this.createSliderControl(section, 'Master Volume', 'audio.masterVolume', 0, 1, 0.1);\n    \n    // Music volume\n    this.createSliderControl(section, 'Music Volume', 'audio.musicVolume', 0, 1, 0.1);\n    \n    // SFX volume\n    this.createSliderControl(section, 'SFX Volume', 'audio.sfxVolume', 0, 1, 0.1);\n    \n    // Mute options\n    this.createCheckboxControl(section, 'Mute All', 'audio.muteAll');\n    this.createCheckboxControl(section, 'Mute Music', 'audio.muteMusic');\n    this.createCheckboxControl(section, 'Mute SFX', 'audio.muteSfx');\n  }\n\n  /**\n   * Create graphics settings section\n   */\n  createGraphicsSection() {\n    const section = this.createSection('Graphics Settings', 'graphics');\n    \n    // Quality preset\n    this.createSelectControl(section, 'Quality Preset', 'graphics.quality', [\n      { value: 'low', label: 'Low' },\n      { value: 'medium', label: 'Medium' },\n      { value: 'high', label: 'High' },\n      { value: 'ultra', label: 'Ultra' }\n    ]);\n    \n    // Graphics options\n    this.createCheckboxControl(section, 'Fullscreen', 'graphics.fullscreen');\n    this.createCheckboxControl(section, 'VSync', 'graphics.vsync');\n    this.createCheckboxControl(section, 'Particle Effects', 'graphics.particleEffects');\n    this.createCheckboxControl(section, 'Shadows', 'graphics.shadows');\n    this.createCheckboxControl(section, 'Anti-Aliasing', 'graphics.antiAliasing');\n  }\n\n  /**\n   * Create gameplay settings section\n   */\n  createGameplaySection() {\n    const section = this.createSection('Gameplay Settings', 'gameplay');\n    \n    // Difficulty\n    this.createSelectControl(section, 'Difficulty', 'gameplay.difficulty', [\n      { value: 'easy', label: 'Easy' },\n      { value: 'normal', label: 'Normal' },\n      { value: 'hard', label: 'Hard' },\n      { value: 'expert', label: 'Expert' }\n    ]);\n    \n    // Gameplay options\n    this.createCheckboxControl(section, 'Auto Save', 'gameplay.autoSave');\n    this.createCheckboxControl(section, 'Auto Pause', 'gameplay.autoPause');\n    this.createCheckboxControl(section, 'Show FPS', 'gameplay.showFPS');\n    this.createCheckboxControl(section, 'Show Debug Info', 'gameplay.showDebugInfo');\n    this.createCheckboxControl(section, 'Tutorial Enabled', 'gameplay.tutorialEnabled');\n  }\n\n  /**\n   * Create accessibility settings section\n   */\n  createAccessibilitySection() {\n    const section = this.createSection('Accessibility Settings', 'accessibility');\n    \n    // Accessibility options\n    this.createCheckboxControl(section, 'High Contrast', 'accessibility.highContrast');\n    this.createCheckboxControl(section, 'Large Text', 'accessibility.largeText');\n    this.createCheckboxControl(section, 'Screen Reader Support', 'accessibility.screenReader');\n    this.createCheckboxControl(section, 'Reduced Motion', 'accessibility.reducedMotion');\n    this.createCheckboxControl(section, 'Keyboard Navigation', 'accessibility.keyboardNavigation');\n    \n    // Color blind mode\n    this.createSelectControl(section, 'Color Blind Mode', 'accessibility.colorBlindMode', [\n      { value: 'none', label: 'None' },\n      { value: 'protanopia', label: 'Protanopia' },\n      { value: 'deuteranopia', label: 'Deuteranopia' },\n      { value: 'tritanopia', label: 'Tritanopia' }\n    ]);\n  }\n\n  /**\n   * Create controls settings section\n   */\n  createControlsSection() {\n    const section = this.createSection('Controls Settings', 'controls');\n    \n    // Mouse sensitivity\n    this.createSliderControl(section, 'Mouse Sensitivity', 'controls.mouseSensitivity', 0.1, 3.0, 0.1);\n    \n    // Control options\n    this.createCheckboxControl(section, 'Invert Y Axis', 'controls.invertY');\n    this.createCheckboxControl(section, 'Auto Aim', 'controls.autoAim');\n    \n    // Key bindings (simplified for now)\n    const keyBindingsDiv = document.createElement('div');\n    keyBindingsDiv.innerHTML = '<h4>Key Bindings</h4><p>Key binding customization coming soon...</p>';\n    section.appendChild(keyBindingsDiv);\n  }\n\n  /**\n   * Create a settings section container\n   */\n  createSection(title, id) {\n    const section = document.createElement('div');\n    section.className = `settings-section settings-section-${id}`;\n    section.style.cssText = `\n      margin-bottom: 2rem;\n      padding: 1rem;\n      background: #2a2a2a;\n      border-radius: 4px;\n    `;\n\n    const sectionTitle = document.createElement('h3');\n    sectionTitle.textContent = title;\n    sectionTitle.style.cssText = `\n      color: #fff;\n      margin: 0 0 1rem 0;\n      font-size: 1.2rem;\n    `;\n\n    section.appendChild(sectionTitle);\n    this.settingsPanel.appendChild(section);\n    return section;\n  }\n\n  /**\n   * Create a slider control\n   */\n  createSliderControl(container, label, settingPath, min, max, step) {\n    const controlDiv = document.createElement('div');\n    controlDiv.className = 'settings-control';\n    controlDiv.style.cssText = `\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 1rem;\n    `;\n\n    const labelEl = document.createElement('label');\n    labelEl.textContent = label;\n    labelEl.style.cssText = `\n      color: #fff;\n      margin-right: 1rem;\n      min-width: 150px;\n    `;\n\n    const slider = document.createElement('input');\n    slider.type = 'range';\n    slider.min = min;\n    slider.max = max;\n    slider.step = step;\n    slider.value = this.getSettingValue(settingPath);\n    slider.style.cssText = `\n      flex: 1;\n      margin-right: 1rem;\n    `;\n\n    const valueDisplay = document.createElement('span');\n    valueDisplay.textContent = slider.value;\n    valueDisplay.style.cssText = `\n      color: #fff;\n      min-width: 50px;\n      text-align: right;\n    `;\n\n    slider.addEventListener('input', (e) => {\n      valueDisplay.textContent = e.target.value;\n      this.updateSetting(settingPath, parseFloat(e.target.value));\n    });\n\n    controlDiv.appendChild(labelEl);\n    controlDiv.appendChild(slider);\n    controlDiv.appendChild(valueDisplay);\n    container.appendChild(controlDiv);\n  }\n\n  /**\n   * Create a checkbox control\n   */\n  createCheckboxControl(container, label, settingPath) {\n    const controlDiv = document.createElement('div');\n    controlDiv.className = 'settings-control';\n    controlDiv.style.cssText = `\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 1rem;\n    `;\n\n    const labelEl = document.createElement('label');\n    labelEl.textContent = label;\n    labelEl.style.cssText = `\n      color: #fff;\n      margin-right: 1rem;\n      flex: 1;\n    `;\n\n    const checkbox = document.createElement('input');\n    checkbox.type = 'checkbox';\n    checkbox.checked = this.getSettingValue(settingPath);\n    checkbox.style.cssText = `\n      width: 20px;\n      height: 20px;\n    `;\n\n    checkbox.addEventListener('change', (e) => {\n      this.updateSetting(settingPath, e.target.checked);\n    });\n\n    controlDiv.appendChild(labelEl);\n    controlDiv.appendChild(checkbox);\n    container.appendChild(controlDiv);\n  }\n\n  /**\n   * Create a select control\n   */\n  createSelectControl(container, label, settingPath, options) {\n    const controlDiv = document.createElement('div');\n    controlDiv.className = 'settings-control';\n    controlDiv.style.cssText = `\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 1rem;\n    `;\n\n    const labelEl = document.createElement('label');\n    labelEl.textContent = label;\n    labelEl.style.cssText = `\n      color: #fff;\n      margin-right: 1rem;\n      min-width: 150px;\n    `;\n\n    const select = document.createElement('select');\n    select.value = this.getSettingValue(settingPath);\n    select.style.cssText = `\n      flex: 1;\n      padding: 0.5rem;\n      background: #333;\n      color: #fff;\n      border: 1px solid #555;\n      border-radius: 4px;\n    `;\n\n    options.forEach(option => {\n      const optionEl = document.createElement('option');\n      optionEl.value = option.value;\n      optionEl.textContent = option.label;\n      select.appendChild(optionEl);\n    });\n\n    select.addEventListener('change', (e) => {\n      this.updateSetting(settingPath, e.target.value);\n    });\n\n    controlDiv.appendChild(labelEl);\n    controlDiv.appendChild(select);\n    container.appendChild(controlDiv);\n  }\n\n  /**\n   * Create footer with action buttons\n   */\n  createFooter() {\n    const footer = document.createElement('div');\n    footer.className = 'settings-footer';\n    footer.style.cssText = `\n      display: flex;\n      justify-content: space-between;\n      margin-top: 2rem;\n      padding-top: 1rem;\n      border-top: 1px solid #333;\n    `;\n\n    const resetButton = document.createElement('button');\n    resetButton.textContent = 'Reset to Defaults';\n    resetButton.className = 'settings-reset';\n    resetButton.style.cssText = `\n      background: #666;\n      color: #fff;\n      border: none;\n      padding: 0.75rem 1.5rem;\n      border-radius: 4px;\n      cursor: pointer;\n    `;\n    resetButton.addEventListener('click', this.resetToDefaults);\n\n    const buttonGroup = document.createElement('div');\n    buttonGroup.style.cssText = `\n      display: flex;\n      gap: 1rem;\n    `;\n\n    const cancelButton = document.createElement('button');\n    cancelButton.textContent = 'Cancel';\n    cancelButton.className = 'settings-cancel';\n    cancelButton.style.cssText = `\n      background: #666;\n      color: #fff;\n      border: none;\n      padding: 0.75rem 1.5rem;\n      border-radius: 4px;\n      cursor: pointer;\n    `;\n    cancelButton.addEventListener('click', this.hide);\n\n    const saveButton = document.createElement('button');\n    saveButton.textContent = 'Save Settings';\n    saveButton.className = 'settings-save';\n    saveButton.style.cssText = `\n      background: #4CAF50;\n      color: #fff;\n      border: none;\n      padding: 0.75rem 1.5rem;\n      border-radius: 4px;\n      cursor: pointer;\n    `;\n    saveButton.addEventListener('click', this.saveSettings);\n\n    buttonGroup.appendChild(cancelButton);\n    buttonGroup.appendChild(saveButton);\n    footer.appendChild(resetButton);\n    footer.appendChild(buttonGroup);\n    this.settingsPanel.appendChild(footer);\n  }\n\n  /**\n   * Set up event listeners\n   */\n  setupEventListeners() {\n    // Close on escape key\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape' && this.isVisible) {\n        this.hide();\n      }\n    });\n\n    // Close on backdrop click\n    this.settingsContainer.addEventListener('click', (e) => {\n      if (e.target === this.settingsContainer) {\n        this.hide();\n      }\n    });\n  }\n\n  /**\n   * Get setting value by path\n   */\n  getSettingValue(path) {\n    if (!path || typeof path !== 'string') {\n      return undefined;\n    }\n    \n    const keys = path.split('.');\n    let value = this.settings;\n    for (const key of keys) {\n      if (value && typeof value === 'object' && key in value) {\n        value = value[key];\n      } else {\n        return undefined;\n      }\n    }\n    return value;\n  }\n\n  /**\n   * Update setting value by path\n   */\n  updateSetting(path, value) {\n    const keys = path.split('.');\n    let target = this.settings;\n    for (let i = 0; i < keys.length - 1; i++) {\n      target = target[keys[i]];\n    }\n    target[keys[keys.length - 1]] = value;\n\n    // Emit setting change event\n    this.eventBus.emit('settings:changed', {\n      path,\n      value,\n      settings: this.settings\n    });\n\n    this.logger.debug(`Setting updated: ${path} = ${value}`);\n  }\n\n  /**\n   * Show settings UI\n   */\n  show() {\n    this.settingsContainer.style.display = 'block';\n    this.isVisible = true;\n    this.eventBus.emit('settings:opened');\n    this.logger.info('Settings UI opened');\n  }\n\n  /**\n   * Hide settings UI\n   */\n  hide() {\n    this.settingsContainer.style.display = 'none';\n    this.isVisible = false;\n    this.eventBus.emit('settings:closed');\n    this.logger.info('Settings UI closed');\n  }\n\n  /**\n   * Toggle settings UI visibility\n   */\n  toggle() {\n    if (this.isVisible) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /**\n   * Reset all settings to defaults\n   */\n  resetToDefaults() {\n    this.settings = this.getDefaultSettings();\n    this.loadSettings();\n    this.eventBus.emit('settings:reset');\n    this.logger.info('Settings reset to defaults');\n  }\n\n  /**\n   * Save settings to localStorage\n   */\n  saveSettings() {\n    try {\n      localStorage.setItem('gameSettings', JSON.stringify(this.settings));\n      this.eventBus.emit('settings:saved', this.settings);\n      this.logger.info('Settings saved successfully');\n      this.hide();\n    } catch (error) {\n      this.logger.error('Failed to save settings:', error);\n      this.eventBus.emit('settings:saveError', error);\n    }\n  }\n\n  /**\n   * Load settings from localStorage\n   */\n  loadSettings() {\n    try {\n      const saved = localStorage.getItem('gameSettings');\n      if (saved) {\n        const parsedSettings = JSON.parse(saved);\n        this.settings = this.mergeSettings(this.settings, parsedSettings);\n        this.eventBus.emit('settings:loaded', this.settings);\n        this.logger.info('Settings loaded successfully');\n      }\n    } catch (error) {\n      this.logger.error('Failed to load settings:', error);\n      this.eventBus.emit('settings:loadError', error);\n    }\n  }\n\n  /**\n   * Merge settings objects\n   */\n  mergeSettings(defaults, saved) {\n    const merged = { ...defaults };\n    for (const key in saved) {\n      if (typeof saved[key] === 'object' && !Array.isArray(saved[key])) {\n        merged[key] = this.mergeSettings(defaults[key] || {}, saved[key]);\n      } else {\n        merged[key] = saved[key];\n      }\n    }\n    return merged;\n  }\n\n  /**\n   * Get current settings\n   */\n  getSettings() {\n    return { ...this.settings };\n  }\n\n  /**\n   * Update settings programmatically\n   */\n  setSettings(newSettings) {\n    this.settings = this.mergeSettings(this.settings, newSettings);\n    this.eventBus.emit('settings:updated', this.settings);\n    this.logger.info('Settings updated programmatically');\n  }\n\n  /**\n   * Cleanup resources\n   */\n  cleanup() {\n    if (this.settingsContainer && this.settingsContainer.parentNode) {\n      this.settingsContainer.parentNode.removeChild(this.settingsContainer);\n    }\n    this.eventBus.emit('settings:cleanup');\n    this.logger.info('SettingsUI cleaned up');\n  }\n}", "/**\n * AudioSystem.js - Comprehensive audio management system\n * \n * Provides audio playback, volume control, and audio effects management\n * with proper integration with the UI system and game events.\n */\n\nimport { EventBus } from '../core/EventBus.js';\nimport { Logger } from '../utils/Logger.js';\n\nexport class AudioSystem {\n  constructor(config = {}) {\n    // Validate required dependencies\n    if (!config.eventBus || !(config.eventBus instanceof EventBus)) {\n      throw new Error('AudioSystem: eventBus is required and must be an EventBus instance');\n    }\n    if (!config.logger || !(config.logger instanceof Logger)) {\n      throw new Error('AudioSystem: logger is required and must be a Logger instance');\n    }\n\n    this.eventBus = config.eventBus;\n    this.logger = config.logger;\n    this.audioContext = null;\n    this.sounds = new Map();\n    this.music = new Map();\n    this.audioSettings = {\n      masterVolume: 1.0,\n      musicVolume: 0.8,\n      sfxVolume: 0.9,\n      muteAll: false,\n      muteMusic: false,\n      muteSfx: false\n    };\n    this.currentMusic = null;\n    this.isInitialized = false;\n\n    // Bind methods\n    this.initialize = this.initialize.bind(this);\n    this.loadSound = this.loadSound.bind(this);\n    this.loadMusic = this.loadMusic.bind(this);\n    this.playSound = this.playSound.bind(this);\n    this.playMusic = this.playMusic.bind(this);\n    this.stopMusic = this.stopMusic.bind(this);\n    this.pauseMusic = this.pauseMusic.bind(this);\n    this.resumeMusic = this.resumeMusic.bind(this);\n    this.setMasterVolume = this.setMasterVolume.bind(this);\n    this.setMusicVolume = this.setMusicVolume.bind(this);\n    this.setSfxVolume = this.setSfxVolume.bind(this);\n    this.muteAll = this.muteAll.bind(this);\n    this.unmuteAll = this.unmuteAll.bind(this);\n    this.muteMusic = this.muteMusic.bind(this);\n    this.unmuteMusic = this.unmuteMusic.bind(this);\n    this.muteSfx = this.muteSfx.bind(this);\n    this.unmuteSfx = this.unmuteSfx.bind(this);\n    this.cleanup = this.cleanup.bind(this);\n\n    this.logger.info('AudioSystem initialized');\n  }\n\n  /**\n   * Initialize the audio system\n   */\n  async initialize() {\n    try {\n      // Create audio context\n      this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      \n      // Resume audio context if suspended (required for some browsers)\n      if (this.audioContext.state === 'suspended') {\n        await this.audioContext.resume();\n      }\n\n      // Set up event listeners\n      this.setupEventListeners();\n\n      // Load default audio assets\n      await this.loadDefaultAssets();\n\n      this.isInitialized = true;\n      this.eventBus.emit('audio:initialized');\n      this.logger.info('AudioSystem initialized successfully');\n    } catch (error) {\n      this.logger.error('Failed to initialize AudioSystem:', error);\n      this.eventBus.emit('audio:initializationError', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Set up event listeners for audio-related events\n   */\n  setupEventListeners() {\n    // Settings changes\n    this.eventBus.on('settings:changed', (data) => {\n      this.handleSettingsChange(data);\n    });\n\n    // Game events that trigger sounds\n    this.eventBus.on('player:jump', () => {\n      this.playSound('jump');\n    });\n\n    this.eventBus.on('player:collect', (data) => {\n      this.playSound('collect');\n    });\n\n    this.eventBus.on('player:damage', () => {\n      this.playSound('damage');\n    });\n\n    this.eventBus.on('player:death', () => {\n      this.playSound('death');\n    });\n\n    this.eventBus.on('game:levelComplete', () => {\n      this.playSound('levelComplete');\n    });\n\n    this.eventBus.on('game:gameOver', () => {\n      this.playSound('gameOver');\n    });\n\n    this.eventBus.on('achievement:unlocked', () => {\n      this.playSound('achievement');\n    });\n\n    // Window events\n    window.addEventListener('beforeunload', this.cleanup);\n    document.addEventListener('visibilitychange', () => {\n      if (document.hidden) {\n        this.pauseMusic();\n      } else {\n        this.resumeMusic();\n      }\n    });\n  }\n\n  /**\n   * Handle settings changes\n   */\n  handleSettingsChange(data) {\n    const { path, value } = data;\n    \n    switch (path) {\n      case 'audio.masterVolume':\n        this.setMasterVolume(value);\n        break;\n      case 'audio.musicVolume':\n        this.setMusicVolume(value);\n        break;\n      case 'audio.sfxVolume':\n        this.setSfxVolume(value);\n        break;\n      case 'audio.muteAll':\n        if (value) {\n          this.muteAll();\n        } else {\n          this.unmuteAll();\n        }\n        break;\n      case 'audio.muteMusic':\n        if (value) {\n          this.muteMusic();\n        } else {\n          this.unmuteMusic();\n        }\n        break;\n      case 'audio.muteSfx':\n        if (value) {\n          this.muteSfx();\n        } else {\n          this.unmuteSfx();\n        }\n        break;\n    }\n  }\n\n  /**\n   * Load default audio assets\n   */\n  async loadDefaultAssets() {\n    const defaultSounds = [\n      'jump',\n      'collect',\n      'damage',\n      'death',\n      'levelComplete',\n      'gameOver',\n      'achievement',\n      'buttonClick',\n      'buttonHover',\n      'error'\n    ];\n\n    const defaultMusic = [\n      'mainTheme',\n      'menuTheme',\n      'gameplayTheme',\n      'victoryTheme'\n    ];\n\n    // Load sounds (using placeholder data URLs for demo)\n    for (const soundName of defaultSounds) {\n      await this.loadSound(soundName, this.generatePlaceholderAudio(soundName));\n    }\n\n    // Load music\n    for (const musicName of defaultMusic) {\n      await this.loadMusic(musicName, this.generatePlaceholderAudio(musicName, true));\n    }\n\n    this.logger.info('Default audio assets loaded');\n  }\n\n  /**\n   * Generate placeholder audio data URL for demo purposes\n   */\n  generatePlaceholderAudio(name, isMusic = false) {\n    // In a real implementation, this would load actual audio files\n    // For demo purposes, we'll create a simple data URL\n    const duration = isMusic ? 30 : 1; // 30 seconds for music, 1 second for sounds\n    const sampleRate = 44100;\n    const samples = sampleRate * duration;\n    const buffer = new ArrayBuffer(44 + samples * 2);\n    const view = new DataView(buffer);\n    \n    // WAV header\n    const writeString = (offset, string) => {\n      for (let i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n      }\n    };\n    \n    writeString(0, 'RIFF');\n    view.setUint32(4, 36 + samples * 2, true);\n    writeString(8, 'WAVE');\n    writeString(12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, 1, true);\n    view.setUint16(22, 1, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, sampleRate * 2, true);\n    view.setUint16(32, 2, true);\n    view.setUint16(34, 16, true);\n    writeString(36, 'data');\n    view.setUint32(40, samples * 2, true);\n    \n    // Generate simple sine wave\n    for (let i = 0; i < samples; i++) {\n      const sample = Math.sin(2 * Math.PI * 440 * i / sampleRate) * 0.1; // 440Hz tone\n      view.setInt16(44 + i * 2, sample * 32767, true);\n    }\n    \n    const blob = new Blob([buffer], { type: 'audio/wav' });\n    return URL.createObjectURL(blob);\n  }\n\n  /**\n   * Load a sound effect\n   */\n  async loadSound(name, url) {\n    try {\n      const audio = new Audio(url);\n      audio.preload = 'auto';\n      audio.volume = this.audioSettings.sfxVolume * this.audioSettings.masterVolume;\n      \n      await new Promise((resolve, reject) => {\n        audio.addEventListener('canplaythrough', resolve);\n        audio.addEventListener('error', reject);\n      });\n      \n      this.sounds.set(name, audio);\n      this.logger.debug(`Sound loaded: ${name}`);\n    } catch (error) {\n      this.logger.error(`Failed to load sound ${name}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Load background music\n   */\n  async loadMusic(name, url) {\n    try {\n      const audio = new Audio(url);\n      audio.preload = 'auto';\n      audio.loop = true;\n      audio.volume = this.audioSettings.musicVolume * this.audioSettings.masterVolume;\n      \n      await new Promise((resolve, reject) => {\n        audio.addEventListener('canplaythrough', resolve);\n        audio.addEventListener('error', reject);\n      });\n      \n      this.music.set(name, audio);\n      this.logger.debug(`Music loaded: ${name}`);\n    } catch (error) {\n      this.logger.error(`Failed to load music ${name}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * Play a sound effect\n   */\n  playSound(name, volume = 1.0) {\n    if (!this.isInitialized) {\n      this.logger.warn('AudioSystem not initialized, cannot play sound');\n      return;\n    }\n\n    if (this.audioSettings.muteAll || this.audioSettings.muteSfx) {\n      return;\n    }\n\n    const sound = this.sounds.get(name);\n    if (!sound) {\n      this.logger.warn(`Sound not found: ${name}`);\n      return;\n    }\n\n    try {\n      // Clone the audio to allow overlapping sounds\n      const soundClone = sound.cloneNode();\n      soundClone.volume = sound.volume * volume;\n      soundClone.play();\n      \n      this.eventBus.emit('audio:soundPlayed', { name, volume });\n      this.logger.debug(`Playing sound: ${name}`);\n    } catch (error) {\n      this.logger.error(`Failed to play sound ${name}:`, error);\n    }\n  }\n\n  /**\n   * Play background music\n   */\n  playMusic(name, fadeIn = true) {\n    if (!this.isInitialized) {\n      this.logger.warn('AudioSystem not initialized, cannot play music');\n      return;\n    }\n\n    if (this.audioSettings.muteAll || this.audioSettings.muteMusic) {\n      return;\n    }\n\n    const music = this.music.get(name);\n    if (!music) {\n      this.logger.warn(`Music not found: ${name}`);\n      return;\n    }\n\n    try {\n      // Stop current music if playing\n      if (this.currentMusic && this.currentMusic !== music) {\n        this.stopMusic();\n      }\n\n      this.currentMusic = music;\n      \n      if (fadeIn) {\n        music.volume = 0;\n        music.play();\n        this.fadeIn(music);\n      } else {\n        music.play();\n      }\n      \n      this.eventBus.emit('audio:musicStarted', { name });\n      this.logger.debug(`Playing music: ${name}`);\n    } catch (error) {\n      this.logger.error(`Failed to play music ${name}:`, error);\n    }\n  }\n\n  /**\n   * Stop current music\n   */\n  stopMusic() {\n    if (this.currentMusic) {\n      this.currentMusic.pause();\n      this.currentMusic.currentTime = 0;\n      this.eventBus.emit('audio:musicStopped');\n      this.logger.debug('Music stopped');\n    }\n  }\n\n  /**\n   * Pause current music\n   */\n  pauseMusic() {\n    if (this.currentMusic && !this.currentMusic.paused) {\n      this.currentMusic.pause();\n      this.eventBus.emit('audio:musicPaused');\n      this.logger.debug('Music paused');\n    }\n  }\n\n  /**\n   * Resume current music\n   */\n  resumeMusic() {\n    if (this.currentMusic && this.currentMusic.paused) {\n      this.currentMusic.play();\n      this.eventBus.emit('audio:musicResumed');\n      this.logger.debug('Music resumed');\n    }\n  }\n\n  /**\n   * Fade in audio\n   */\n  fadeIn(audio, duration = 2000) {\n    const startTime = Date.now();\n    const startVolume = audio.volume;\n    const targetVolume = this.audioSettings.musicVolume * this.audioSettings.masterVolume;\n    \n    const fade = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      audio.volume = startVolume + (targetVolume - startVolume) * progress;\n      \n      if (progress < 1) {\n        requestAnimationFrame(fade);\n      }\n    };\n    \n    fade();\n  }\n\n  /**\n   * Fade out audio\n   */\n  fadeOut(audio, duration = 2000) {\n    const startTime = Date.now();\n    const startVolume = audio.volume;\n    \n    const fade = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      audio.volume = startVolume * (1 - progress);\n      \n      if (progress < 1) {\n        requestAnimationFrame(fade);\n      } else {\n        audio.pause();\n        audio.currentTime = 0;\n      }\n    };\n    \n    fade();\n  }\n\n  /**\n   * Set master volume\n   */\n  setMasterVolume(volume) {\n    this.audioSettings.masterVolume = Math.max(0, Math.min(1, volume));\n    this.updateAllVolumes();\n    this.eventBus.emit('audio:masterVolumeChanged', this.audioSettings.masterVolume);\n    this.logger.debug(`Master volume set to: ${this.audioSettings.masterVolume}`);\n  }\n\n  /**\n   * Set music volume\n   */\n  setMusicVolume(volume) {\n    this.audioSettings.musicVolume = Math.max(0, Math.min(1, volume));\n    this.updateMusicVolumes();\n    this.eventBus.emit('audio:musicVolumeChanged', this.audioSettings.musicVolume);\n    this.logger.debug(`Music volume set to: ${this.audioSettings.musicVolume}`);\n  }\n\n  /**\n   * Set SFX volume\n   */\n  setSfxVolume(volume) {\n    this.audioSettings.sfxVolume = Math.max(0, Math.min(1, volume));\n    this.updateSfxVolumes();\n    this.eventBus.emit('audio:sfxVolumeChanged', this.audioSettings.sfxVolume);\n    this.logger.debug(`SFX volume set to: ${this.audioSettings.sfxVolume}`);\n  }\n\n  /**\n   * Update all audio volumes\n   */\n  updateAllVolumes() {\n    this.updateMusicVolumes();\n    this.updateSfxVolumes();\n  }\n\n  /**\n   * Update music volumes\n   */\n  updateMusicVolumes() {\n    const volume = this.audioSettings.musicVolume * this.audioSettings.masterVolume;\n    for (const music of this.music.values()) {\n      music.volume = volume;\n    }\n  }\n\n  /**\n   * Update SFX volumes\n   */\n  updateSfxVolumes() {\n    const volume = this.audioSettings.sfxVolume * this.audioSettings.masterVolume;\n    for (const sound of this.sounds.values()) {\n      sound.volume = volume;\n    }\n  }\n\n  /**\n   * Mute all audio\n   */\n  muteAll() {\n    this.audioSettings.muteAll = true;\n    this.updateAllVolumes();\n    this.eventBus.emit('audio:muted', { type: 'all' });\n    this.logger.debug('All audio muted');\n  }\n\n  /**\n   * Unmute all audio\n   */\n  unmuteAll() {\n    this.audioSettings.muteAll = false;\n    this.updateAllVolumes();\n    this.eventBus.emit('audio:unmuted', { type: 'all' });\n    this.logger.debug('All audio unmuted');\n  }\n\n  /**\n   * Mute music only\n   */\n  muteMusic() {\n    this.audioSettings.muteMusic = true;\n    this.updateMusicVolumes();\n    this.eventBus.emit('audio:muted', { type: 'music' });\n    this.logger.debug('Music muted');\n  }\n\n  /**\n   * Unmute music only\n   */\n  unmuteMusic() {\n    this.audioSettings.muteMusic = false;\n    this.updateMusicVolumes();\n    this.eventBus.emit('audio:unmuted', { type: 'music' });\n    this.logger.debug('Music unmuted');\n  }\n\n  /**\n   * Mute SFX only\n   */\n  muteSfx() {\n    this.audioSettings.muteSfx = true;\n    this.updateSfxVolumes();\n    this.eventBus.emit('audio:muted', { type: 'sfx' });\n    this.logger.debug('SFX muted');\n  }\n\n  /**\n   * Unmute SFX only\n   */\n  unmuteSfx() {\n    this.audioSettings.muteSfx = false;\n    this.updateSfxVolumes();\n    this.eventBus.emit('audio:unmuted', { type: 'sfx' });\n    this.logger.debug('SFX unmuted');\n  }\n\n  /**\n   * Get current audio settings\n   */\n  getAudioSettings() {\n    return { ...this.audioSettings };\n  }\n\n  /**\n   * Set audio settings\n   */\n  setAudioSettings(settings) {\n    this.audioSettings = { ...this.audioSettings, ...settings };\n    this.updateAllVolumes();\n    this.eventBus.emit('audio:settingsChanged', this.audioSettings);\n    this.logger.debug('Audio settings updated');\n  }\n\n  /**\n   * Get list of loaded sounds\n   */\n  getLoadedSounds() {\n    return Array.from(this.sounds.keys());\n  }\n\n  /**\n   * Get list of loaded music\n   */\n  getLoadedMusic() {\n    return Array.from(this.music.keys());\n  }\n\n  /**\n   * Check if audio is playing\n   */\n  isPlaying(name, type = 'sound') {\n    const audio = type === 'music' ? this.music.get(name) : this.sounds.get(name);\n    return audio && !audio.paused;\n  }\n\n  /**\n   * Cleanup resources\n   */\n  cleanup() {\n    // Stop all audio\n    this.stopMusic();\n    \n    // Clean up audio context\n    if (this.audioContext) {\n      this.audioContext.close();\n    }\n    \n    // Clear audio maps\n    this.sounds.clear();\n    this.music.clear();\n    \n    this.eventBus.emit('audio:cleanup');\n    this.logger.info('AudioSystem cleaned up');\n  }\n}", "/**\n * GameRefactored.js - Main game controller with cross-cutting features integration\n *\n * This file serves as the central orchestrator for the game, integrating:\n * - Core gameplay mechanics\n * - Achievements system\n * - Daily challenges\n * - Accessibility features\n * - Modular component architecture with dependency injection\n */\n\nimport { GameManager } from './managers/GameManager.js';\nimport { AchievementManager } from './managers/AchievementManager.js';\nimport { DailyChallengeManager } from './managers/DailyChallengeManager.js';\nimport { AccessibilityManager } from './managers/AccessibilityManager.js';\nimport { EventBus } from './core/EventBus.js';\nimport { Logger } from './utils/Logger.js';\nimport { PerformanceMonitor } from './core/PerformanceMonitor.js';\nimport { InputManager } from './core/InputManager.js';\nimport { MobileTesting } from './utils/MobileTesting.js';\nimport { SettingsUI } from './ui/SettingsUI.js';\nimport { AudioSystem } from './systems/AudioSystem.js';\n\nexport class GameRefactored {\n  constructor(config = {}) {\n    // Validate and normalize config\n    this.config = this.validateConfig({\n      debug: false,\n      enableAchievements: true,\n      enableDailyChallenges: true,\n      enableAccessibility: true,\n      ...config,\n    });\n\n    // Assert config validation\n    if (typeof this.config.debug !== 'boolean') {\n      throw new Error('GameRefactored: config.debug must be a boolean');\n    }\n    if (typeof this.config.enableAchievements !== 'boolean') {\n      throw new Error(\n        'GameRefactored: config.enableAchievements must be a boolean'\n      );\n    }\n    if (typeof this.config.enableDailyChallenges !== 'boolean') {\n      throw new Error(\n        'GameRefactored: config.enableDailyChallenges must be a boolean'\n      );\n    }\n    if (typeof this.config.enableAccessibility !== 'boolean') {\n      throw new Error(\n        'GameRefactored: config.enableAccessibility must be a boolean'\n      );\n    }\n\n    // Core systems - with assertions\n    this.eventBus = new EventBus();\n    if (!this.eventBus || typeof this.eventBus.emit !== 'function') {\n      throw new Error('GameRefactored: EventBus initialization failed');\n    }\n\n    this.logger = new Logger(this.config.debug);\n    if (!this.logger || typeof this.logger.info !== 'function') {\n      throw new Error('GameRefactored: Logger initialization failed');\n    }\n\n    // Game state - with assertions\n    this.gameState = {\n      isRunning: false,\n      isPaused: false,\n      currentLevel: 1,\n      score: 0,\n      player: null,\n      gameObjects: [],\n      startTime: null,\n      lastUpdateTime: null,\n      activePowerUps: new Map(), // Track active power-ups\n    };\n\n    // Assert game state structure\n    if (typeof this.gameState.isRunning !== 'boolean') {\n      throw new Error('GameRefactored: gameState.isRunning must be a boolean');\n    }\n    if (\n      typeof this.gameState.currentLevel !== 'number' ||\n      this.gameState.currentLevel < 1\n    ) {\n      throw new Error(\n        'GameRefactored: gameState.currentLevel must be a positive number'\n      );\n    }\n    if (typeof this.gameState.score !== 'number' || this.gameState.score < 0) {\n      throw new Error(\n        'GameRefactored: gameState.score must be a non-negative number'\n      );\n    }\n    if (!Array.isArray(this.gameState.gameObjects)) {\n      throw new Error('GameRefactored: gameState.gameObjects must be an array');\n    }\n\n    // Manager instances (dependency injection) - with assertions\n    this.managers = {};\n    this.initializeManagers();\n\n    // Performance monitoring\n    this.performanceMonitor = new PerformanceMonitor({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    });\n\n    // Input management\n    this.inputManager = new InputManager({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    });\n\n    // Mobile testing\n    this.mobileTesting = new MobileTesting({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      inputManager: this.inputManager,\n      performanceMonitor: this.performanceMonitor,\n      config: this.config,\n    });\n\n    // UI and Audio systems\n    this.ui = {};\n    this.systems = {};\n    this.initializeUISystems();\n\n    // Assert managers were initialized\n    if (!this.managers.game) {\n      throw new Error('GameRefactored: GameManager initialization failed');\n    }\n    if (this.config.enableAchievements && !this.managers.achievements) {\n      throw new Error(\n        'GameRefactored: AchievementManager initialization failed when enabled'\n      );\n    }\n    if (this.config.enableDailyChallenges && !this.managers.dailyChallenges) {\n      throw new Error(\n        'GameRefactored: DailyChallengeManager initialization failed when enabled'\n      );\n    }\n    if (this.config.enableAccessibility && !this.managers.accessibility) {\n      throw new Error(\n        'GameRefactored: AccessibilityManager initialization failed when enabled'\n      );\n    }\n\n    // Assert UI and audio systems were initialized\n    if (!this.ui.settings) {\n      throw new Error('GameRefactored: SettingsUI initialization failed');\n    }\n    if (!this.systems.audio) {\n      throw new Error('GameRefactored: AudioSystem initialization failed');\n    }\n\n    // Bind methods - with assertions\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n\n    // Assert methods are bound correctly\n    if (typeof this.update !== 'function') {\n      throw new Error('GameRefactored: update method binding failed');\n    }\n    if (typeof this.render !== 'function') {\n      throw new Error('GameRefactored: render method binding failed');\n    }\n    if (typeof this.handleInput !== 'function') {\n      throw new Error('GameRefactored: handleInput method binding failed');\n    }\n\n    this.logger.info('GameRefactored initialized');\n  }\n\n  /**\n   * Validate and normalize configuration\n   */\n  validateConfig(config) {\n    const validatedConfig = { ...config };\n\n    // Normalize boolean values\n    validatedConfig.debug = Boolean(validatedConfig.debug);\n    validatedConfig.enableAchievements = Boolean(\n      validatedConfig.enableAchievements\n    );\n    validatedConfig.enableDailyChallenges = Boolean(\n      validatedConfig.enableDailyChallenges\n    );\n    validatedConfig.enableAccessibility = Boolean(\n      validatedConfig.enableAccessibility\n    );\n\n    return validatedConfig;\n  }\n\n  /**\n   * Initialize all game managers with dependency injection\n   */\n  initializeManagers() {\n    // Core game manager\n    this.managers.game = new GameManager({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      config: this.config,\n    });\n\n    // Cross-cutting feature managers\n    if (this.config.enableAchievements) {\n      this.managers.achievements = new AchievementManager({\n        eventBus: this.eventBus,\n        logger: this.logger,\n        gameState: () => this.gameState,\n      });\n    }\n\n    if (this.config.enableDailyChallenges) {\n      this.managers.dailyChallenges = new DailyChallengeManager({\n        eventBus: this.eventBus,\n        logger: this.logger,\n        gameState: () => this.gameState,\n      });\n    }\n\n    if (this.config.enableAccessibility) {\n      this.managers.accessibility = new AccessibilityManager({\n        eventBus: this.eventBus,\n        logger: this.logger,\n        gameState: () => this.gameState,\n      });\n    }\n\n    // Set up cross-manager communication\n    this.setupManagerCommunication();\n  }\n\n  /**\n   * Initialize UI and Audio systems\n   */\n  initializeUISystems() {\n    // Settings UI\n    this.ui.settings = new SettingsUI({\n      eventBus: this.eventBus,\n      logger: this.logger,\n      container: document.body\n    });\n\n    // Audio System\n    this.systems.audio = new AudioSystem({\n      eventBus: this.eventBus,\n      logger: this.logger\n    });\n\n    // Set up UI and audio integration\n    this.setupUIIntegration();\n  }\n\n  /**\n   * Set up UI and audio integration\n   */\n  setupUIIntegration() {\n    // Settings changes should update audio system\n    this.eventBus.on('settings:changed', (data) => {\n      if (data.path.startsWith('audio.')) {\n        // Audio settings are handled by AudioSystem directly\n        this.logger.debug(`Audio setting changed: ${data.path} = ${data.value}`);\n      }\n    });\n\n    // Game state changes should update UI\n    this.eventBus.on('game:stateChanged', (data) => {\n      if (this.ui.settings) {\n        // Update UI based on game state changes\n        this.logger.debug(`Game state changed: ${JSON.stringify(data)}`);\n      }\n    });\n  }\n\n  /**\n   * Set up communication between managers\n   */\n  setupManagerCommunication() {\n    // Game events that affect achievements\n    this.eventBus.on('player:scoreChanged', (data) => {\n      if (this.managers.achievements) {\n        this.managers.achievements.checkScoreAchievements(data.score);\n      }\n      // Update UI with score change\n      this.updateUI('score', data.score);\n    });\n\n    this.eventBus.on('player:levelCompleted', (data) => {\n      if (this.managers.achievements) {\n        this.managers.achievements.checkLevelAchievements(data.level);\n      }\n      if (this.managers.dailyChallenges) {\n        this.managers.dailyChallenges.checkLevelChallenge(data.level);\n      }\n      // Update UI with level completion\n      this.updateUI('level', data.level);\n    });\n\n    this.eventBus.on('player:itemCollected', (data) => {\n      if (this.managers.achievements) {\n        this.managers.achievements.checkCollectionAchievements(data.itemType);\n      }\n      if (this.managers.dailyChallenges) {\n        this.managers.dailyChallenges.checkCollectionChallenge(data.itemType);\n      }\n      // Update UI with item collection\n      this.updateUI('item', data.itemType);\n    });\n\n    // Accessibility events\n    this.eventBus.on('game:stateChanged', (data) => {\n      if (this.managers.accessibility) {\n        this.managers.accessibility.announceStateChange(data);\n      }\n    });\n\n    // Achievement events that affect gameplay\n    this.eventBus.on('achievement:unlocked', (data) => {\n      this.logger.info(`Achievement unlocked: ${data.name}`);\n      if (this.managers.game) {\n        this.managers.game.handleAchievementUnlock(data);\n      }\n      // Update UI with achievement\n      this.updateUI('achievement', data);\n    });\n\n    // Daily challenge events\n    this.eventBus.on('dailyChallenge:completed', (data) => {\n      this.logger.info(`Daily challenge completed: ${data.name}`);\n      if (this.managers.game) {\n        this.managers.game.handleDailyChallengeCompletion(data);\n      }\n      // Update UI with challenge completion\n      this.updateUI('challenge', data);\n    });\n\n    // Power-up events\n    this.eventBus.on('powerup:activated', (data) => {\n      this.gameState.activePowerUps.set(data.type, {\n        ...data,\n        startTime: Date.now(),\n        duration: data.duration || 10000 // 10 seconds default\n      });\n      this.updateUI('powerup', data);\n    });\n\n    this.eventBus.on('powerup:expired', (data) => {\n      this.gameState.activePowerUps.delete(data.type);\n      this.updateUI('powerupExpired', data);\n    });\n\n    // Console/Play integration events\n    this.eventBus.on('console:command', (data) => {\n      this.handleConsoleCommand(data);\n    });\n\n    this.eventBus.on('play:action', (data) => {\n      this.handlePlayAction(data);\n    });\n  }\n\n  /**\n   * Update UI with game state changes\n   */\n  updateUI(type, data) {\n    // This method provides a centralized way to update UI elements\n    // based on game state changes\n    this.eventBus.emit('ui:update', {\n      type,\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  /**\n   * Handle console commands for debugging and testing\n   */\n  handleConsoleCommand(data) {\n    const { command, args } = data;\n    \n    switch (command) {\n      case 'setScore':\n        this.gameState.score = parseInt(args[0]) || 0;\n        this.eventBus.emit('player:scoreChanged', { score: this.gameState.score });\n        this.logger.info(`Console: Score set to ${this.gameState.score}`);\n        break;\n        \n      case 'setLevel':\n        this.gameState.currentLevel = parseInt(args[0]) || 1;\n        this.eventBus.emit('player:levelCompleted', { level: this.gameState.currentLevel });\n        this.logger.info(`Console: Level set to ${this.gameState.currentLevel}`);\n        break;\n        \n      case 'addPowerUp':\n        const powerUpType = args[0] || 'speed';\n        this.eventBus.emit('powerup:activated', { \n          type: powerUpType, \n          duration: 10000 \n        });\n        this.logger.info(`Console: Power-up ${powerUpType} added`);\n        break;\n        \n      case 'unlockAchievement':\n        const achievementName = args[0] || 'test';\n        this.eventBus.emit('achievement:unlocked', { \n          name: achievementName,\n          description: 'Console unlocked achievement'\n        });\n        this.logger.info(`Console: Achievement ${achievementName} unlocked`);\n        break;\n        \n      case 'toggleSettings':\n        if (this.ui.settings) {\n          this.ui.settings.toggle();\n        }\n        break;\n        \n      case 'muteAudio':\n        if (this.systems.audio) {\n          this.systems.audio.muteAll();\n        }\n        break;\n        \n      case 'unmuteAudio':\n        if (this.systems.audio) {\n          this.systems.audio.unmuteAll();\n        }\n        break;\n        \n      default:\n        this.logger.warn(`Console: Unknown command: ${command}`);\n    }\n  }\n\n  /**\n   * Handle play actions for game interaction\n   */\n  handlePlayAction(data) {\n    const { action, params } = data;\n    \n    switch (action) {\n      case 'jump':\n        this.eventBus.emit('player:jump', params);\n        break;\n        \n      case 'collect':\n        this.eventBus.emit('player:collect', params);\n        break;\n        \n      case 'damage':\n        this.eventBus.emit('player:damage', params);\n        break;\n        \n      case 'pause':\n        this.pause();\n        break;\n        \n      case 'resume':\n        this.resume();\n        break;\n        \n      case 'restart':\n        this.stop();\n        this.start();\n        break;\n        \n      default:\n        this.logger.warn(`Play: Unknown action: ${action}`);\n    }\n  }\n\n  /**\n   * Start the game\n   */\n  async start() {\n    try {\n      this.logger.info('Starting game...');\n\n      // Initialize all managers\n      for (const [name, manager] of Object.entries(this.managers)) {\n        if (manager.initialize) {\n          await manager.initialize();\n        }\n      }\n\n      // Initialize performance monitoring\n      if (this.performanceMonitor.initialize) {\n        await this.performanceMonitor.initialize();\n      }\n\n      // Initialize input management\n      if (this.inputManager.initialize) {\n        await this.inputManager.initialize();\n      }\n\n      // Initialize mobile testing\n      if (this.mobileTesting.initialize) {\n        await this.mobileTesting.initialize();\n      }\n\n      // Initialize UI and audio systems\n      if (this.systems.audio && this.systems.audio.initialize) {\n        await this.systems.audio.initialize();\n      }\n\n      // Set up game state\n      this.gameState.isRunning = true;\n      this.gameState.startTime = Date.now();\n      this.gameState.lastUpdateTime = performance.now();\n\n      // Start game loop\n      this.gameLoopId = requestAnimationFrame(this.update);\n\n      // Emit game start event\n      this.eventBus.emit('game:started', {\n        timestamp: this.gameState.startTime,\n        config: this.config,\n      });\n\n      // Start background music\n      if (this.systems.audio) {\n        this.systems.audio.playMusic('mainTheme');\n      }\n\n      this.logger.info('Game started successfully');\n    } catch (error) {\n      this.logger.error('Failed to start game:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Pause the game\n   */\n  pause() {\n    if (this.gameState.isRunning && !this.gameState.isPaused) {\n      this.gameState.isPaused = true;\n      cancelAnimationFrame(this.gameLoopId);\n\n      this.eventBus.emit('game:paused', {\n        timestamp: Date.now(),\n        pauseTime: this.gameState.startTime,\n      });\n\n      this.logger.info('Game paused');\n    }\n  }\n\n  /**\n   * Resume the game\n   */\n  resume() {\n    if (this.gameState.isRunning && this.gameState.isPaused) {\n      this.gameState.isPaused = false;\n      this.gameState.lastUpdateTime = performance.now();\n      this.gameLoopId = requestAnimationFrame(this.update);\n\n      this.eventBus.emit('game:resumed', {\n        timestamp: Date.now(),\n      });\n\n      this.logger.info('Game resumed');\n    }\n  }\n\n  /**\n   * Stop the game\n   */\n  stop() {\n    this.gameState.isRunning = false;\n    this.gameState.isPaused = false;\n\n    if (this.gameLoopId) {\n      cancelAnimationFrame(this.gameLoopId);\n    }\n\n    // Cleanup managers\n    for (const [name, manager] of Object.entries(this.managers)) {\n      if (manager.cleanup) {\n        manager.cleanup();\n      }\n    }\n\n    // Cleanup performance monitoring\n    if (this.performanceMonitor.cleanup) {\n      this.performanceMonitor.cleanup();\n    }\n\n    // Cleanup input management\n    if (this.inputManager.cleanup) {\n      this.inputManager.cleanup();\n    }\n\n    // Cleanup mobile testing\n    if (this.mobileTesting.cleanup) {\n      this.mobileTesting.cleanup();\n    }\n\n    this.eventBus.emit('game:stopped', {\n      timestamp: Date.now(),\n      finalScore: this.gameState.score,\n      finalLevel: this.gameState.currentLevel,\n    });\n\n    this.logger.info('Game stopped');\n  }\n\n  /**\n   * Main game update loop\n   */\n  update(currentTime) {\n    if (!this.gameState.isRunning || this.gameState.isPaused) {\n      return;\n    }\n\n    const deltaTime = currentTime - this.gameState.lastUpdateTime;\n    this.gameState.lastUpdateTime = currentTime;\n\n    try {\n      // Update all managers\n      for (const [name, manager] of Object.entries(this.managers)) {\n        if (manager.update) {\n          manager.update(deltaTime, this.gameState);\n        }\n      }\n\n      // Update performance monitoring\n      if (this.performanceMonitor.update) {\n        this.performanceMonitor.update(deltaTime);\n      }\n\n      // Update input management\n      if (this.inputManager.update) {\n        this.inputManager.update(deltaTime);\n      }\n\n      // Update game objects\n      this.updateGameObjects(deltaTime);\n\n      // Continue game loop\n      this.gameLoopId = requestAnimationFrame(this.update);\n    } catch (error) {\n      this.logger.error('Error in game update loop:', error);\n      this.stop();\n    }\n  }\n\n  /**\n   * Update all game objects\n   */\n  updateGameObjects(deltaTime) {\n    // Update player\n    if (this.gameState.player && this.gameState.player.update) {\n      this.gameState.player.update(deltaTime);\n    }\n\n    // Update other game objects\n    this.gameState.gameObjects.forEach((obj) => {\n      if (obj.update) {\n        obj.update(deltaTime);\n      }\n    });\n\n    // Remove destroyed objects\n    this.gameState.gameObjects = this.gameState.gameObjects.filter(\n      (obj) => !obj.destroyed\n    );\n  }\n\n  /**\n   * Render the game\n   */\n  render() {\n    // This would typically be handled by a rendering system\n    // For now, we'll emit render events for managers to handle\n    this.eventBus.emit('game:render', {\n      gameState: this.gameState,\n      timestamp: performance.now(),\n    });\n  }\n\n  /**\n   * Handle input events\n   */\n  handleInput(inputType, data) {\n    if (!this.gameState.isRunning) {\n      return;\n    }\n\n    // Emit input event for managers to handle\n    this.eventBus.emit('game:input', {\n      type: inputType,\n      data: data,\n      timestamp: Date.now(),\n    });\n\n    // Handle player input\n    if (this.gameState.player && this.gameState.player.handleInput) {\n      this.gameState.player.handleInput(inputType, data);\n    }\n  }\n\n  /**\n   * Add a game object to the game\n   */\n  addGameObject(gameObject) {\n    this.gameState.gameObjects.push(gameObject);\n\n    this.eventBus.emit('game:objectAdded', {\n      object: gameObject,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Remove a game object from the game\n   */\n  removeGameObject(gameObjectId) {\n    const index = this.gameState.gameObjects.findIndex(\n      (obj) => obj.id === gameObjectId\n    );\n    if (index !== -1) {\n      const removedObject = this.gameState.gameObjects.splice(index, 1)[0];\n\n      this.eventBus.emit('game:objectRemoved', {\n        object: removedObject,\n        timestamp: Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Get current game state (for external access)\n   */\n  getGameState() {\n    return { ...this.gameState };\n  }\n\n  /**\n   * Get manager by name\n   */\n  getManager(name) {\n    return this.managers[name];\n  }\n\n  /**\n   * Get performance monitor\n   */\n  getPerformanceMonitor() {\n    return this.performanceMonitor;\n  }\n\n  /**\n   * Get input manager\n   */\n  getInputManager() {\n    return this.inputManager;\n  }\n\n  /**\n   * Get mobile testing utility\n   */\n  getMobileTesting() {\n    return this.mobileTesting;\n  }\n\n  /**\n   * Get performance report\n   */\n  getPerformanceReport() {\n    return this.performanceMonitor ? this.performanceMonitor.getPerformanceReport() : null;\n  }\n\n  /**\n   * Get mobile controls state\n   */\n  getMobileControlsState() {\n    return this.inputManager ? this.inputManager.getMobileControlsState() : null;\n  }\n\n  /**\n   * Get mobile test results\n   */\n  getMobileTestResults() {\n    return this.mobileTesting ? this.mobileTesting.getTestResults() : null;\n  }\n\n  /**\n   * Get UI system by name\n   */\n  getUI(name) {\n    return this.ui[name];\n  }\n\n  /**\n   * Get system by name\n   */\n  getSystem(name) {\n    return this.systems[name];\n  }\n\n  /**\n   * Get all active power-ups\n   */\n  getActivePowerUps() {\n    const now = Date.now();\n    const active = [];\n    \n    for (const [type, powerUp] of this.gameState.activePowerUps) {\n      if (now - powerUp.startTime < powerUp.duration) {\n        active.push({\n          type,\n          ...powerUp,\n          remainingTime: powerUp.duration - (now - powerUp.startTime)\n        });\n      } else {\n        // Power-up expired\n        this.gameState.activePowerUps.delete(type);\n        this.eventBus.emit('powerup:expired', { type });\n      }\n    }\n    \n    return active;\n  }\n\n  /**\n   * Execute console command (for external access)\n   */\n  executeConsoleCommand(command, ...args) {\n    this.eventBus.emit('console:command', { command, args });\n  }\n\n  /**\n   * Execute play action (for external access)\n   */\n  executePlayAction(action, params = {}) {\n    this.eventBus.emit('play:action', { action, params });\n  }\n\n  /**\n   * Get game statistics\n   */\n  getGameStats() {\n    return {\n      score: this.gameState.score,\n      level: this.gameState.currentLevel,\n      isRunning: this.gameState.isRunning,\n      isPaused: this.gameState.isPaused,\n      gameTime: this.gameState.startTime ? Date.now() - this.gameState.startTime : 0,\n      activePowerUps: this.getActivePowerUps(),\n      achievements: this.managers.achievements ? this.managers.achievements.getAllAchievements() : [],\n      challenges: this.managers.dailyChallenges ? this.managers.dailyChallenges.getActiveChallenges() : []\n    };\n  }\n\n  /**\n   * Update game configuration\n   */\n  updateConfig(newConfig) {\n    this.config = { ...this.config, ...newConfig };\n\n    // Notify managers of config changes\n    this.eventBus.emit('game:configChanged', {\n      config: this.config,\n      timestamp: Date.now(),\n    });\n  }\n\n  /**\n   * Cleanup and destroy the game instance\n   */\n  destroy() {\n    this.stop();\n\n    // Cleanup UI systems\n    if (this.ui.settings) {\n      this.ui.settings.cleanup();\n    }\n\n    // Cleanup audio systems\n    if (this.systems.audio) {\n      this.systems.audio.cleanup();\n    }\n\n    // Clear all event listeners\n    this.eventBus.removeAllListeners(); // Remove all listeners (no event parameter)\n\n    // Clear game state\n    this.gameState = null;\n    this.managers = null;\n    this.ui = null;\n    this.systems = null;\n\n    this.logger.info('GameRefactored destroyed');\n  }\n}\n\n// Export for use in other modules\nexport default GameRefactored;\n"],
  "mappings": "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",
  "names": []
}
